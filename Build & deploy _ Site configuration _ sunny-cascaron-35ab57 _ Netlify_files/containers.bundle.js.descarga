"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[2244],{75467:(G,B,t)=>{t.d(B,{Z:()=>f});var s=t(24246),M=t(27378),L=t(80715),l=t(23979),_=t(64614),O=t(84673),m=t(52968),o=t(12648),u=t(34571),i=t(7311);const e=n=>Math.floor(new Date().getTime()/1e3)-60*60*24*n,r=n=>{const{setIsLoadingApp:S}=(0,i.bn)(),P=n.site.get("analytics_instance_id");(0,M.useEffect)(()=>{n.onLoad(n),S(!1)},[P]);const E=n.component||n.children;return(0,s.jsx)(E,{...n})};function a(n,S){let{site:P,account:E}=S;return{paymentMethod:(0,m.DY)(n,E),paymentProvider:(0,_.nY)(E),pageviews:(0,l.PO)(n,P),uniqueVisitors:(0,l.lW)(n,P),topLocations:(0,l.Z$)(n,P),topSources:(0,l.nV)(n,P),topPages:(0,l.gg)(n,P),bandwidthUsed:(0,l.Tf)(n,P),notFound:(0,l.p_)(n,P),summary:(0,l.mq)(n,P),realUserMetrics:{enabled:P.get("rum_enabled")||!1,filterSelected:(0,o.ot)(),FCP:(0,o.Pn)(n,P,"FCP"),LCP:(0,o.Pn)(n,P,"LCP"),FID:(0,o.Pn)(n,P,"FID"),INP:(0,o.Pn)(n,P,"INP"),CLS:(0,o.Pn)(n,P,"CLS")},filterSelected:(0,l._$)()}}function c(n,S){let{account:P,site:E,hasCharts:U,apiVersion:g}=S;return{onEnable:v=>n((0,l.Dc)(v)),onEnableRUM:v=>{n((0,u.L3)(v,{rum_enabled:!0})).then(()=>{n((0,o.bF)(v,"FCP")),n((0,o.bF)(v,"LCP")),n((0,o.bF)(v,"FID")),n((0,o.bF)(v,"INP")),n((0,o.bF)(v,"CLS"))})},onDisableRUM:v=>{n((0,u.L3)(v,{rum_enabled:!1}))},onLoad:()=>{U&&E.get("analytics_instance_id")?(n((0,l.Te)(E)),n((0,l.Pc)(E)),n((0,l.mE)(E)),n((0,l.bc)(E)),n((0,l.Ww)(E)),n((0,l.Wo)(E)),n((0,l.XF)(E))):n((0,m.nS)(P)),U&&E.get("rum_enabled")&&(n((0,o.bF)(E,"FCP")),n((0,o.bF)(E,"LCP")),n((0,o.bF)(E,"FID")),n((0,o.bF)(E,"INP")),n((0,o.bF)(E,"CLS")),n((0,O.lZ)(E,{filter:E.getIn(["build_settings","repo_branch"]),state:"ready",from:e(7)})))},onPaymentProviderTokenUsed:v=>n((0,_.Uc)(P,v)),onSavePaymentMethod:v=>n((0,m.BX)(v,P)),onUpdateFilter:(v,p)=>{let{resolution:h,days:W,minusOffsetDays:C}=p;n((0,l.Te)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.Pc)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.Wo)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.Ww)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.bc)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.XF)(v,{resolution:h,days:W,minusOffsetDays:C})),n((0,l.mE)(v,{resolution:h,days:W,minusOffsetDays:C}))},onUpdateRUMFilter:(v,p,h)=>{let{resolution:W,days:C,minusOffsetDays:I}=p;n((0,o.bF)(v,"FCP",{resolution:"hour",days:C},h)),n((0,o.bF)(v,"FID",{resolution:"hour",days:C},h)),n((0,o.bF)(v,"LCP",{resolution:"hour",days:C},h)),n((0,o.bF)(v,"INP",{resolution:"hour",days:C},h)),n((0,o.bF)(v,"CLS",{resolution:"hour",days:C},h)),n((0,O.lZ)(v,{filter:v.getIn(["build_settings","repo_branch"]),state:"ready",from:e(C)}))},onDelete:()=>n((0,l.Ji)(E))}}const f=(0,L.$j)(a,c)(r)},84633:(G,B,t)=>{t.d(B,{Z:()=>eo,Q:()=>Qn});var s=t(24246),M=t(62935),L=t(63636),l=t(60042),_=t.n(l),O=t(83299),m=t(90046),o=t(27378),u=t(80715),i=t(34740),e=t(45106),r=t(31425),a=t(91800),c=t(941),f=t(60653),n=t(64614),S=t(84673),P=t(38086),E=t(5774),U=t(32712),g=t(34571),v=t(38751),p=t(93716),h=t(7442),W=t(22716),C=t(32322),I=t(54187),A=t(2909),K=t(99365),d=t(64276),R=t(70977),N=t(4711),w=t(76273),j=t(9633),$=t(64419),k=t(46998),z=t(58041),q=t(38978),st=t(71032),V=t(66520);const J=D=>{const[y,x]=(0,o.useState)(""),T=b=>{let{a11yMessage:Y}=b;Y&&(setTimeout(()=>{x(Y)},50),setTimeout(()=>{x("")},500))};return(0,o.useEffect)(()=>{T(D)},[D]),(0,s.jsx)("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"tw-sr-only",children:y})};function et(D){return{a11yMessage:(0,p._P)(D)}}const ct=(0,u.$j)(et,{setLoading:p.K4,setA11yMessage:p.FY})(J);var it=t(1576),tt=t(77962),at=t(6433);function rt(D){let{account:y,router:x}=D;var T,b;const{deployPath:Y,firstDeployModal:ot,site:ut}=(0,u.v9)(St=>{var Dt,F;const Mt=St.ui.getIn(["ui","firstDeployModal"]),Tt=(0,g.gG)(St,(Dt=Mt==null?void 0:Mt.data)==null?void 0:Dt.site_id);return{deployPath:(0,tt.DD)(Tt,"deploys",(F=Mt==null?void 0:Mt.data)==null?void 0:F.id),firstDeployModal:Mt,site:Tt==null?void 0:Tt.toJS()}}),nt=((T=ot==null?void 0:ot.data)==null?void 0:T.state)==="ready",_t=(0,u.I0)(),It=St=>{St!==at.Ct.onSubmit&&h.iND.appFirstDeployModalInteraction({modalInteraction:"dismissed"}),_t((0,p.Ic)())},xt=window.location.pathname===Y,Rt=()=>{h.iND.appFirstDeployModalInteraction({modalInteraction:"primaryCtaClicked"}),!xt&&Y?x.push(Y):x.push((0,tt.l_)(y))},mt=ot==null?void 0:ot.show,vt=(b=ot==null?void 0:ot.data)==null?void 0:b.site_id;return(0,o.useEffect)(()=>{mt&&h.iND.appFirstDeployModalDisplayed({site_id:vt,pageUrlPath:window.location.pathname,success:nt})},[mt,vt,nt]),mt?(0,s.jsx)(it.Z,{site:ut,onHide:It,onSave:Rt,isOnDeployPage:xt,success:nt}):null}const X=rt;var Q=t(24986),pt=t(61543),gt=t(66632),wt=t(60147),tn=t(4446),Jt=t(7311),H=t(90867),Pt=t(28739),$t=t(1081),Lt=t(45180),yn=t(41726),Bn=t(16957),Wn=t(8989),Kn=t(26563),Ct=t(17320),xn=t(72746),un=t(54034),nn=t(83303),Fn=t(46408),Et=t(68854),jn=t(12419),on=t(54856),dn=t(13287),en=t(53562),Nn=t(55492),gn=t(58465),Zn=t(75518),wn=t(57742),En=t(87230),$n=t(48651),zn=t(77528),Hn=t(36361);function Vn({isMobileNavOpen:D,setIsMobileNavOpen:y,event:x,secondaryNav:T,mobileNavButton:b}){var Y;const{key:ot,shiftKey:ut,target:nt}=x;if(!D||ot!=="Tab"&&ot!=="Escape")return;const _t=(Y=T==null?void 0:T.querySelectorAll("a, button"))!=null?Y:[],It=_t[_t.length-1];(ot==="Escape"||!ut&&nt===It||ut&&nt===b)&&(y(!1),nt!==b&&(x.preventDefault(),b==null||b.focus()))}const vn="isNavCollapsed";function Xn(D){localStorage.setItem(vn,`${D}`)}function bn(){return localStorage.getItem(vn)==="true"||!1}const Gn=10*60*1e3;let zt="",fn="",Ht;const Jn=()=>!0;function Qn(D){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.pathname;const{account:x,site:T,params:b}=D,Y=(0,tt.fR)(y,b),ot=nn.EO.getIn(Y.slice(0,2));return((ot==null?void 0:ot.get("isVisible"))||Jn)({account:x,site:T})}function Yn(D){var y;return(y=D[D.length-1])==null?void 0:y.back}function kn(D){let{routes:y,location:x,params:T,navigation:b}=D;const{pathname:Y,search:ot}=x,ut=(0,tt.fR)(Y,T)[1],nt=Yn(y)&&(b==null?void 0:b.get(ut));return nt&&[Ct.Z6.TEAM_PLUGINS].some(_t=>(0,tt.LX)(_t,nt.get("path")))?nt:nt&&nt.set("path",`/${(0,tt.Kn)(Y).slice(0,-1).join("/")}${ot}`)}function sn(){if(!(0,Et.St)("tracking_session_id")){const D=(0,r.Z)();(0,Et.D9)("tracking_session_id",D)}}function Pn(){(0,Et.St)("tracking_session_id")&&(0,Et.lD)("tracking_session_id")}function qn(D){zt=window._sift=window._sift||[],zt.push(["_setAccount",V.default.siftBeaconKey]),zt.push(["_setSessionId",D]),zt.push(["_setUserId",""]),zt.push(["_trackPageview"]);const y=document.createElement("script");y.src="https://cdn.sift.com/s.js",document.body.prepend(y)}const to=D=>{var y;const{isAuthViewReady:x,account:T,accounts:b,api:Y,children:ot,excludeAppNav:ut=!1,excludeSecondaryNav:nt=!1,loadNotifications:_t,loadSitesNavList:It,onDragEnter:xt,onDragLeave:Rt,onDragOver:mt,onDrop:vt,onLoad:St,redirect:Dt,user:F,userId:Mt,params:Tt,routePath:lt,onChangeRoutePath:Qt,showGuidedOnboarding:Yt,currentProviderSecureDecision:kt,onCancelDeploy:Ut,site:yt,sitesNavList:Vt,location:Xt,hideAppSwitcher:an=!1}=D,{isLoadingApp:Ft}=(0,Jt.bn)(),[Zt,jt]=(0,o.useState)(!0),[rn,Nt]=(0,o.useState)(!1),[_n,so]=(0,o.useState)(null),[ao,ro]=(0,o.useState)(null),[mn,io]=(0,o.useState)(kt),[Dn,Mn]=(0,o.useState)(!1),[lo,On]=(0,o.useState)(!1),[co,pn]=(0,o.useState)(!1),Ln=T?Number(T.getIn(["support_level"])):0,uo=F?F.get("email"):null,go=T?T.getIn(["support_priority"]):0,ln=T==null?void 0:T.get("slug"),Tn=(0,Wn.Z)(Mt),bt=(0,Nn.I0)(),{themePreference:Eo,setThemePreference:vo}=(0,Pt.Fg)(),[Bt,hn]=(0,o.useState)(bn()),Gt=(y=(0,u.v9)(p.oL)["toggle-navigation"])!=null?y:{defaultModifiers:["Meta"],defaultCharacter:"\\"};(0,o.useEffect)(()=>{bt((0,p.SP)())},[bt]),(0,Bn.K)({targetKey:Gt.defaultCharacter,modifiers:{metaKey:Gt.defaultModifiers.includes("Meta"),altKey:Gt.defaultModifiers.includes("Alt"),ctrlKey:Gt.defaultModifiers.includes("Control"),shiftKey:Gt.defaultModifiers.includes("Shift")}},()=>hn(Z=>!Z)),(0,o.useEffect)(()=>{Xn(Bt)},[Bt]);const[ft,qt]=(0,o.useState)(!1),An=(0,o.useRef)(null),Cn=(0,o.useRef)(null),In=Z=>Vn({isMobileNavOpen:ft,setIsMobileNavOpen:qt,event:Z,secondaryNav:Cn.current,mobileNavButton:An.current}),fo=(0,Lt.P)("project_golduck_ui"),Po=(0,Lt.P)("project_trumbeak_ui"),_o=(0,Lt.P)("project_libaniferous_ui"),mo=()=>{rn||(Nt(!0),St({siteName:Tt.name}).then(Z=>{Nt(!1),!Z&&jt(!1)}).catch(Z=>{Nt(!1),so(Z),jt(!1)}).finally(()=>{requestIdleCallback(()=>{Array.isArray(window._asyncScriptsWaitingLoad)&&(window._asyncScriptsWaitingLoad.map(Z=>Z()),window._asyncScriptsWaitingLoad=[])},{timeout:2e3})}))},Rn=()=>{const Z=window.location.hash;Z&&Z!==ao&&ro((0,nn.dP)(Z)&&Z)},Do=()=>{window.addEventListener("hashchange",Rn,!1),document.addEventListener("dragenter",xt,!1),document.addEventListener("dragleave",Rt,!1),document.addEventListener("dragover",mt,!1),document.addEventListener("drop",vt,!1)},Mo=()=>{window.removeEventListener("hashchange",Rn),document.removeEventListener("dragenter",xt),document.removeEventListener("dragleave",Rt),document.removeEventListener("dragover",mt),document.removeEventListener("drop",vt)};(0,yn.Z)(()=>{_t(D)},Gn),(0,o.useEffect)(()=>{Tn!==Mt&&mo()},[Mt,Tn]),(0,o.useEffect)(()=>{fn!==lt&&(fn=lt,Ht=(0,en.ao)({routePath:lt}),Ht.whenDataFullyLoaded({timeout:15e3,whenDFLCallback:Z=>{let{viewDFLTimedOut:dt}=Z;Ht.markDataFullyLoaded({viewDFLTimedOut:dt})}})),!Zt&&!Ft&&Ht&&Ht.markInitialRender()},[Zt,Ft,lt]),(0,o.useEffect)(()=>{!T||!F||((0,en.AC)({id:F.get("id")||"",email:F.get("email"),accountId:T.get("id"),plan:T.get("type_slug")}),(0,en._z)("buildUTCTime",1693061967060))},[T,F]);const cn=yt==null?void 0:yt.get("name");(0,o.useEffect)(()=>{!ln||!cn||It(ln,cn)},[ln,cn,It]),(0,o.useEffect)(()=>{F&&!x&&jt(!0),x&&(jt(!1),on.Z.setContext("sites",[],async(Z,dt)=>{const{data:Ot}=await Y.sites({searchTerm:Z,page:dt});return Ot.map(Wt=>(0,xn.rm)(Wt))}))},[F,x,Y]),(0,o.useEffect)(()=>{Xt.search.includes("request_hp_edge=true")?On(!0):Xt.search.includes("request_background_functions=true")&&pn(!0)},[Xt.search]),(0,o.useEffect)(()=>{var Z;F!=null&&F.get("id")&&(T!=null&&T.get("slug"))&&on.Z.launch({accountSlug:(Z=T.get("slug"))!=null?Z:"",dispatch:bt,setThemePreference:vo,themePreference:Eo,user:F})},[F==null?void 0:F.get("id"),T==null?void 0:T.get("slug")]),(0,o.useEffect)(()=>(Do(),sn(),qn((0,Et.St)("tracking_session_id")),(0,Et.St)("team_upgrade_flow")||(0,Et.D9)("team_upgrade_flow",JSON.stringify({})),()=>{Mo(),Pn()}),[]),(0,o.useEffect)(()=>{if(Dt)return i.mW.replace(Dt)},[Dt]),(0,o.useEffect)(()=>{const Z=i.mW.listen(()=>{qt(!1)}),dt=(0,$t.X)("lg",Ot=>{Ot&&qt(!1)});return()=>{dt(),Z()}},[]),(0,o.useEffect)(()=>i.mW.listenBefore(dt=>{let{pathname:Ot,search:Wt,hash:ht}=dt,Kt=Ot||"";if(Kt.length>1&&Kt.endsWith("/")&&(Kt=Kt.slice(0,-1)),Ct.mS.includes(Kt)||Ct.Vi.some(At=>At(Kt))){jt(!0);const At=new URL(Ot,window.location.origin);At.search=Wt,At.hash=ht,console.log("direct navigation to a token managing route. triggering full page nav",At.toString()),window.location.href===At.toString()?window.location.reload():(window.location.href=At.toString(),setTimeout(()=>{window.location.reload()},50))}}),[]),(0,o.useEffect)(()=>{Qt(lt),(0,Et.D9)("routePath",lt)},[Qt,lt]),(0,o.useEffect)(()=>{x&&mn&&D.setPaymentProviderSecureDecisionState(!0)},[x,mn]),(0,o.useEffect)(()=>{const Z=(0,Et.le)("drop-token"),dt=(0,Et.le)("dropUploadInterrupted"),Ot=(0,Et.le)("dropDeployId"),Wt=(0,Et.le)("dropSiteName");dt&&Ot?(Ut(Wt,Ot),(0,P.Tu)()):x&&Z&&Wt&&bt((0,P.ag)())},[Ut,x,bt]);const Sn=D.router;(0,o.useEffect)(()=>{var Z;window!=null&&window.drift&&(0,Fn.z$)(T)&&((Z=window==null?void 0:window.drift)==null||Z.load(un.k))},[T,window.drift]),(0,o.useEffect)(()=>{window.drift&&Sn.location.search.includes("supportChat=true")&&window.drift.on("ready",Z=>{Z.startInteraction({interactionId:un.x})})},[Sn,window.drift]);const Oo=()=>{const Z=lt===Ct.Z6.TEAM_OVERVIEW,dt=lt===Ct.Z6.DROP_BASE||lt.startsWith(Ct.Z6.DROP_DETAIL),Ot=Yt&&Z,Wt="before:tw-bg-gray-lighter dark:before:tw-bg-gray-darkest before:tw-h-[660px] md:before:tw-h-[560px] lg:before:tw-h-[460px]",ht=lt===Ct.Z6.USER_LABS,Kt=_()("dark:hover:tw-text-white focus:tw-text-teal-darkest hover:tw-bg-teal-lightest hover:tw-text-teal-darkest tw-flex tw-flex-nowrap tw-items-center tw-justify-center tw-w-full lg:tw-w-auto lg:tw-px-[12px]",ht?"dark:tw-text-white":"dark:tw-text-gray-light",ht?"dark:tw-bg-gray-dark":"dark:tw-bg-transparent",ht?"tw-bg-gray-lighter":"tw-bg-transparent",ht?"tw-text-black":"tw-text-gray-darker",ht?"tw-font-bold":"!tw-font-medium"),At="tw-mt-[calc(calc(50vh)-40px)] tw-ml-[-12px] tw-relative",Un=F?(0,s.jsxs)(s.Fragment,{children:[_o&&(0,s.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,s.jsxs)(Zn.Z,{level:"tertiary",to:Ct.Z6.USER_LABS,onClick:()=>{h.iND.appPrimaryNavLabsClicked({currentPage:lt,accountId:(T==null?void 0:T.get("id"))||"",accountType:(T==null?void 0:T.get("type_name"))||""})},className:Kt,children:[(0,s.jsx)(En.f,{className:"tw-shrink-0 tw-mr-[12px]"+(ht?" tw-hidden":""),focusable:"false",name:"nav-labs"}),(0,s.jsx)(En.f,{className:"tw-shrink-0 tw-mr-[12px]"+(ht?"":" tw-hidden"),focusable:"false",name:"nav-labs-active"}),(0,s.jsx)("span",{className:"layout-toggleable-bold-text","data-text-content":"Labs",children:"Labs"})]})}),(0,s.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,s.jsx)($n.Z,{items:D.notifications,lastReadAt:D.lastNotificationReadAt,onRead:D.onReadNotifications,onClick:D.onClickNotification,align:"right"})}),(0,s.jsx)("div",{className:"tw-flex tw-flex-1 tw-justify-center",children:(0,s.jsx)(z.Z,{account:T,align:"right",level:Ln,onClickUpgrade:()=>Mn(!0),supportPriority:go,userEmail:uo})}),Dn&&(0,s.jsx)(q.Z,{supportLevel:Ln,show:Dn,onHide:()=>Mn(!1),user:F,account:T,accounts:b})]}):(0,s.jsx)(d.V,{});return x&&kt!==!0&&fo&&setTimeout(()=>Promise.resolve(io(!0))),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ct,{}),(0,s.jsx)(tn.Z,{account:T,user:F}),(0,s.jsx)(wt.Z,{}),(0,s.jsx)(Q.Z,{account:T,user:F}),(0,s.jsx)(pt.Z,{channel:"UserChannel",listener:jn.Qm}),Po?(0,s.jsx)(H.Z,{account:T,user:F}):null,(0,s.jsxs)("div",{"data-no-secondary-nav":ut||nt?"true":void 0,className:"app tw-relative tw-h-full tw-w-full"+(dt?" page-drop__wrapper":""),children:[(0,s.jsx)(N.Z,{}),!ut&&(0,s.jsx)(A.Z,{user:F,isDrop:dt,isMobileNavOpen:nt?!1:ft,hideAppSwitcher:an,notifications:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.Z,{account:T,accounts:b}),(0,s.jsx)(k.Z,{account:T})]}),mobileMenu:!F||nt?null:(0,s.jsx)(R.S,{ref:An,isSecondaryNavOpen:ft,onClick:()=>qt(po=>!po),onKeyDown:In}),appSwitcher:(0,s.jsx)(gn.Z,{organization:D.organization,organizations:D.organizations,account:T,accounts:D.accounts,site:yt,sites:Vt,isDrop:dt,user:F}),actions:Un,logo:(0,s.jsx)(gn.g,{isDrop:dt,isPublic:yt==null?void 0:yt.get("public"),account:T}),commandPalette:F&&(0,s.jsx)(K.Z,{onClick:()=>{h.iND.appPrimaryNavCommandPaletteClicked({currentPage:lt,variant:"fauxinputty"}),on.Z.open()}}),userDropdown:(0,s.jsx)(w.Z,{user:F,onLogout:D.onLogout,className:"tw-h-[36px] tw-w-[36px]"})}),(0,s.jsxs)("div",{className:"tw-relative tw-flex tw-min-h-full",children:[!ut&&!nt&&(0,s.jsx)("div",{className:_()('tw-min-w-0 [[data-page="not-found"]_&]:tw-hidden',ft?"tw-w-full":"lg:tw--mt-[var(--headerHeight)]",!Bt&&"lg:tw-w-[360px]"),children:(0,s.jsxs)("div",{className:"tw-sticky tw-inset-x-0 tw-top-0 lg:tw-min-h-screen "+(ft?"tw-min-h-full":"tw-hidden tw-pt-[var(--headerHeight)] lg:tw-flex"),children:[(0,s.jsx)("div",{className:_()("secondary-nav-container tw-sticky tw-top-0 tw-bottom-0 tw-border-gray-light dark:tw-border-gray-dark lg:tw-border-r lg:tw-border-r-solid",ft?"tw-h-full":"lg:tw-h-[calc(100vh-var(--headerHeight))] lg:tw-overflow-y-auto",ft?"tw-w-full":Bt?" tw-w-[58px]":"tw-w-[360px]"),children:(0,s.jsxs)("div",{className:"tw-columns tw-flex tw-h-full tw-w-full tw-flex-col tw-break-words tw-p-1"+(ft?"":" tw-overflow-x-hidden"),children:[(0,s.jsx)(R.a,{collapsedView:Bt,ref:Cn,className:"tw-pb-1",actions:Un,navigation:D.navigation,router:D.router,backTo:D.backTo,routePath:lt,account:T,onKeyDown:ft?In:void 0}),(0,s.jsx)("div",{className:"transition-appearance tw-sticky tw-bottom-3 tw-left-0 tw-mt-auto tw-hidden tw-whitespace-nowrap tw-bg-bgApp tw-px-2 lg:tw-block"+(Bt?" tw-opacity-0":""),children:!ft&&!Bt&&(0,s.jsx)(st.Y,{account:T})})]})}),!ft&&(0,s.jsx)("div",{className:At,children:(0,s.jsx)(Hn.Z,{onToggle:hn,isCollapsed:Bt})})]})}),(0,s.jsx)("div",{className:"tw-w-full"+(ft?" tw-hidden":""),children:(0,s.jsxs)("div",{className:"tw-relative tw-mx-auto tw-grid tw-min-h-full tw-grid-cols-1",children:[(0,s.jsxs)("main",{id:"main",className:_()("app-main",Ot&&Wt),tabIndex:-1,children:[(0,s.jsx)(wn.Z,{}),(0,s.jsx)(j.Z,{account:T}),_n?(0,s.jsx)(Kn.Z,{error:_n}):ot]}),!ut&&(0,s.jsx)(I.Z,{})]})})]})]}),(0,s.jsx)(X,{router:D.router,account:T}),T&&b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(C.Z,{show:lo,currentAccount:T,hideTaskModal:()=>On(!1)}),(0,s.jsx)(W.Z,{show:co,account:T,accounts:b,onHide:()=>pn(!1)})]})]})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(zn.Z,{show:(Ft||Zt)&&!x}),!Zt&&!Dt&&(0,s.jsx)(gt.Z,{isAuthViewReady:x,children:Oo()})]})},no=(D,y)=>{let{params:x,routes:T,location:b,children:Y}=y;var ot,ut,nt,_t;const{name:It,account_slug:xt,organization_slug:Rt}=x,mt=(0,g.lH)(D,It),vt=(0,f.HF)(D),St=(0,a.L3)(D),Dt=xt||mt&&mt.get("account_slug"),F=Dt&&(0,a.bk)(D,Dt)||(0,a.uW)(D),Mt=(0,p.Jh)(D,Dt);!x.account_slug&&(F!=null&&F.get("slug"))&&!x.name&&(x.account_slug=F.get("slug"));const Tt=Rt?null:(0,U.Hh)(D),lt=F==null?void 0:F.get("organization_id"),Qt=Rt?(0,U.mT)(D,Rt):Tt==null?void 0:Tt.find(Nt=>Nt.get("id")===lt),Yt=(0,nn.Ti)({pathname:b.pathname,params:x,account:F,site:mt}),kt=T.map(Nt=>Nt.path).filter(Boolean).pop(),Ut=[...T].pop();let yt=Ut==null?void 0:Ut.excludeAppNav,Vt=Ut==null?void 0:Ut.excludeSecondaryNav;const{hideAppSwitcher:Xt}=Ut||{};if(!((ot=Y==null?void 0:Y.props)!=null&&ot.route))throw new Error("Children of <App> must be a route");(0,dn.VF)(F)&&(Vt=!0),(0,dn.kL)(F)&&(Vt=!0),(_t=(nt=(ut=Y==null?void 0:Y.props)==null?void 0:ut.route)==null?void 0:nt.component)!=null&&_t.excludeAppNav&&!(vt!=null&&vt.get("id"))&&(yt=!0);const an=!!vt&&!!F,Ft=b.pathname==="/"&&F&&(0,tt.l_)(F),Zt=Ft&&b.search?`${Ft}${b.search}`:Ft,jt=(0,p.jS)(D),rn=(0,n.xm)(D);return{isAuthViewReady:an,user:vt,site:mt,sitesNavList:Mt,params:x,account:F,accounts:St,api:(0,c.ac)(D),organization:Qt,organizations:Tt,navigation:Yt,redirect:Zt,backTo:kn({routes:T,location:b,params:x,navigation:Yt}),userId:vt&&vt.get("id")||null,notifications:(0,E._6)(D),lastNotificationReadAt:(0,E.P$)(D),excludeAppNav:yt,excludeSecondaryNav:Vt,routePath:kt,showGuidedOnboarding:jt,currentProviderSecureDecision:rn,hideAppSwitcher:Xt}},oo=D=>({setA11yMessage:function(){return D((0,p.FY)(...arguments))},onLoad:y=>{let{siteName:x}=y;return D((0,f.$D)()).then(T=>(x&&D((0,g.EQ)(x)),T&&(D((0,U.Wu)()),D((0,a.vP)()),D((0,E.oA)()),sn()),T)).catch(T=>T.code===401?D((0,f.Ov)(window.location.pathname)):Promise.reject(T))},loadNotifications:y=>{let{user:x}=y;return x&&D((0,E.oA)())},loadSitesNavList:(y,x)=>D((0,p.Gh)(y,x)),onReadNotifications:y=>D((0,E.A7)(y)),onClickNotification:y=>D((0,E.y9)(y)),onLogout:y=>{D((0,f.TX)(y)),Pn(),sn()},onDragEnter:y=>{D((0,P.f$)())},onDragLeave:y=>{(y.clientX<=0||y.clientY<=0||y.clientX>window.innerWidth||y.clientY>window.innerHeight)&&D((0,P.Xs)())},onDragOver:y=>{y.preventDefault()},onDrop:y=>{y.preventDefault(),D((0,P.Xs)())},trackUpgrade:(y,x)=>{D((0,v.L9)({event:y,...x}))},onCancelDeploy:(y,x)=>{D((0,S.li)((0,m.Map)({name:y}),(0,m.Map)({id:x})))},onChangeRoutePath:y=>{D((0,p.Qf)(y))},setPaymentProviderSecureDecisionState:y=>D((0,n.ot)(y))}),eo=(0,L.oS)({sdkKey:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",options:{apiProxyURL:"https://featureflags.netlify.com",deferInitialization:!0}})((0,e.qC)((0,u.$j)(no,oo))(to))},9251:(G,B,t)=>{t.d(B,{Z:()=>K});var s=t(24246),M=t(90046),L=t(27378),l=t(80715),_=t(941),O=t(84673),m=t(44601),o=t(81722),u=t(97736),i=t(16608),e=t(32587),r=t(55492);const a=d=>{const R=[/Failed during stage/i,/Failing build/i,/Build exited unexpectedly/i,/Build exceeded (maximum allowed runtime|memory limits)/i,/The function "[^"]+" is larger than the \d+\w{2} limit/i];for(const N of R)if(N.test(d))return"fail"};function c(d){return{log:"Deploy skipped",ts:d.get("created_at")}}function f(d){return{log:"[WARNING] We are experiencing internal issues storing deploy logs. Some log lines may be missing.",ts:d.get("created_at")}}function n(d){return{log:"Deploy request is pending review",ts:d.get("created_at")}}function S(d){return{log:"Deploy request was rejected",ts:d.get("updated_at")}}function P(){return{log:"[ERROR] Deploy logs are currently unavailable. We are working on resolving the issue.",ts:new Date}}function E(d){return{log:d.get("state")==="new"?"Queueing build":"There is no log for this deploy",ts:new Date().toString()}}function U(d){return d&&!!d.get("skipped")}function g(d){return d&&!!d.get("skipped_log")}function v(d){return d&&d.get("state")==="pending_review"}function p(d){return d&&d.get("state")==="ready"}function h(d){return d&&d.get("state")==="rejected"}function W(d){return d&&d.get("state")==="error"}function C(d){const R=(0,u.f3)(d),N=d.log||d.msg||"",w=/(Failed during stage 'building site': Build script returned non-zero|Command failed with) exit code:? ([\d]+)/i;if(N.match(w)){const[,,j]=N.match(w);return`${R} (https://ntl.fyi/exit-code-${j})`}return R}function I(d){const{deploy:R,children:N,overview:w,onLoadDeployPluginRuns:j}=d,[$,k]=(0,L.useState)((0,o.fl)(R==null?void 0:R.get("state"))),[z,q]=(0,L.useState)(null),st=(0,L.useRef)(!1),V=(0,L.useRef)(null),J=(0,L.useRef)(null),et=(0,L.useRef)(null),ct=(0,L.useRef)(null),it=R==null?void 0:R.get("id"),tt=R?v(R):!1,at=R?W(R):!1,rt=(0,r.I0)();(0,L.useEffect)(()=>{p(R)&&k(!0)},[R]),(0,L.useEffect)(()=>{if(!(!it||w))return pt(R),()=>{st.current=!0,Q()}},[it,tt,w]);const X=H=>{if(!H)return;if(U(H))return gt(c(H));if(h(H))return gt(S(H));if(v(H))return gt(n(H));g(H)&&gt(f(H),!1);const Pt={type:"socketeer",siteId:H.get("site_id"),deployId:H.get("id"),resource:e.Z.BUILD};if(V.current=(0,i.u)(Pt),!V.current)return gt(E(H));V.current.listen(wt,tn),J.current=setInterval(Jt,1e3)},Q=()=>{J.current&&clearInterval(J.current),V.current&&V.current.close()},pt=H=>{Q(),X(H)},gt=function(H){let Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;st.current||(et.current=(et.current||(0,M.List)()).push(H),Pt&&Jt())},wt=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E(R);const Pt=H.log,$t=H.ts||H.time;if(H.section){const Lt=a(Pt);gt({...H,...Lt&&{status:Lt}},!1)}else gt(H,!1);if(/onSuccess complete/.test(Pt)||/In "onSuccess" event in "@netlify\/plugin-lighthouse"/.test(Pt))j==null||j(R==null?void 0:R.get("id"));else if(/Fetching cached dependencies/.test(Pt))ct.current=$t;else if(/Starting post processing/.test(Pt)){const Lt=ct.current;Lt&&$t&&rt((0,O.E)(R,Lt,$t))}},tn=H=>{gt(P()),Q()},Jt=()=>{!st.current&&q(et.current)};return N?(0,L.cloneElement)(N,{...d,log:z}):(0,s.jsx)(m.Z,{...d,log:z,streaming:!$,formatLogEntry:at?C:u.f3,deployIsDone:$})}function A(d,R){let{deploy:N,site:w,overview:j}=R;return{deploy:j?(0,O.dk)(d,w):N,fetchLog:function(){return(0,_.ac)(d).deployLog(...arguments)}}}const K=(0,l.$j)(A)(I)},43346:(G,B,t)=>{t.d(B,{Z:()=>m});var s=t(24246),M=t(80715),L=t(34571),l=t(80642);const _=o=>{let{dragging:u,uploading:i,intro:e,image:r,site:a,accountSlug:c,dispatch:f,trackEvent:n,scrollIntoView:S=!0,createdVia:P=""}=o;const E=U=>(n&&n(),(a?()=>Promise.resolve(a):()=>f((0,L.UJ)(c,P)))().then(v=>f((0,L.mV)(v,U))));return(0,s.jsx)(l.Z,{scrollIntoView:S,onUpload:E,dragging:u,uploading:i,image:r,intro:e})};function O(o,u){return{dragging:o.dragging&&o.dragging.get("active"),uploading:!!o.uploadState}}const m=(0,M.$j)(O)(_)},87061:(G,B,t)=>{t.d(B,{Z:()=>O});var s=t(24246),M=t(27378),L=t(17079),l=t(7311);const O=m=>{const{site:o}=m,{setIsLoadingApp:u}=(0,l.bn)();return(0,M.useEffect)(()=>{u(!1)},[u]),(0,s.jsx)(L.Z,{...m,usesEdgeFunctions:o.get("use_edge_functions")})}},35074:(G,B,t)=>{t.d(B,{Z:()=>u});var s=t(24246),M=t(27378),L=t(80715),l=t(57240),_=t(43543);const O=i=>((0,M.useEffect)(()=>{i.onLoad(i)},[]),(0,s.jsx)(_.Z,{...i})),m=(i,e)=>{let{site:r}=e;return{services:(0,l.M2)(i,r)}},o=i=>({onLoad:e=>{let{site:r}=e;return i((0,l.k4)(r))}}),u=(0,L.$j)(m,o)(O)},38705:(G,B,t)=>{t.d(B,{Z:()=>C});var s=t(24246),M=t(90046),L=t.n(M),l=t(19783),_=t.n(l),O=t(27378),m=t(62021),o=t(96666),u=t(7442),i=t(10295),e=t(3926),r=t(32365),a=t(97736),c=t(16608),f=t(32587),n=t(55492),S=t(34567);function P(I){const A=I==null?void 0:I.get("level");return A!=="WARN"&&A!=="ERROR"?"":"tw-border tw-border-r-0 tw-border-l-0 tw-border-solid "+(A==="WARN"?"tw-border-gold-darker tw-bg-gold-darkest":"tw-border-red-darker tw-bg-red-darkest")}const E=200,U="md:tw-mt-0 tw-ml-0 tw-mt-0 tw-mb-2 tw-w-full xl:tw-mb-0 xl:tw-basis-1 xl:tw-grow xl:tw-mr-0",g=()=>i.Z.getInitialDateRange(),v=I=>{const[A,K]=(0,O.useState)((0,M.List)()),d=(0,O.useRef)((0,M.List)()),R=(0,O.useRef)(null),{dateTimeRange:N,streaming:w}=I,j=(0,O.useCallback)(_()(()=>{K(d.current)},E,{leading:!0}),[]);return(0,O.useEffect)(()=>{var $;const k=()=>{var q,st;if(R.current)return;const{site:V,func:J,user:et,log_type:ct}=I,it=V.get("id"),tt=J.get("n"),at=(0,e.XF)(J).replace(/\./g,"-"),rt=`/functions/${it}/${at}/${tt}/log`;R.current=(0,c.u)({type:ct||"socketeer",resource:f.Z.FUNCTION,functionId:J.get("oid")||J.get("id"),siteId:it,apiToken:et.get("access_token"),awsAccountId:J.get("a"),path:rt,fromDatetime:(q=N.from)==null?void 0:q.toISOString(),toDatetime:(st=N.to)==null?void 0:st.toISOString()}),R.current.listen(X=>{X&&(d.current=(0,M.fromJS)([...d.current,X]),j())},X=>{d.current=(0,M.fromJS)([...d.current,{ts:new Date,log:"[ERROR] Function logs are currently unavailable. We are working on resolving the issue."}]),j()})},z=()=>{R.current&&(R.current.close(),R.current=null)};if(($=d.current)!=null&&$.size&&(d.current=(0,M.List)(),K(d.current)),!w){z();return}return k(),()=>{z()}},[w,N.to,N.from]),{logs:A,streaming:I.streaming,source:"stream"}},p=I=>{let{site:A,scope:K,filtersValue:d,func:R,dateTimeRange:N,streaming:w,...j}=I;var $,k;const z=A==null?void 0:A.get("id"),q=R==null?void 0:R.get("n"),st=(0,n.I0)(),V=($=N.from)==null?void 0:$.getTime(),J=(k=N.to)==null?void 0:k.getTime(),et=(0,n.v9)(Q=>{const pt=(0,o.x0)(Q,A,K);return pt==null?void 0:pt.get("branch")}),ct=(0,n.v9)(Q=>(0,m.ZF)(Q,z,q,{branch:et,q:d.term,from:V,to:J})||null),it=(0,n.v9)(Q=>(0,m.rm)(Q,z,q,{branch:et,q:d.term,from:V,to:J})||(0,M.List)()),tt=(0,n.v9)(Q=>(0,m.lf)(Q,z,q,{branch:et,q:d.term,from:V,to:J})),at=(0,O.useRef)(new Set),rt=!!(it!=null&&it.size)&&!ct,X=async()=>{const Q=`${ct||"initial"}-${d.term}-${V}-${J}-${et}`;at.current.has(Q)||(at.current.add(Q),await st((0,m.X4)(z,q,{from:new Date(V).getTime(),to:new Date(J).getTime(),q:d.term,next_cursor:ct,branch:et})))};return(0,O.useEffect)(()=>{w||X()},[w,d.term,V,J]),{logs:it,lastPage:rt,fetchMoreLogs:X,streaming:!1,fetching:tt,source:"page"}},h=I=>{const A=v(I),K=p(I);return!I.streaming?K:A},C=I=>{const[A,K]=(0,O.useState)({term:""}),[d,R]=(0,O.useState)(g()),[N,w]=(0,O.useState)(!0),j=I.account.get("id")||"",{fetching:$,streaming:k,logs:z,lastPage:q,fetchMoreLogs:st,source:V}=h({...I,streaming:N,dateTimeRange:d,filtersValue:A}),J=(0,O.useMemo)(()=>a.E1,[]),et=(0,O.useMemo)(()=>a.Zh,[]);(0,O.useEffect)(()=>{K(X=>({...X,dateTimeRange:d}))},[d]);const ct=X=>{K(Q=>({...Q,term:X}))},it=(X,Q)=>{const gt=(X==null?void 0:X.get("type"))==="report"&&(X==null?void 0:X.get("level"))==="INFO"?X.set("level",""):X;return["log","requestId","level"].map(wt=>gt==null?void 0:gt.get(wt)).filter(Boolean).join(" ").toLowerCase().includes(Q.term.toLowerCase())},tt=X=>{let{range:Q,id:pt}=X;w(pt==="Real-time"),R(Q)},at=V==="stream"||V==="page"&&$?"Waiting for logs":"No results found for query",rt="lambda";return(0,s.jsx)(r.Z,{datepicker:(0,s.jsx)(i.Z,{account:I.account,isUnsupportedBackgroundFunction:(0,e.Oj)(I.func),onChange:tt,functionsType:rt}),log:z.isEmpty()?null:z,fetching:$,streaming:k,fixedHeight:!0,noWrap:!0,emptyLogMessage:at,title:"Function log",formatLogEntry:J,getLogLineClasses:P,scrollPause:!0,filters:A,lastPage:q,filterFn:V==="stream"?it:null,loadMoreLogs:st,search:(0,s.jsx)("div",{className:U,children:(0,s.jsx)(S.Z,{placeholder:"Filter by request ID, message, log level",value:A.term,onSearch:ct,onFocus:()=>u.iND.appFunctionLogsTextFilterFocused({accountId:j,functionsType:rt})})}),source:V,formatForClipboard:et,onCopyToClipboard:()=>u.iND.appFunctionLogsCopyClicked({accountId:j,functionsType:rt}),onPlayPause:()=>u.iND.appFunctionLogsPauseClicked({accountId:j,functionsType:rt}),onScrollToBottom:()=>u.iND.appFunctionLogsScrollBottomClicked({accountId:j,functionsType:rt}),onScrollToTop:()=>u.iND.appFunctionLogsScrollTopClicked({accountId:j,functionsType:rt})})}},60173:(G,B,t)=>{t.d(B,{Z:()=>P});var s=t(24246),M=t(27378),L=t(80715),l=t(34740),_=t(91800),O=t(65628),m=t(71791),o=t(43256),u=t(34571),i=t(50683),e=t(45180),r=t(88317);const a={[r.Lz.github_enterprise]:!0,[r.Lz.gitlab_self_hosted]:!0,[r.Lz.bitbucket_self_hosted]:!0},c=E=>{let{repo:U,onPrepareRepo:g,onMissingData:v,onError:p,loadMoreBranches:h,site:W,account:C,accounts:I,onSubmit:A,onApplyHeuristics:K,provider:d,outset:R,nameKey:N,template:w,trackChangeClick:j,form:$=i.Z,availablePlugins:k,availablePluginsError:z,availablePluginsFetching:q,onLoadPlugins:st,skipPrepare:V=!1,gitUser:J,user:et,route:ct}=E;const it=(0,e.V)(),tt=$,at=U==null?void 0:U.getIn(["branchPagination","next"]),rt=U==null?void 0:U.get("error"),X=U==null?void 0:U.get("id");return(0,M.useEffect)(()=>{!q&&!z&&!(k!=null&&k.size)&&st()},[k,z,q]),(0,M.useEffect)(()=>{if(!U){v("repo");return}V||g(U,it)},[X]),(0,M.useEffect)(()=>{rt&&(p(rt),v("repo"))},[rt]),(0,M.useEffect)(()=>{d!==r.Lz.bitbucket&&at&&h(U,at)},[d,at]),U?(0,s.jsx)(tt,{site:W,account:C,accounts:I,repo:U,onSubmit:A,outset:R,onApplyHeuristics:K,accountSpecificGitProvider:a[d],provider:d,nameKey:N,template:w,trackChangeClick:j,availablePlugins:k,availablePluginsError:z,gitUser:J,user:et,route:ct}):null};function f(E,U){const{organization:g,name:v}=U.params,{repoFromURL:p}=U,h=U.params.repo||U.repo,W=g||"",C=W?`${W}/${h}`:h,I=(0,u.lH)(E,v),A=!I&&(0,_.L3)(E),K=A&&(0,_.uW)(E),d=decodeURIComponent(C),R=(0,m.f6)(E),N=(0,m.iQ)(E),w=(0,m.WF)(E);return{repo:(p==null?void 0:p.mergeDeep((0,o.Wo)(E,d)))||(0,o.Wo)(E,d),provider:(0,O.oI)(E),gitUser:(0,O.z8)(E),site:I,accounts:A,account:K,availablePlugins:R,availablePluginsError:N,availablePluginsFetching:w,user:E.user}}function n(E,U){const{site:g,provider:v,onError:p,onSubmit:h}=U;return{onLoadPlugins:()=>E((0,m.bl)()),onPrepareRepo:(W,C)=>{var I;return(I=E((0,o.oV)(W)))==null?void 0:I.then(()=>{E((0,o.vb)(W,C))})},loadMoreBranches:(W,C)=>E((0,o.Qg)(W,C)),onApplyHeuristics:(W,C,I)=>{W&&E((0,o.I0)(W,C,{...I,provider:v}))},onSubmit:(W,C)=>h?h(W,C):E((0,u.Er)(g,C,W.toJS(),"onboarding")).then(I=>{let{site:A,deploy:K}=I;return l.mW.push(`/sites/${A.name}/deploys/${K==null?void 0:K.id}`)}).catch(I=>p(I))}}const P=(0,L.$j)(f,n)(c)},51115:(G,B,t)=>{t.d(B,{Z:()=>e});var s=t(24246),M=t(80715),L=t(91800),l=t(65628),_=t(7442),O=t(48503),m=t(88317);const o=r=>{const{entryPoint:a,user:c,account:f}=r,n={userId:(c==null?void 0:c.get("id"))||"",entryPoint:a||"from direct visit",accountId:(f==null?void 0:f.get("id"))||""},S=P=>{switch(P){case m.Lz.github:_.iND.appSignupSetupProviderGithubSelected(n);break;case m.Lz.gitlab:_.iND.appSignupSetupProviderGitlabSelected(n);break;case m.Lz.github_enterprise:_.iND.appSignupSetupProviderGithubEnterpriseSelected(n);break;case"gitlab_enterprise":_.iND.appSignupSetupProviderGitlabEnterpriseSelected(n);break;case m.Lz.bitbucket:_.iND.appSignupSetupProviderBitbucketSelected(n);break;case m.Lz.azure_devops:_.iND.appSignupSetupProviderAzureDevopsSelected(n);break;default:break}};return(0,s.jsx)(O.Z,{...r,trackSelectProvider:S})};function u(r){return{account:r.account||(0,L.uW)(r),user:r.user}}function i(r){return{onAuthenticate:a=>r((0,l.YR)(a))}}const e=(0,M.$j)(u,i)(o)},82197:(G,B,t)=>{t.d(B,{Z:()=>c});var s=t(24246),M=t(27378),L=t(80715),l=t(34740),_=t(91800),O=t(65628),m=t(72253),o=t(43256),u=t(4920),i=t(88317);function e(f){const{provider:n,organization:S,page:P,per_page:E,installationId:U,onError:g,onMissingData:v,loadRepos:p,loadGitUser:h,loadGitOrganizations:W,path:C,setSearchTerm:I,onboarding:A=!1,hideGitUser:K}=f;(0,M.useEffect)(()=>{n?d():v("provider")},[]),(0,M.useEffect)(()=>{n&&(K&&!S||p({organization:S,page:P,per_page:E,installationId:U}).catch(j=>{g(j,{restart:j.code===401})}))},[n,P,S,p]);const d=()=>{Promise.resolve(h()).then(()=>{K||p({organization:S,page:P,per_page:E,installationId:U}),W()})},R=j=>{let{login:$}=j;W(),$&&$!==S?l.mW.push(`${C}/${$}/repos`):p({organization:S,page:P,per_page:E,installationId:U})},N=()=>p({organization:S,page:P,per_page:E,installationId:U,page:1}).catch(j=>{g(j,{restart:j.code===401})}),w=j=>I(j);return n?(0,s.jsx)(u.Z,{...f,onSearch:N,onTerm:w,onAppInstall:R,onboarding:A}):null}function r(f,n){var S,P,E;const{organization:U}=n.params,g=f.account||(0,_.uW)(f),v=(0,O.z8)(f),p=(0,m.wc)(f,U),h=(0,m.YX)(f),W=(0,O.oI)(f),C=i._w.get(W),I=C==null?void 0:C.get("hideGitUserFromRepoList"),A=U||I&&((S=h==null?void 0:h.first())==null?void 0:S.get("api_id")),K=p||v&&v.get("login")===U&&v,d=K&&K.get("installation_id");return{account:g,page:((E=(P=n==null?void 0:n.location)==null?void 0:P.query)==null?void 0:E.page)||1,provider:(0,O.oI)(f),installationId:d,gitUser:v,organization:A,organizations:h,hideGitUser:I,searchTerm:(0,O.Lb)(f),repos:(0,o.yW)(f,A),pagination:(0,o.B$)(f,A)}}function a(f){return{loadRepos:n=>f((0,o.vD)(n)),loadGitUser:()=>f((0,O.Kd)()),loadGitOrganizations:()=>f((0,m.hi)()),setSearchTerm:n=>f((0,O.Cl)(n))}}const c=(0,L.$j)(r,a)(e)},38098:(G,B,t)=>{t.d(B,{Z:()=>U});var s=t(24246),M=t(90046),L=t.n(M),l=t(27378),_=t(80715),O=t(34740),m=t(91800),o=t(65628),u=t(71791),i=t(43256),e=t(34571),r=t(50683),a=t(45180),c=t(88317);const f={[c.Lz.github_enterprise]:!0,[c.Lz.gitlab_self_hosted]:!0},n=g=>{let{entryPoint:v,repo:p,onPrepareRepo:h,onMissingData:W,onError:C,loadMoreBranches:I,site:A,account:K,accounts:d,onSubmit:R,onApplyHeuristics:N,provider:w,outset:j,availablePlugins:$,availablePluginsError:k,availablePluginsFetching:z,onLoadPlugins:q,user:st,gitUser:V,route:J,isOnStartPage:et,setFormData:ct}=g;const it=(0,a.V)(),tt=p==null?void 0:p.getIn(["branchPagination","next"]),at=p==null?void 0:p.get("error");return(0,l.useEffect)(()=>{!z&&!k&&!($!=null&&$.size)&&q()},[$,k,z]),(0,l.useEffect)(()=>{p?h(p,it):W("repo")},[]),(0,l.useEffect)(()=>{at&&(C(at),W("repo"))},[at]),(0,l.useEffect)(()=>{w!==c.Lz.bitbucket&&tt&&I(p,tt)},[w,tt]),p?(0,s.jsx)(r.Z,{entryPoint:v,user:st,gitUser:V,site:A,account:K,accounts:d,repo:p,onSubmit:R,outset:j,onApplyHeuristics:N,accountSpecificGitProvider:f[w],availablePlugins:$,availablePluginsError:k,route:J,isOnStartPage:et,setFormData:ct}):null};function S(g,v){const{repo:p,name:h}=v.params,W=(0,e.lH)(g,h),C=W&&(0,m.L3)(g).find($=>($==null?void 0:$.get("slug"))===W.get("account_slug")),I=C?(0,M.List)([C]):(0,m.L3)(g),A=I&&(0,m.uW)(g),K=C||A,d=decodeURIComponent(p),R=(0,u.f6)(g),N=(0,u.iQ)(g),w=(0,u.WF)(g),j=(0,o.z8)(g);return{repo:(0,i.Wo)(g,d),provider:(0,o.oI)(g),site:W,accounts:I,account:K,availablePlugins:R,availablePluginsError:N,availablePluginsFetching:w,gitUser:j}}function P(g,v){const{site:p,provider:h,onError:W}=v;return{onLoadPlugins:()=>g((0,u.bl)()),onPrepareRepo:(C,I)=>{var A;return(A=g((0,i.oV)(C)))==null?void 0:A.then(()=>{g((0,i.vb)(C,I))})},loadMoreBranches:(C,I)=>g((0,i.Qg)(C,I)),onApplyHeuristics:(C,I,A)=>{C&&g((0,i.I0)(C,I,{...A,provider:h}))},onSubmit:(C,I)=>g((0,e.Er)(p,I,C.toJS(),"")).then(A=>{let{site:K}=A;return O.mW.push(`/sites/${K.name}`)}).catch(A=>W(A,{restart:A.code===401}))}}const U=(0,_.$j)(S,P)(n)},9128:(G,B,t)=>{t.d(B,{Z:()=>u});var s=t(24246),M=t(27378),L=t(80715),l=t(44195),_=t(22260);const O=i=>((0,M.useEffect)(()=>{i.onLoad()},[]),(0,s.jsx)(_.Z,{...i}));function m(i,e){let{site:r}=e;return{identity:(0,l.jZ)(i,r)}}function o(i,e){let{site:r}=e;return{onLoad:()=>i((0,l.r6)(r)),onCreate:()=>i((0,l.XD)(r)),onUpdate:a=>i((0,l.EI)(r,a)),onDelete:()=>i((0,l.dU)(r))}}const u=(0,L.$j)(m,o)(O)},8329:(G,B,t)=>{t.d(B,{Z:()=>u});var s=t(24246),M=t(90046),L=t.n(M),l=t(80715),_=t(60653);const O=i=>{let{component:e,children:r,...a}=i;const c=e||r;return c?(0,s.jsx)(c,{...a}):null};function m(i){const e=i.user;return{user:e,progress:e&&e.get("onboarding_progress")||(0,M.Map)()}}function o(i){return{onProgress:(e,r)=>i((0,_.fq)(e,r))}}const u=(0,l.$j)(m,o)(O)},59505:(G,B,t)=>{t.d(B,{Z:()=>e});var s=t(24246),M=t(27378),L=t(80715),l=t(99695),_=t(941),O=t(76872),m=t(13287);const o=r=>{const{onLoad:a,account:c}=r,f=c.get("id");return(0,M.useEffect)(()=>{a(r)},[f]),(0,s.jsx)(O.Z,{...r})};function u(r,a){let{account:c}=a;const f=(0,_.ac)(r);return{receipts:(0,l.L6)(r,c),api:{receiptPdf:n=>f.accountReceiptPdf(c.get("slug"),n)}}}function i(r,a){let{account:c}=a;return{onLoad:()=>(0,m.gK)(c)&&r((0,l.V8)(c))}}const e=(0,L.$j)(u,i)(o)},22845:(G,B,t)=>{t.d(B,{Z:()=>i});var s=t(24246),M=t(27378),L=t(80715),l=t(57240),_=t(37895),O=t(7311);const m=e=>{let{component:r,children:a,onLoad:c,...f}=e;const{setIsLoadingApp:n}=(0,O.bn)();(0,M.useEffect)(()=>{c(),n(!1)},[]);const S=r||a||_.Z;return(0,s.jsx)(S,{...f})};function o(e,r){let{site:a}=r;return{services:(0,l.M2)(e,a)}}function u(e,r){let{site:a}=r;return{onLoad:()=>e((0,l.k4)(a)),onCreate:(c,f)=>e((0,l.G6)(a,c,f)),onUpdate:(c,f)=>e((0,l.Pg)(a,c,f)),onDelete:c=>e((0,l.wo)(a,c)),onGenerateToken:(c,f)=>e((0,l.RA)(c,f))}}const i=(0,L.$j)(o,u)(m)},93389:(G,B,t)=>{t.d(B,{Z:()=>e});var s=t(24246),M=t(27378),L=t(80715),l=t(32293),_=t(7121),O=t(7311),m=t(8989);const o=r=>{let{site:a,members:c,onLoad:f,user:n}=r;const{setIsLoadingApp:S}=(0,O.bn)();(0,M.useEffect)(()=>{S(!1)},[S]),(0,M.useEffect)(()=>{f({site:a})},[]);const P=a.get("account_slug"),E=(0,m.Z)(P);return(0,M.useEffect)(()=>{P!==E&&f({site:a})},[P,E]),(0,s.jsx)(_.Z,{site:a,members:c,user:n})},u=(r,a)=>{let{site:c}=a;return{members:(0,l.ad)(r,c)}},i=r=>({onLoad:a=>{let{site:c}=a;return r((0,l.el)(c))}}),e=(0,L.$j)(u,i)(o)},17844:(G,B,t)=>{t.d(B,{Z:()=>i});var s=t(24246),M=t(27378),L=t(80715),l=t(91800),_=t(64614),O=t(52968);const m=e=>{(0,M.useEffect)(()=>{var a;(a=e.onLoad)==null||a.call(e,e)},[]);const r=e.component||e.children;return(0,s.jsx)(r,{...e})};function o(e,r){let{account:a}=r;return{paymentMethod:(0,O.DY)(e,a),paymentProvider:(0,_.nY)(a),plans:(0,l.qL)(e)}}function u(e,r){let{account:a}=r;return{onLoad:c=>{let{account:f}=c;e((0,l.vP)()),e((0,l.Ko)()),e((0,O.nS)(f))},onUpdate:(c,f)=>e((0,l.sG)(c,f)),onPaymentProviderTokenUsed:c=>e((0,_.Uc)(a,c)),onSavePaymentMethod:c=>e((0,O.BX)(c,a))}}const i=(0,L.$j)(o,u)(m)},33950:(G,B,t)=>{t.d(B,{Z:()=>S});var s=t(2926),M=t.n(s),L=t(90046),l=t.n(L),_=t(54969),O=t.n(_),m=t(27378),o=t(80715),u=t(941),i=t(84673),e=t(36881);const r=8,a=P=>({publish:i.LT,delete:i.vQ,lock:i.Bn,unlock:i.FN,retry:i.kR,cancel:i.li})[P];function c(P,E,U){const g=E.path.replace(/^\//,"").split("/");let v=null;for(;g.length;)v=g.shift(),g.length?P=P.folder(v):P.file(v,U)}function f(P){const[E,U]=(0,m.useState)(null),g=A=>{U((0,L.Map)(A))},v=async A=>{const{user:K,config:d}=P,R=A.get("id"),N=(0,u.ac)({user:K,config:d});if(!N)return;g({state:"downloading"});const j=(await t.e(1578).then(t.t.bind(t,82858,23))).default,$=new j,k=O()(r);N.deployFiles(R).then(z=>z.data.map(q=>k(()=>N.deployFile(R,q.path)).then(st=>c($,q,st)))).then(z=>Promise.all(z)).then(()=>$.generateAsync({type:"blob"})).then(z=>{g({state:"ready",zip:z})}).catch(z=>{g({state:"error",error:z})})},p=(A,K)=>{const d=`deploy-${A.get("id")}.zip`,R=K.get("zip");return(0,s.saveAs)(R,d)},h=(A,K)=>{K&&K.get("zip")?p(A,K):v(A)},W=(A,K,d)=>{const R=a(A);return P.dispatch(R(P.site,K,d))},{component:C,...I}=P;return(0,m.createElement)(C||e.Z,{...I,download:E,onDeployAction:W,onDownload:h})}function n(P){return{user:P.user,config:P.config,api:(0,u.ac)(P)}}const S=(0,o.$j)(n)(f)},55109:(G,B,t)=>{t.d(B,{Z:()=>u});var s=t(27378),M=t(84673),L=t(34571),l=t(67928),_=t(69615);function O(i){const{poll:e,dispatch:r,site:a,page:c,perPage:f,filter:n,from:S,to:P,status:E}=i,{component:U,children:g,...v}=i,p=(0,s.useRef)(null);return(0,s.useEffect)(()=>{const h=()=>{r((0,M.Kr)(a,m({page:c,perPage:f,filter:n,from:S,to:P,status:E}))),r((0,L.EQ)(a.get("name")))};if(p.current&&clearInterval(p.current),e)return p.current=setInterval(h,(0,_.S)()),()=>{clearInterval(p.current)}},[c,f,n,e,S,P]),U?(0,s.createElement)(U,v,g):(0,s.cloneElement)(g,v)}function m({page:i,perPage:e,filter:r,from:a,to:c,status:f}){return{page:i,perPage:e,filter:r,from:a,to:c,state:f}}function o(i,e){const r=e.site,a=m(e);return{deploys:(0,M.Oh)(i,r,a),pagination:(0,M.ly)(i,r,a),pendingDeploys:(0,M.mh)(i,r)}}const u=(0,l.v)(o,i=>(0,M.Kr)(i.site,m(i)),"page","perPage","filter","from","to","status")(O)},89859:(G,B,t)=>{t.d(B,{Z:()=>i});var s=t(27378),M=t(941),L=t(38504),l=t(77159),_=t(66080),O=t(67928);const m=({children:e,component:r=_.Z,...a})=>{const c=(S,P,E)=>a.dispatch((0,L.zH)(S,P,E)),f=(S,P)=>a.dispatch((0,L.XL)(S,P,{...o(a),page:1})),n=(S,P)=>a.dispatch((0,L.cJ)(S,P,{...o(a),page:1}));return a.onDelete=c,a.onMarkAsSpam=f,a.onMarkAsHam=n,e?(0,s.cloneElement)(e,a):(0,s.createElement)(r,a,e)};function o({page:e=1,perPage:r=l.F,formId:a,filter:c}){return{page:e,perPage:r,formId:a,filter:c}}function u(e,r){const a=r.site,c=o(r);return{...c,form:(0,L.jy)(e,c.formId),forms:(0,L.Jo)(e,a),submissions:(0,L.Rg)(e,a,c),submissionsError:(0,L.kk)(e,a,c),pagination:(0,L.$d)(e,a,c),api:{formSubmissions:(...f)=>(0,M.ac)(e).formSubmissions(...f)}}}const i=(0,O.v)(u,e=>(0,L.A)(e.site,o(e)),"page","perPage","formId","filter")(m)},83302:(G,B,t)=>{t.d(B,{Z:()=>m});var s=t(27378),M=t(44195),L=t(67928);function l({component:o,children:u,...i}){return o?(0,s.createElement)(o,i,u):(0,s.cloneElement)(u,i)}function _(o){return{...o.location.query}}function O(o,{site:u,...i}){const e=_(i),r=(0,M.dk)(o,u,e);return{...e,provisioned:!!u.get("identity_instance_id"),users:r,pagination:(0,M.PO)(o,u,e)}}const m=(0,L.v)(O,({site:o,...u})=>(0,M.FJ)(o,_(u)),"provisioned","page","per_page","sort","filter")(l)},70610:(G,B,t)=>{t.d(B,{Jg:()=>m.Jg,ND:()=>m.ND,ZP:()=>r});var s=t(27378),M=t(80715),L=t(38504),l=t(65628),_=t(86981),O=t(57240),m=t(15010),o=t(15512);const u=({onLoad:a,component:c,...f})=>{var n,S;return(0,s.useEffect)(()=>{a()},[(n=f.account)==null?void 0:n.get("id"),(S=f.account)==null?void 0:S.get("type_slug")]),(0,s.createElement)(c||o.Z,f)};function i(a,{site:c}){return{hooks:(0,_.e_)(a,c),hookTypes:(0,_.o6)(a,c),forms:(0,L.Jo)(a,c),provider:(0,l.oI)(a)}}function e(a,{site:c,filter:f}){return{onLoad:()=>{a((0,_.Eq)(c)),a((0,_.v9)(c)),f===m.Jg&&a((0,L.jn)(c))},onDelete:n=>a((0,_.$_)(c,n)),onCreate:n=>a((0,_.Bi)(c,n)),onUpdate:(n,S)=>a((0,_.ny)(c,n,S)),onTokenRequest:(n,S)=>a((0,O.RA)(n,S))}}const r=(0,M.$j)(i,e)(u)},20558:(G,B,t)=>{t.d(B,{BU:()=>i,PP:()=>f,B6:()=>U});var s=t(24246),M=t(27378),L=t(80715),l=t(64334),_=t(34571),O=t(50355);const m=g=>((0,M.useEffect)(()=>{g.onLoad()},[]),(0,s.jsx)(O.Z,{...g})),o=(g,v)=>{let{site:p}=v;return{branches:(0,_.Un)(g,p),buildHooks:(0,l.Kr)(g,p)}},u=(g,v)=>{let{site:p}=v;return{onLoad:()=>{g((0,l.xF)(p)),g((0,_.WV)(p))},onAdd:h=>g((0,l.HN)(p,h)),onRemove:h=>g((0,l.$T)(p,h))}},i=(0,L.$j)(o,u)(m);var e=t(76318);const r=g=>(0,s.jsx)(e.Z,{...g}),a=(g,v)=>{let{site:p}=v;return{deployKey:(0,_.mY)(g,p)}},c=(g,v)=>{let{state:p,site:h}=v;return{onLoad:()=>{const W=h.get("build_settings").get("deploy_key_id");W&&g((0,_.rC)(W,h))},onAdd:()=>g((0,_.G$)())}},f=(0,L.$j)(a,c)(r);var n=t(47529);const S=g=>((0,M.useEffect)(()=>{g.onLoad(g.site)},[]),g.children?(0,M.cloneElement)(g.children,{...g}):(0,s.jsx)(n.Z,{...g})),P=(g,v)=>({}),E=(g,v)=>{let{site:p}=v;return{onLoad:()=>{p.get("snippets")||g((0,_.Cu)(p))},onAdd:h=>g((0,_.IS)(p,h)),onRemove:h=>g((0,_.UQ)(p,h))}},U=(0,L.$j)(P,E)(S)},40659:(G,B,t)=>{t.d(B,{Z:()=>o});var s=t(91800),M=t(34571),L=t(25108),l=t(67928);const _=15;function O(u){return{page:u.page,perPage:u.perPage||_,searchTerm:u.searchTerm,searchGlobally:u.searchGlobally,sortBy:u.sortBy,accountSlug:u.accountSlug}}function m(u,i){const e=O(i),r=(0,M.u)(u,e);return{sites:r,pagination:(0,M.OK)(u,e),loaded:!!r,user:u.user,account:(0,s.bk)(u,e.accountSlug),accounts:(0,s.L3)(u)}}const o=(0,l.v)(m,u=>(0,M.KZ)(O(u)),"page","perPage","searchTerm","searchGlobally","sortBy","accountSlug")(L.Z)},94709:(G,B,t)=>{t.d(B,{Z:()=>u});var s=t(27378),M=t(80715),L=t(34571),l=t(45988),_=t(37416);const O=({component:i,...e})=>{const{onLoad:r,site:a}=e;return(0,s.useEffect)(()=>{r(a)},[]),(0,s.createElement)(i||_.Z,e)},m=(i,{site:e})=>({branches:(0,L.Un)(i,e),splits:(0,l.Fz)(i,e)}),o=i=>({onLoad:e=>{i((0,l.Dk)(e)),i((0,L.WV)(e))},onCreate:(e,r)=>i((0,l.vj)(e,r)),onUpdate:(e,r,a)=>i((0,l.af)(e,r,a)),onStart:(e,r)=>i((0,l.m6)(e,r)),onStop:(e,r)=>i((0,l.VO)(e,r)),onUpdateSite:(e,r)=>i((0,L.L3)(e,r))}),u=(0,M.$j)(m,o)(O)}}]);})();
