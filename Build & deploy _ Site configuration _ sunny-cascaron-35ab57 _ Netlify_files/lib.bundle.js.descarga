"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[5647],{63733:(Ie,se,l)=>{l.d(se,{D4:()=>R,TR:()=>q,_O:()=>B,f4:()=>D,qj:()=>T,sw:()=>t,yx:()=>e});var d=l(81080),L=l.n(d),w=l(26527);const M=/(\d{1,4})/g,x={amex:/(\d{1,4})(\d{1,6})?(\d{1,5})?/},P={"american-express":"amex"},J={amex:4};function B(s){const c=L().number(s).card;if(c)return{...c,type:P[c.type]||c.type,cvcLength:[c.code.size]}}function H(s){return s.length>2?s:`${new Date().getFullYear().toString().slice(0,2)}${s}`}function Z(s,c){if(s=s.trim(),c=H(c.trim()),!/^\d+$/.test(s)||!/^\d+$/.test(c)||!(parseInt(s,10)<=12))return!1;const S=new Date(c,s),y=new Date;return S.setMonth(S.getMonth()-1),S.setMonth(S.getMonth()+1,1),S>y}function T(s){s=s.replace(/\s/g,"");let[c,S]=s.split("/",2);return c=c&&parseInt(c,10),S=S&&parseInt(H(S),10),{month:c,year:S}}function R(s){return L().number(s).isValid}function q(s){const{month:c,year:S}=T(s);return Z(String(c),String(S))}function D(s){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const S=J[c]||[3,4];return L().cvv(s,S).isValid}function O(s){if(!s)return null;const c=B(s);return c&&c.type}function e(s){const c=B(s);if(!c)return s;const S=c.lengths[c.lengths.length-1];s=s.replace(/\D/g,""),s=s.slice(0,S);const y=x[c.type]||M;if(y.global){const k=s.match(y);return k&&k.join(" ")}const g=y.exec(s);return g&&g.shift(),g&&g.join(" ")}const t=s=>{let{number:c,name:S,expiration:y,cvv:g,country:k,addressLine1:N,city:W,state:j,zipCode:_}=s;return R(c)?(0,w.fp)(S)?{success:!1,reason:"The name is required"}:q(y)?D(g)?(0,w.fp)(k)?{success:!1,reason:"The country is required"}:(0,w.fp)(N)?{success:!1,reason:"The address is required"}:(0,w.fp)(W)?{success:!1,reason:"The city is required"}:(0,w.fp)(j)?{success:!1,reason:"The state is required"}:(0,w.fp)(_)?{success:!1,reason:"The postal code is required"}:{success:!0,reason:"OK"}:{success:!1,reason:"The CVV provided is invalid"}:{success:!1,reason:"The expiration date provided is invalid"}:{success:!1,reason:"The card number provided is invalid"}}},67005:(Ie,se,l)=>{l.d(se,{Z:()=>h});var d=l(24246),L=l(27378),w=l(75518);const M=n=>{let{title:r,id:o,variant:p,contextOptions:m}=n;const[A,ee]=(0,L.useState)(!1);if(!r||!o)return null;const te=o.replace(/[^a-zA-Z0-9:]/g,"_"),ae=async()=>{ee(!0),await m.surfaceHandler.postEventWithResponse(`${te}:click_UICALLBACK`,m.surfaceHandler.state),ee(!1)};return(0,d.jsx)(w.Z,{title:r,onClick:ae,id:te,variant:p,saving:A,className:"tw-mr-2 tw-mt-1",children:r})},x={type:"button",optionsSchema:{},render(n,r){let{title:o,id:p,variant:m}=n;return(0,d.jsx)(M,{title:o,id:p,variant:m,contextOptions:r})}};var P=l(5336);const J=n=>{let{children:r}=n;return r?(0,d.jsx)(P.Z,{allowedElements:["a","p","br","code","pre","em","strong"],markdown:r}):null},B={type:"text",optionsSchema:{},render(n){let{value:r}=n;return(0,d.jsx)(J,{children:r})}};var H=l(48542);const Z={type:"card",optionsSchema:{},render(n,r){let{title:o,description:p,contents:m}=n;var A;return m?(0,d.jsx)(H.Z,{title:o,description:p&&(0,d.jsx)("div",{className:"tw-mb-2",children:(0,d.jsx)(J,{children:p})}),children:(0,d.jsx)(H.Z.Panel,{children:(A=r==null?void 0:r.renderElements)==null?void 0:A.call(r,m,r)})}):null}};var T=l(7900);const R=n=>{let{code:r,language:o}=n;return!r||!o?null:(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(T.Z,{code:r,language:o})})},q={type:"code-snippet",optionsSchema:{},render(n){let{code:r,language:o}=n;return(0,d.jsx)(R,{code:r,language:o})}};var D=l(91844),O=l(4953);const e=n=>{let{providerName:r,connectWithMessage:o,disconnectFromMessage:p,contextOptions:m}=n;var A,ee;const{surfaceHandler:te,integrationSlug:ae}=m,{providerOAuthToken:de}=(ee=(A=te.state)==null?void 0:A.integrationContext)!=null?ee:{providerOAuthToken:void 0},me=!!de,[Se,be]=(0,L.useState)(!1);if(Se)return(0,d.jsx)(D.Z,{children:(0,d.jsx)(O.Z,{className:"tw-mt-1"})});const ye=async()=>{be(!0);const ve=new URLSearchParams;ve.append("redirect_uri",window.location.href);const $e=await fetch(`/.netlify/functions/identeer-proxy/auth/${ae}?${ve.toString()}`);if($e.ok){const{auth_url:Ue}=await $e.json();window.open(Ue,"_self")}},ge=async()=>{be(!0),await fetch(`/.netlify/functions/identeer-proxy/disconnect/${ae}`),window.location.reload()};return me===void 0?(0,d.jsx)(D.Z,{children:(0,d.jsx)(O.Z,{})}):(0,d.jsxs)(D.Z,{title:me?`Your Netlify account is connected to ${r}`:`Connect your Netlify account to ${r}`,children:[!me&&(0,d.jsx)("p",{children:o}),me&&(0,d.jsx)("p",{children:p}),me?(0,d.jsx)(w.Z,{className:"tw-mt-2 tw-w-max",onClick:ge,children:"Disconnect"}):(0,d.jsx)(w.Z,{className:"tw-mt-2 tw-w-max",onClick:ye,children:"Connect"})]})},t={type:"connection",optionsSchema:{},render(n,r){let{connectWithMessage:o,providerFriendlyName:p,disconnectFromMessage:m}=n;return!o||!m||!p||!r.integrationSlug?null:(0,d.jsx)(e,{connectWithMessage:o,disconnectFromMessage:m,providerName:p,contextOptions:r})}};var s=l(39777);const c=n=>{let{value:r,label:o}=n;return(0,d.jsx)(s.Z,{label:o,value:r,placeholder:"Not set"})},S={type:"display",optionsSchema:{},render(n){return(0,d.jsx)(c,{...n})}};var y=l(71791),g=l(34571),k=l(68187),N=l(83611),W=l(55492),j=l(56299),_=l(87287);const V=n=>{let{packageContext:r,site:o,title:p,description:m,targetPackage:A,illustration:ee,surfaceHandler:te}=n;var ae,de;const me=(0,W.I0)(),{friendlyName:Se}=r||{},[be,ye]=(0,L.useState)(!1);if(!o||!A)return null;const ge=(0,k.hA)(o),ve=(0,d.jsx)(J,{children:m}),$e=(de=(ae=o==null?void 0:o.get("plugins"))==null?void 0:ae.toJS().some(Be=>Be.package===A))!=null?de:!1,Ue=$e?"Disable":"Enable",ze=`${Ue} ${Se}`;async function qe(){const Be=o==null?void 0:o.get("plugins");let je=(Be==null?void 0:Be.toJS())||[];if($e)await te.onDisable(),je=je.filter(Ve=>Ve.package!==A),await me((0,g.L3)(o,{plugins:je}));else{ye(!0);try{await te.onEnable(),await me((0,y.QK)(o,A,je,!1))}finally{ye(!1)}}}return $e?(0,d.jsxs)(_.Z,{title:ze,description:ve,deleteLabel:Ue,onDelete:qe,challenge:{label:"Type in the site\u2019s name to confirm",value:ge},children:[ve,(0,d.jsxs)("p",{children:["Are you sure you want to remove ",Se," from ",ge,"?"]})]}):(0,d.jsx)(j.Z,{title:p,illustration:ee,action:(0,d.jsx)(w.Z,{onClick:qe,saving:be,children:ze}),children:ve})},b=(n,r)=>{if(r)try{return new URL(r).pathname}catch{return[N.A8,n,r].filter(Boolean).join("/")}},v={type:"enablement",optionsSchema:{},render(n,r){let{title:o,description:p,illustration:m,targetPackage:A}=n,{site:ee,packageContext:te,surfaceHandler:ae}=r;return m=b(te==null?void 0:te.key,m),(0,d.jsx)(V,{title:o,description:p,illustration:m,site:ee,packageContext:te,targetPackage:A,surfaceHandler:ae})}};var C=l(96512),F=l(37474);const z=n=>{const r={};return n.forEach((o,p)=>{if(!Reflect.has(r,p)){r[p]=o;return}Array.isArray(r[p])||(r[p]=[r[p]]),r[p].push(o)}),r},G=n=>{let{id:r,title:o,description:p,surfaceInputsData:m,saveLabel:A,savingLabel:ee,renderElements:te,hideCancel:ae,surfaceHandler:de,variant:me="default"}=n;const Se=Object.entries(m).reduce((qe,Be)=>{let[je,Ve]=Be;return(!r||je.startsWith(r))&&(qe[je]=Ve),qe},{}),[be]=(0,L.useState)(Se),[ye,ge]=(0,L.useState)(be),[ve,$e]=(0,L.useState)(!1);if((0,L.useEffect)(()=>{de.save(function(){let qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{surfaceInputsData:Be}=qe;return{surfaceInputsData:{...Be,...ye}}})},[ye]),!r)return null;const Ue=qe=>{let{name:Be,value:je}=qe;ge(Ve=>({...Ve,[Be]:je}))},ze=async qe=>{$e(!0);const Be=new FormData(qe.target),je=z(Be);await de.onSurfaceSave(r,{...m,...je}),$e(!1)};return me==="default"?(0,d.jsx)("section",{className:"card card-settings",children:(0,d.jsx)(F.Z,{title:o,description:p,children:(0,d.jsx)(C.Z,{onSave:ze,saveLabel:A!=null?A:"Save",saving:ve,onCancel:ae?void 0:()=>ge(be),children:(0,d.jsx)("div",{className:"tw-mt-2",children:te({onChange:Ue,surfaceInputsData:ye})})})})}):(0,d.jsxs)(H.Z,{title:o,description:p&&(0,d.jsx)(J,{children:p}),onSave:ze,onCancel:()=>ge(be),saving:ve,saveLabel:A,savingLabel:ee,children:[(0,d.jsx)(H.Z.DefaultView,{className:"table-body",children:te({displayOnly:!0,surfaceInputsData:ye})}),(0,d.jsx)(H.Z.FormView,{className:"table-body",children:te({onChange:Ue,surfaceInputsData:ye})})]})},ie={type:"form",optionsSchema:{},render(n,r){let{title:o,description:p,contents:m,id:A,saveLabel:ee,savingLabel:te,variant:ae,hideCancel:de}=n;if(!m)return null;const{surfaceHandler:me,surfaceInputsData:Se,renderElements:be,sdkVersion:ye}=r;de&&ae==="settings"&&console.warn("hideCancel is not supported for the `settings` variant");const[ge,ve,$e]=ye?ye.split(".").map(Number):[0,0,0];return ge<1&&ve<=4&&$e<7&&(ae="settings"),(0,d.jsx)(G,{title:o,id:A,description:p,surfaceHandler:me,surfaceInputsData:Se,renderElements:Ue=>be==null?void 0:be(m,{...r,...Ue}),saveLabel:ee,savingLabel:te,variant:ae,hideCancel:de})}};var K=l(69041),ce=l(69792),E=l(84200);const f=n=>n.map(r=>{if(typeof r=="string")return{value:r,label:r};const{value:o,label:p=o}=r;return{...r,label:p}}),U=(n,r)=>n.findLast(r),Q=E.z.array(E.z.string()).optional(),re=n=>{const r=Q.safeParse(n);return r.success?!0:(console.warn('"value" is not a valid checkbox value type',r.error),!1)},ue=n=>{const r=typeof n,o=r==="string"||r==="undefined";return o||console.warn('"value" is not a valid input value type. Received:',r),o},he=n=>{let{type:r,id:o,label:p,options:m,helpText:A,required:ee,onChange:te,selected:ae,leftLabel:de,floatingLabel:me}=n;const Se=o||p,be=ye=>{const{value:ge,checked:ve}=ye.target,$e=new Set(ae);r==="radio"&&$e.clear(),ve?$e.add(ge):$e.delete(ge),te({name:o,value:Array.from($e)})};return(0,d.jsx)(ce.Z,{leftLabel:de,floatingLabel:me,name:o,label:p,helpText:A,controlled:!0,control:(0,d.jsx)("fieldset",{className:"tw-flex tw-flex-col tw-gap-2",children:m.map(ye=>{let{value:ge,label:ve}=ye;return(0,d.jsx)(K.Z,{type:r,name:Se,value:ge,label:ve,checked:ae.includes(ge),required:ee&&!ae.length,onChange:be},ge)})})})},oe={type:"input-checkbox",optionsSchema:{},render(n,r){let{id:o,value:p,label:m,type:A,...ee}=n,{displayOnly:te,surfaceInputsData:ae,onChange:de}=r;var me;const Se=f(p),be=Se.filter(ge=>{let{isSelected:ve}=ge;return!!ve}),ye=(me=ae[o])!=null?me:be.map(ge=>{let{value:ve}=ge;return ve});if(!re(ye))return null;if(te){const ge=Se.filter(ve=>{let{value:$e}=ve;return ye.includes($e)});return(0,d.jsx)(c,{label:m,value:ge.map(ve=>{let{label:$e}=ve;return $e}).join(", ")})}return(0,d.jsx)(he,{id:o,type:"checkbox",label:m,options:Se,selected:ye,onChange:de,...ee})}};var fe=l(26527),Ce=l(50184);const ke=n=>{let{id:r,label:o,value:p,placeholder:m,helpText:A,required:ee,onChange:te,leftLabel:ae,floatingLabel:de,onValidate:me}=n;return(0,d.jsx)(Ce.Z,{leftLabel:ae,floatingLabel:de,name:r,label:o,value:p,placeholder:m,helpText:A,required:ee,onChange:Se=>te({name:r,value:Se.target.value}),controlled:!0,onValidate:me})},Ae={type:"input-password",optionsSchema:{},render(n,r){let{id:o,value:p,label:m,...A}=n,{displayOnly:ee,surfaceInputsData:te,onChange:ae}=r;var de;const me=(de=te[o])!=null?de:p;return ue(me)?ee?(0,d.jsx)(c,{label:m,value:me&&fe.Nw}):(0,d.jsx)(ke,{id:o,label:m,value:me,onChange:ae,...A}):null}},Me={type:"input-radio",optionsSchema:{},render(n,r){let{id:o,value:p,label:m,type:A,...ee}=n,{displayOnly:te,onChange:ae,surfaceInputsData:de}=r;var me;const Se=f(p),be=U(Se,ve=>{let{isSelected:$e}=ve;return!!$e}),ye=de[o];if(!re(ye))return null;const ge=ye?ye[0]:be==null?void 0:be.value;return te?(0,d.jsx)(c,{label:m,value:ge&&((me=U(Se,ve=>{let{value:$e}=ve;return $e===ge}))==null?void 0:me.label)}):(0,d.jsx)(he,{type:"radio",id:o,label:m,options:Se,selected:[ge].filter(Boolean),onChange:ae,...ee})}},De=n=>{let{id:r,type:o="text",label:p,value:m,helpText:A,required:ee,placeholder:te,onChange:ae,leftLabel:de,floatingLabel:me,min:Se,max:be,onValidate:ye}=n;return(0,d.jsx)(ce.Z,{type:o,leftLabel:de,floatingLabel:me,name:r,label:p,value:m,placeholder:te,helpText:A,required:ee,min:Se,max:be,onChange:ge=>ae({name:r,value:ge.target.value}),controlled:!0,onValidate:ye})},Te={type:"input-text",optionsSchema:{},render(n,r){let{id:o,value:p,label:m,type:A,fieldType:ee,...te}=n,{displayOnly:ae,surfaceInputsData:de,onChange:me}=r;var Se;const be=(Se=de[o])!=null?Se:p;return ue(be)?ae?(0,d.jsx)(c,{label:m,value:be}):(0,d.jsx)(De,{id:o,type:ee,label:m,value:be,onChange:me,...te}):null}};var Pe=l(43411);const Oe=n=>{let{href:r,text:o,target:p,block:m}=n;if(!r||!o)return null;const A=!r.match(/^(https?:\/\/)?app\.netlify\.com/);return(0,d.jsx)(Pe.Z,{href:r,external:A,action:A,target:p,block:m,children:o})},Ne={type:"link",optionsSchema:{},render(n){let{href:r,text:o,target:p,block:m}=n;return(0,d.jsx)(Oe,{href:r,text:o,target:p,block:m})}},$=n=>{let{items:r}=n;return r?(0,d.jsx)("ol",{className:"tw-max-w-10 tw-ps-2",children:r.map((o,p)=>(0,d.jsx)("li",{children:o},p))}):null},le={type:"ordered-list",optionsSchema:{},render(n){let{items:r}=n;return(0,d.jsx)($,{items:r})}};var Le=l(77462);const Fe=n=>{let{items:r}=n;return r?(0,d.jsx)("ul",{className:"tw-max-w-10",children:r.map((o,p)=>(0,d.jsx)("li",{className:"tw-my-2"+(o.icon?"":" tw-ml-3 tw-list-disc"),children:(0,d.jsxs)("div",{className:o.icon&&"tw-flex tw-flex-row tw-items-start",children:[o.icon&&(0,d.jsx)(Le.Z,{name:o.icon==="success"?"status-checkmark":"warning-triangle","aria-label":o.icon==="success"?"Success":"Warning",className:"tw-mr-[7px] tw-mt-[4px]"}),o.text]})},p))}):null},Ze={type:"unordered-list",optionsSchema:{},render(n){let{items:r}=n;return(0,d.jsx)(Fe,{items:r})}};var He=l(30134);const We=n=>{let{integrationName:r,description:o,contextOptions:p}=n;var m,A;const{surfaceHandler:ee,integrationSlug:te,site:ae,account:de}=p,{serverUrl:me,netlifyToken:Se,siteName:be,accountSlug:ye}=(A=(m=ee.state)==null?void 0:m.integrationContext)!=null?A:{},[ge,ve]=(0,L.useState)(!1),$e=async()=>{var Ue;ve(!0);const ze=me!=null?me:`https://netlify-integration-${te}.netlify.app`,qe=new URLSearchParams;ae&&qe.append("siteId",ae.get("id")),de&&qe.append("teamId",de.get("id"));const Be=new URL(`/.netlify/functions/handler/on-disable?${qe.toString()}`,ze);await fetch(Be.toString(),{method:"DELETE",headers:{"netlify-token":Se}});const je=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,Ve=(Ue=window.location.pathname.match(je))==null?void 0:Ue[2];if(Ve){const Je=be?`/sites/${be}/integrations/${Ve}`:`/teams/${ye}/integrations/${Ve}`;window.location.href=Je}else window.location.reload()};return(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(He.Z,{title:"Danger zone",description:"Irreversible and destructive actions",children:(0,d.jsx)(D.Z,{title:`Disable ${r}`,action:(0,d.jsx)(w.Z,{variant:"danger",onClick:$e,children:"Disable"}),loading:ge,children:(0,d.jsx)("p",{children:o!=null?o:`Disable the ${r} integration ${ae?"from your site":"for your team"}.`})})})})},I={type:"disable-integration",optionsSchema:{},render(n,r){let{description:o,integrationName:p}=n;return!p||!r.integrationSlug?null:(0,d.jsx)(We,{contextOptions:r,integrationName:p,description:o})}},Y={type:"section",optionsSchema:{},render(n,r){let{title:o="",description:p,contents:m}=n;var A;return m?(0,d.jsx)("div",{className:"tw-mt-2",children:(0,d.jsx)(He.Z,{title:o,description:p&&(0,d.jsx)(J,{children:p}),children:(A=r==null?void 0:r.renderElements)==null?void 0:A.call(r,m,r)})}):null}};var ne=l(12069);const X=n=>{let{id:r,label:o,options:p,selected:m,placeholder:A,helpText:ee,required:te,leftLabel:ae,surfaceHandler:de,menuIsOpen:me,surfaceInputsData:Se,onChange:be}=n;const ye=async ge=>{const{value:ve}=ge.target.value;de&&await de.onSurfaceInteraction(r,ve,Se),be({name:r,value:ve})};return(0,d.jsx)(ce.Z,{leftLabel:ae,name:r,label:o,helpText:ee,controlled:!0,control:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ne.Z,{name:r,value:m,options:p,placeholder:A,menuIsOpen:me,required:te,onChange:ye}),(0,d.jsx)("input",{type:"hidden",name:r,defaultValue:m})]})})},pe={type:"select",optionsSchema:{},render(n,r){let{id:o,label:p,options:m,menuIsOpen:A,leftLabel:ee,...te}=n,{displayOnly:ae,surfaceInputsData:de,surfaceHandler:me,onChange:Se}=r;var be;const ye=f(m),ge=U(ye,$e=>{let{isSelected:Ue}=$e;return!!Ue}),ve=(be=de[o])!=null?be:ge==null?void 0:ge.value;if(!ue(ve))return null;if(ae){const $e=U(ye,Ue=>{let{value:ze}=Ue;return ze===ve});return(0,d.jsx)(c,{label:p,value:ve&&($e==null?void 0:$e.label)})}return(0,d.jsx)(X,{id:o,label:p,options:ye,selected:ve,leftLabel:ee,surfaceInputsData:de,surfaceHandler:me,menuIsOpen:A,...te,onChange:Se})}},_e={[B.type]:B,[Z.type]:Z,[v.type]:v,[pe.type]:pe,[Te.type]:Te,[Ae.type]:Ae,[Me.type]:Me,[oe.type]:oe,[S.type]:S,[ie.type]:ie,[Y.type]:Y,[x.type]:x,[Ne.type]:Ne,[t.type]:t,[Ze.type]:Ze,[le.type]:le,[I.type]:I,"disable-section":I,[q.type]:q},Ee=n=>_e[n];function we(n){return n.type==="select"}function xe(n){return n.type.startsWith("input")}function Re(n,r){const o=n.trim().split(".").filter(Boolean);return o.reduce((m,A,ee)=>{if(ee===0)switch(o[0]){case"$PKG":m=r.packageContext;break;case"$EL":m=r.surfaceInputsData;break}else typeof m!="object"||m===null?m=null:m=m[A];return m},null)}function u(n,r){var o,p;let m={...n};const A=n.if;let ee=!1;if(A&&r&&(A.truthy&&Re(A.truthy,r)&&(ee=!0),A.falsy&&(Re(A.falsy,r)||(ee=!0)),A.equals&&Re(A.equals[0],r)===A.equals[1]&&(ee=!0),A.has)){const{type:te,name:ae}=A.has;switch(te){case"plugin":(p=(o=r.site)==null?void 0:o.get("plugins"))!=null&&p.toJS().some(de=>de.package===ae)&&(ee=!0)}}return ee&&(A!=null&&A.then)&&(m={...m,...A.then}),m}function i(n,r,o){const[p,...m]=n.split("."),A=m.join(".");if(p!=="$ENV")return console.warn("WFUI - persistAs key other than $ENV is not supported:",p),o;const ee=r.surfaceHandler.getEnvVarValue(A);return we(o)&&!o.label&&(o.label=A),xe(o)&&!o.label&&(o.label=A),ee||console.log("WFUI - No value found for env var: ",n),o}function a(n,r,o){const p={...r,renderElements:a};return n.map(m=>{let A={...m};A.id||console.warn('No "id" found for element:',A);const{persistAs:ee}=A;if(ee&&(A=i(ee,r,A)),A.if&&(A=u(A,r)),A.display==="hidden")return null;const te=Ee(A.type);if(!te)return console.error(`workflow ui element unknown: ${JSON.stringify(A)}`),null;const ae=te.render(A,p);return ae?(0,L.cloneElement)(ae,{key:A.id,outset:r.outset}):null})}const h=function(n){let{config:r,surfaceRouteConfig:o,surfaceConfig:p,envVars:m,site:A,account:ee,surfaceData:te,displayOnly:ae,outset:de,onChange:me,integrationSlug:Se,surfaceInputsData:be,surfaceHandler:ye}=n;const ge={enabled:!0,key:(r==null?void 0:r.packageId)||"",name:(r==null?void 0:r.package)||"",friendlyName:(r==null?void 0:r.friendlyName)||""};return(0,d.jsx)(d.Fragment,{children:a(o,{envVars:m,site:A,account:ee,packageContext:ge,surfaceData:te,displayOnly:ae,outset:de,onChange:me,integrationSlug:Se,surfaceInputsData:be,surfaceRouteConfig:o,surfaceConfig:p,surfaceHandler:ye,sdkVersion:r==null?void 0:r.sdkVersion})})}},78290:(Ie,se,l)=>{l.d(se,{K:()=>S});var d=l(24246),L=l(27378),w=l(55492),M=l(91844),x=l(4953),P=l(35284),J=l(67005),B=l(46917),H=l(19349),Z=l(83611);function T(y,{terminate:g=!0,targetOrigin:k="*"}={}){if(typeof window=="undefined")throw new Error("You can only run fromIframe() in a browser context, but no window was found.");const N=new WeakMap;let W;function j(V){var b;V.source===y.contentWindow&&((b=V.data)==null?void 0:b.eventName)==="WFUI_IFRAME_LOADED"&&(window.removeEventListener("message",j),W())}const _=new Promise(V=>{W=V,window.addEventListener("message",j)});return{async postMessage(V,b){var v;await _,(v=y.contentWindow)==null||v.postMessage(V,k,b)},addEventListener(V,b){const v=C=>{var F,z;C.source===y.contentWindow&&((z=(F=C.data)==null?void 0:F.eventName)!=null&&z.startsWith("WFUI")&&console.log(C.data),b(C))};N.set(b,v),window.addEventListener(V,v)},removeEventListener(V,b){const v=N.get(b);v!=null&&(N.delete(b),window.removeEventListener(V,v))},terminate(){window.removeEventListener("message",j),g&&y.remove()}}}var R=l(16467);class q{constructor({surfaceName:g,exposedFunctions:k,envVarHandlers:N,surfaceData:W,accountId:j,accountSlug:_,siteName:V,queryParams:b,serverUrl:v,isPreview:C,branch:F,siteUrl:z},G){this.updater=null,this.mounted=!0,this.iframeEndpoint=null,this.iframe=null,this.elementDirectory=new Map,this.getOAuthConnection=async ie=>{const K=await fetch(`/.netlify/functions/identeer-proxy/connections/${ie}`);if(K.ok){const{token:ce}=await K.json();return ce}},W&&(this.state={surfaceData:W}),this.surfaceName=g,this.updater=G,this.exposedFunctions=k,this.envVarHandlers=N,this.accountData={accountId:j,accountSlug:_},this.siteName=V,this.siteUrl=z,this.branch=F,this.queryParams=b,this.serverUrl=v,this.isPreview=C}updateSurfaceHandlerProps({exposedFunctions:g,envVarHandlers:k,surfaceData:N}){g&&(this.exposedFunctions=g),N&&(this.state||(this.state={}),this.state.surfaceData=N),k&&(this.envVarHandlers=k)}save(g){var k;if(!this.mounted)return;const N=typeof g=="function"?g(this.state):g;this.state={...this.state,...N},(k=this.updater)==null||k.call(this)}getEnvVarValue(g){if(!this.envVarHandlers)return null;const k=this.envVarHandlers.reader.getEnvVar(g);return k?k.envVar.values[0].value:null}async onConfigLoaded({surfaceConfig:g,surfaceRouteConfig:k,elementDirectory:N,config:W,matchedRouteKey:j,siteId:_,host:V}){var b,v;let C;const{useIdentity:F,integrationSlug:z}=W;if(z){const U=await fetch("/integration-auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerId:_!=null?_:this.accountData.accountId,integrationSlug:this.isPreview?"netlify-preview":z})});if(U.ok){const{token:Q}=await U.json();C=Q}else{const Q=/\/(sites|teams)\/[^/]+\/integrations\/([^/]+)/,re=(b=window.location.pathname.match(Q))==null?void 0:b[2];if(re){const ue=this.siteName?`/sites/${this.siteName}/integrations/${re}`:`/teams/${this.accountData.accountSlug}/integrations/${re}`;window.location.href=ue}}}this.state={...this.state,surfaceConfig:g,surfaceRouteConfig:k,integrationContext:{siteId:_,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:C,isConnected:void 0,serverUrl:this.serverUrl}},this.elementDirectory=N,(0,R.CS)(this.surfaceName,this);const G={};N.forEach(U=>{const{persistAs:Q,id:re}=U;if(!Q||!re)return;const[ue,...he]=Q.split(".");if(ue!=="$ENV"){console.warn("WFUI - persistAs key other than $ENV is not supported:",ue);return}const oe=he.join("."),fe=this.getEnvVarValue(oe);G[re]=fe});let ie;if(F){if(!z)throw new Error("Integration ID is required for identity");ie=await this.getOAuthConnection(z)}const K={...this.state,integrationContext:{siteId:_,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:C,providerOAuthToken:ie,isConnected:!!ie||void 0,serverUrl:this.serverUrl},surfaceInputsData:G};if(!((v=g.surfaceScripts)!=null&&v.length)){this.save(K);return}const ce=await t({surfaceScripts:g.surfaceScripts,surfaceName:this.surfaceName,queryParams:this.queryParams,isIntegration:!!z,host:V});if(!ce){this.save(K);return}this.iframe=ce,this.iframeEndpoint=T(this.iframe,{terminate:!0,targetOrigin:"*"}),this.iframeEndpoint.addEventListener("message",U=>{U.data.eventName.replace("_RESULT","").endsWith("_UICALLBACK")&&U.data.uiState&&this.save(U.data.uiState)}),this.iframeEndpoint.addEventListener("message",async U=>{var Q,re;if(U.data.eventName==="WFUI_CALL_EXPOSED_FUNCTION"){const{functionName:ue,args:he,id:oe}=U.data;let fe;try{fe={status:"success",data:await((Q=this.exposedFunctions)==null?void 0:Q[ue](...he))}}catch(Ce){console.error("oops",Ce),fe={status:"error",data:Ce}}(re=this.iframeEndpoint)==null||re.postMessage({eventName:"WFUI_ASYNC_REQUEST_SETTLES",response:fe,id:oe})}}),this.exposedFunctions&&this.iframeEndpoint.postMessage({eventName:"WFUI_SEND_EXPOSED_FUNCTIONS",surfaceName:this.surfaceName,exposedFunctions:Object.keys(this.exposedFunctions)});const E={...this.state,integrationContext:{siteId:_,siteName:this.siteName,siteUrl:this.siteUrl,branch:this.branch,accountId:this.accountData.accountId,accountSlug:this.accountData.accountSlug,netlifyToken:C,providerOAuthToken:ie,isConnected:!!ie||void 0,serverUrl:this.serverUrl},surfaceInputsData:G},f=await this.postEventWithResponse(z?`WFUI_LOAD_${j}`:"WFUI_LOAD",E);this.save(f!=null?f:E)}async onSurfaceInteraction(g,k,N){if(!this.state){console.error("onSurfaceInteraction called with no ui state");return}this.state={...this.state,surfaceInputsData:{...this.state.surfaceInputsData,...N}};const W=await this.postEventWithResponse(`WFUI_INTERACTION_${g}:onChange`,this.state,k);return W&&this.save(W),this.state}async onSurfaceSave(g,k){var N;if(!this.state)return console.error("onSurfaceSave called with no ui state"),this.state;k&&(this.state={...this.state,surfaceInputsData:k});const W=await this.postEventWithResponse(`WFUI_SAVE_${g}:submit`,this.state);if(W&&this.save(W),!this.envVarHandlers)return this.state;const{reader:j,writer:_}=this.envVarHandlers,V=[],b=[];return Object.entries((N=this.state.surfaceInputsData)!=null?N:{}).forEach(([v,C])=>{const F=this.elementDirectory.get(v);if(!(F!=null&&F.persistAs))return;const z=H.qY.map(K=>K.value),[G,...ie]=F.persistAs.split(".");switch(G.toUpperCase()){case"$ENV":{const K=ie.join(".");if(!K){console.error("No environment variable key specified for element",F);return}if(Array.isArray(C))throw new Error(`${v} should not be an array type for an environment variable`);const ce={key:K,scopes:z,values:[{context:"all",value:C}]};j.isExistingEnvVar(K)?V.push(ce):b.push(ce)}break;default:console.warn("Unknown persistAs key:",G)}}),await Promise.all([_.createEnvVars(b),_.updateEnvVars(V)]),this.state}async onDisable(){if(!this.state){console.error("onDisable called with no ui state");return}const g=await this.postEventWithResponse("WFUI_PKG_DISABLED",this.state);if(this.save({...g,surfaceInputsData:{}}),!this.envVarHandlers)return;const{writer:k}=this.envVarHandlers,N=[];this.elementDirectory.forEach(W=>{if(!W.persistAs)return;const[j,..._]=W.persistAs.split(".");switch(j.toUpperCase()){case"$ENV":{const V=_.join(".");if(!V){console.error("No environment variable key specified for element",W);return}N.push(V)}break;default:console.warn("Unknown persistAs key:",j)}}),await k.deleteEnvVars(N)}async onEnable(){if(!this.state){console.error("onEnable called with no ui state");return}const g=await this.postEventWithResponse("WFUI_PKG_ENABLED",this.state);g&&this.save(g)}cleanup(){var g;(g=this.iframeEndpoint)==null||g.terminate(),this.iframe=null,this.mounted=!1,this.updater=null,(0,R.IC)(this.surfaceName)}postEventWithResponse(g,k,N){return this.iframeEndpoint?new Promise(W=>{const j=_=>{var V,b;((V=_.data)==null?void 0:V.eventName)===`${g}_RESULT`&&(W(D(_.data.uiState)),(b=this.iframeEndpoint)==null||b.removeEventListener("message",j))};this.iframeEndpoint?(this.iframeEndpoint.addEventListener("message",j),this.iframeEndpoint.postMessage({eventName:g,uiState:k,interactionValue:N})):W(void 0)}):Promise.resolve(void 0)}}function D(y){if(!y)return;const g={surfaceRouteConfig:y.surfaceRouteConfig,surfaceConfig:y.surfaceConfig,surfaceInputsData:y.surfaceInputsData,integrationContext:y.integrationContext};return Object.entries(g).forEach(([k,N])=>{N||delete g[k]}),g}async function O(y,g){var k;const N=await fetch(y);if(!N.ok)throw new Error(`WFUI - Unable to load script content for "${y}"`);if(!((k=N.headers.get("content-type"))!=null&&k.includes("javascript")))throw new Error(`WFUI - Script "${y}" was not javascript`);return{content:await N.text(),type:g}}function e({node:y,content:g,type:k}){const N=document.createElement("script");N.setAttribute("type",k),N.textContent=g,y.appendChild(N)}async function t({surfaceName:y,surfaceScripts:g,queryParams:k,isIntegration:N,host:W}){var j,_,V,b,v,C,F;if(!(g!=null&&g.length)||document.querySelector(`iframe[data-surface-name="${y}"]`))return null;const[z,G]=await Promise.all([O("/workflow-ui/netlify-context.js","text/javascript"),s({surfaceScripts:g,host:W})]);if(!G.length)return null;let ie;N&&(ie={href:window.location.href,hash:window.location.hash,search:(k==null?void 0:k.toString())||""});const K=document.createElement("iframe");document.body.appendChild(K);const ce=(_=(j=K.contentWindow)==null?void 0:j.document)!=null?_:K.contentDocument,E=(V=ce==null?void 0:ce.head)!=null?V:document.createElement("head"),f=document.createElement("meta");f.setAttribute("charset","UTF-8");const U=document.createElement("meta");U.setAttribute("http-equiv","Content-Security-Policy"),U.setAttribute("content",`style-src * 'unsafe-inline'; script-src 'self' 'unsafe-inline' ${Z.xw}`),E.appendChild(f),E.appendChild(U);const Q=(b=ce==null?void 0:ce.body)!=null?b:document.createElement("body");return[N&&{node:E,type:"text/javascript",content:`let integrationNavigation = ${JSON.stringify(ie)};integrationNavigation.navigateTo = (url) => window.top.location.assign(url);`},...[z,...G].map(({content:ue,type:he})=>({node:Q,type:he,content:ue}))].filter(Boolean).forEach(({node:ue,content:he,type:oe})=>{e({node:ue,content:he,type:oe})}),(v=K.contentWindow)==null||v.dispatchEvent(new Event("load")),(C=K.sandbox)==null||C.add("allow-scripts"),(F=K.sandbox)==null||F.add("allow-top-navigation"),K.setAttribute("data-surface-name",y),K.setAttribute("data-testid",`workflowui-${y}`),K.setAttribute("style","display: none;"),K}async function s({surfaceScripts:y,host:g}){const k=(y==null?void 0:y.flatMap(async W=>{let j;try{j=new URL(W,window.location.origin)}catch{return console.log("WorkflowUI - Invalid path given. Please ensure it is a valid path (ie. no path traversal):",W),null}if(j.origin===window.location.origin)return console.log("WorkflowUI - Script paths must be absolute. Please ensure the path is correct:",W),null;const _=new RegExp("netlify-integration-([a-zA-Z0-9-]+).netlify.app");return j.hostname!=="localhost"&&!_.test(j.hostname)?(console.log("WorkflowUI - Script paths must be from localhost or a netlify-integration-*.netlify.app domain. Please ensure the path is correct:",W),null):(g&&(j=new URL(j.pathname,g)),await O(j.toString(),"module"))}))||[];return(await Promise.all(k)).filter(Boolean)}const c=q,S=y=>{let{surfaceName:g,packageKey:k,envVars:N,site:W,account:j,notFoundFallbackComponent:_,renderErrorFallback:V,host:b,routeSplat:v,surfaceData:C,displayOnly:F,exposedFunctions:z,outset:G,isPreview:ie}=y;var K,ce,E;const f=j==null?void 0:j.get("id"),U=(0,w.I0)(),[Q,re]=(0,L.useState)(!1),[ue,he]=(0,L.useState)(null),[oe,fe]=(0,L.useState)(null),Ce=(0,L.useMemo)(()=>W&&f?{reader:(0,B.g)({site:W,envVars:N}),writer:(0,B.S)({accountId:f,site:W,dispatch:U,envVars:N})}:void 0,[f,U,N,W]),[,ke]=(0,L.useState)({}),[Ae]=(0,L.useState)(()=>new c({queryParams:new URLSearchParams(window.location.search),surfaceName:g,exposedFunctions:z,envVarHandlers:Ce,surfaceData:C,accountId:f,accountSlug:j==null?void 0:j.get("slug"),integrationSlug:ue==null?void 0:ue.integrationSlug,useIdentity:ue==null?void 0:ue.useIdentity,siteName:W==null?void 0:W.get("name"),siteUrl:W==null?void 0:W.get("url"),branch:W==null?void 0:W.getIn(["build_settings","repo_branch"]),serverUrl:b,isPreview:ie},()=>ke({}))),Me=De=>{let{name:Te,value:Pe}=De;Ae.save(function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{surfaceInputsData:Ne}=Oe;return{...Oe,surfaceInputsData:{...Ne,[Te]:Pe}}})};return(0,L.useEffect)(()=>{Ae.updateSurfaceHandlerProps({exposedFunctions:z,surfaceData:C,envVarHandlers:Ce})},[Ae,z,C,Ce]),(0,L.useEffect)(()=>()=>{Ae.cleanup()},[Ae]),(0,L.useEffect)(()=>{(async()=>{const Te=await(0,R.uF)({surfaceName:g,host:b,packageKey:k,routeSplat:v});if(!Te){re(!0);return}const{config:Pe,surfaceRouteConfig:Oe,surfaceConfig:Ne,matchedRouteKey:$,elementDirectory:le}=Te;if(!Pe||!Oe||!Ne){re(!0);return}await Ae.onConfigLoaded({config:Pe,surfaceConfig:Ne,surfaceRouteConfig:Oe,matchedRouteKey:$,elementDirectory:le,siteId:W==null?void 0:W.get("id"),host:b}),he(Pe||null),re(!0)})().catch(Te=>fe(Te))},[k,v,g,Ae,b,W]),oe?(0,d.jsx)("div",{className:G,children:(V==null?void 0:V(oe))||(0,d.jsx)(P.Z,{error:oe})}):Q?!ue||!((K=Ae.state)!=null&&K.surfaceConfig)||!((ce=Ae.state)!=null&&ce.surfaceRouteConfig)?(0,d.jsx)("div",{className:G,children:_||"surface package not found"}):(0,d.jsx)(J.Z,{integrationSlug:ue.integrationSlug,config:ue,surfaceRouteConfig:Ae.state.surfaceRouteConfig,envVars:N,account:j,site:W,displayOnly:F,outset:G,onChange:Me,surfaceInputsData:(E=Ae.state.surfaceInputsData)!=null?E:{},surfaceConfig:Ae.state.surfaceConfig,surfaceData:Ae.state.surfaceData,surfaceHandler:Ae}):(0,d.jsx)(M.Z,{children:(0,d.jsx)(x.Z,{})})}},35037:(Ie,se,l)=>{l.d(se,{ZP:()=>Z});var d=l(63851),L=l(26527),w=l(7857),M=l(83081);const x="http://analytics.services.netlify.com",P="v2",J=6,B=15,H=(0,L.cv)((0,w.EP)(new Date));class Z{constructor(R){this.apiVersion=P,this.root=`${R.get("analyticsClientApiBase")}/${this.apiVersion}`||`${x}/${this.apiVersion}`}headers(R={}){return{"Content-Type":"application/json",...R}}parseJsonResponse(R){let q=!1;return R.json().then(D=>(q=!0,R.ok?D:Promise.reject(new d.Z(D||"Error fetching analytics data")))).catch(D=>q?Promise.reject(D):Promise.reject({status:R.status}))}parsePaginatedJsonResponse(R){let q=!1;return R.json().then(D=>{q=!0;const O=(0,M.f8)(D==null?void 0:D.next);return R.ok?{pagination:O,data:D}:Promise.reject(new d.Z(D||"Error fetching analytics data"))}).catch(D=>q?Promise.reject(D):Promise.reject({status:R.status}))}request(R,q={}){const D=q.parseJsonResponse||this.parseJsonResponse,O=this.headers(q.headers||{}),e=this.root+R;return fetch(e,{...{credentials:"include"},...q,headers:O}).then(D).catch(s=>{const{status:c,code:S,...y}=s,g=new d.Z({code:c||S,...y});return Promise.reject(g)})}pageviews(R,{from:q,to:D,resolution:O="day"}){return this.request(`/${R}/pageviews?from=${q}&to=${D}&timezone=${H}&resolution=${O}`)}uniqueVisitors(R,{from:q,to:D,resolution:O="day"}){return this.request(`/${R}/visitors?from=${q}&to=${D}&timezone=${H}&resolution=${O}`)}topLocations(R,{from:q,to:D,resolution:O="day"}){return this.request(`/${R}/ranking/countries?from=${q}&to=${D}&timezone=${H}`)}topSources(R,{from:q,to:D}){return this.request(`/${R}/ranking/sources?from=${q}&to=${D}&timezone=${H}&limit=${J}`)}topPages(R,{from:q,to:D}){return this.request(`/${R}/ranking/pages?from=${q}&to=${D}&timezone=${H}&limit=${B}`)}bandwidthUsed(R,{from:q,to:D,resolution:O="day"}){return this.request(`/${R}/bandwidth?from=${q}&to=${D}&timezone=${H}&resolution=${O}`)}realUserMetric(R,q,D="",{from:O,to:e,resolution:t="hour"}){const s=[`from=${O}`,`to=${e}`,`timezone=${H}`,`resolution=${t}`,D&&`device_type=${D}`].filter(Boolean);return this.request(`/${R}/rum/${q}?${s.join("&")}`)}notFound(R,{from:q,to:D}){return this.request(`/${R}/ranking/not_found?from=${q}&to=${D}&timezone=${H}&limit=${B}`)}async historicalFunctionLogs(R){const{branch:q,site_id:D,name:O,from:e,to:t,next_cursor:s,search:c}=R,S=(0,L.b4)({...s&&{cursor:s},...c&&{search:c},...e&&{from:String(e)},...t&&{to:String(t)}}),y=q?`branch/${(0,L.cv)(q)}/`:"";return this.request(`/sites/${D}/${y}function_logs/${(0,L.cv)(O)}?${S}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}async historicalEdgeFunctionLogs(R){const{site_id:q,from:D,to:O,next_cursor:e,search:t}=R,s=(0,L.b4)({...e&&{cursor:e},...t&&{search:t},...D&&{from:String(D)},...O&&{to:String(O)}});return this.request(`/sites/${q}/edge_function_logs?${s}`,{parseJsonResponse:this.parsePaginatedJsonResponse})}}},88317:(Ie,se,l)=>{l.d(se,{Lz:()=>w,TP:()=>B,V_:()=>H,Wc:()=>x,_w:()=>M,aN:()=>P,au:()=>J});var d=l(90046),L=l.n(d);const w={github:"github",bitbucket:"bitbucket",bitbucket_self_hosted:"bitbucket_self_hosted",gitlab:"gitlab",gitlab_self_hosted:"gitlab_self_hosted",github_app:"github_app",github_enterprise:"github_enterprise",google:"google",email:"email",azure_devops:"azure_devops"},M=(0,d.fromJS)({github:{id:w.github,name:"GitHub",description:"Authenticate users with GitHub and access GitHub\u2019s REST API",iconName:"github",labels:{api_id:"Client ID",client_id:"Client ID",secret:"Client secret"},active:!0,supports:{search:!0}},bitbucket:{id:w.bitbucket,name:"Bitbucket",description:"Authenticate users with Bitbucket and access their REST API",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Key",client_id:"Key",secret:"Secret"},active:!0,supports:{search:!0},hideGitUserFromRepoList:!0},bitbucket_self_hosted:{id:w.bitbucket_self_hosted,name:"Bitbucket Data Center and Server",shortName:"Bitbucket",iconName:"bitbucket",iconColoredName:"bitbucket-colored",labels:{api_id:"Application ID",client_id:"Client ID",secret:"Secret"},active:!1,selfhosted:!0,supports:{search:!0},hideGitUserFromRepoList:!0},gitlab:{id:w.gitlab,name:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},active:!0,supports:{search:!0}},gitlab_self_hosted:{id:w.gitlab_self_hosted,name:"GitLab self-managed",shortName:"GitLab",iconName:"gitlab",iconColoredName:"gitlab-colored",labels:{api_id:"Application ID",client_id:"Application ID",secret:"Secret"},selfhosted:!0,supports:{search:!0},active:!1},github_app:{id:w.github_app,name:"GitHub App",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},active:!1},github_enterprise:{id:w.github_enterprise,name:"GitHub Enterprise",shortName:"GitHub",iconName:"github",labels:{api_id:"App ID",secret:"Secret"},supports:{search:!0},selfhosted:!0,active:!1},google:{id:w.google,name:"Google",iconColoredName:"google-colored",labels:{client_id:"Client ID",secret:"Client secret"},active:!1},email:{id:w.email,name:"Email",active:!1},azure_devops:{id:w.azure_devops,name:"Azure DevOps",iconName:"azure-devops",iconColoredName:"azure-devops-colored",active:!1,supports:{search:!0},hideGitUserFromRepoList:!0}}),x=M.toList().filter(Z=>Z.get("active")),P=M.toList().filter(Z=>Z.get("selfhosted")),J=Z=>x.filterNot(T=>Z&&Z.find(R=>R.get("name")===T.get("id"))),B=Z=>M.get(Z)||(0,d.Map)({id:Z,name:Z,active:!1}),H=Z=>{if(!Z)return"";const T=M.get(Z);return T==null?void 0:T.get("iconName")}},37306:(Ie,se,l)=>{l.d(se,{Z:()=>H});var d=l(5780),L=l.n(d),w=l(25994),M=l.n(w);function x(){return/^deploy-preview-/.test(window.location.hostname)?"deploy-preview":/--app\.netlify\.app$/.test(window.location.hostname)||/--app\.netlify\.com$/.test(window.location.hostname)?"branch-deploy":(["staging","prod"].includes("prod"),"production")}const P={apiKey:"9b0542315c347c80d64e228583ec6dc2",appVersion:"64ea131713ef6f476af4b90f",releaseStage:x(),collectUserIp:!1,enabledReleaseStages:["production","staging","branch-deploy","deploy-preview"],onError:Z=>{var T;if(/pbjs\.|MetaMask/.test(Z.errors[0].errorMessage)||Z.errors[0].errorClass==="ChunkLoadError")return!1;const R=sessionStorage.getItem("routePath");R&&(Z.context=R),(T=Z.request.url)!=null&&T.includes("#")&&(Z.request.url=Z.request.url.split("#")[0])}};["development","test"].includes("production")&&(P.enabledBreadcrumbTypes=[]),P.enabledReleaseStages.includes("production")||(P.logger=null);const H={start:()=>{L().start({...P,plugins:[new(M())]})}}},54856:(Ie,se,l)=>{l.d(se,{Z:()=>H});var d=l(34740),L=l(17552),w=l(28739),M=l(72746);const x="af6750c6",P=(...Z)=>{};class J{constructor(){this.context={},this.didInit=!1,this.instance={addCallback:P,addContext:(T,R,q)=>{this.context[T]={value:R,searchOptions:q}},addEventHandler:P,addRouter:P,boot:P,open:P,removeContext:T=>{delete this.context[T]},shutdown:P,setCustomComponent:P,setSummonHotkey:P,setTheme:P,shareCallbacks:P}}setInstance(T){this.instance=T}async launch({accountSlug:T,dispatch:R,themePreference:q,setThemePreference:D,user:O}){if(this.didInit)return;this.didInit=!0;const e=O.get("id");if(!e){console.error("Attempted to launch command bar without a user id");return}const t=O.get("command_bar_signed_user_id"),{init:s}=await l.e(9016).then(l.t.bind(l,78767,23));await s(x),this.setInstance(window.CommandBar),Object.entries(this.context).forEach(([g,k])=>{const{value:N,searchOptions:W}=k;this.instance.removeContext(g),this.instance.addContext(g,N,W)}),this.setContext("accountSlug",T),this.setContext("add",[{label:"Add site from git",route:"/start"},{label:"Add site from a template",route:"/start-with-template"},{label:"Add site by manual deploy (drag and drop)",route:"/drop"}]),this.setContext("docs",[],M.$o),this.setContext("support",[],M.NK);const{Dark:c,Light:S,OS:y}=w.ThemePreference;return this.instance.addContext("theme",q),this.setTheme((0,L.g)(q)),this.instance.addCallback("theme",(g,k)=>{const W=(0,L.g)(k.theme)===c?S:c;D(W),this.setContext("theme",W),this.setTheme(W)}),this.instance.addCallback("theme-os",(g,k)=>{D(y);const N=(0,L.g)(y);this.setContext("theme",N),this.setTheme(N)}),this.setContext("internal",(O.get("email")||"").endsWith("@netlify.com")),this.instance.addCallback("feedback",(g,k)=>{this.instance.shareCallbacks()["commandbar-open-feedback"]()}),this.instance.setCustomComponent("footer",M._7),this.instance.addEventHandler((g,k)=>(0,M.Zm)(R,{eventType:g,eventData:k,userId:e,accountSlug:T})),this.instance.addRouter(g=>d.mW.push(g)),this.instance.boot(e,{},{hmac:t})}setContext(T,R,q){this.instance.removeContext(T);const D=q?{searchOptions:{searchFunction:q}}:void 0;this.instance.addContext(T,R,D)}setTheme(T){this.instance.setTheme(`netlify-theme-${T}`)}setSummonHotkey(T){this.instance.setSummonHotkey(T)}open(){this.instance.open()}shutdown(){this.instance.shutdown(),this.didInit=!1}}const H=new J},95972:(Ie,se,l)=>{l.d(se,{Ck:()=>Z,DA:()=>B,L9:()=>V,N9:()=>T,Sd:()=>w,X:()=>L,ZP:()=>H,cz:()=>x,hh:()=>b,kB:()=>v,me:()=>P,p4:()=>R,sC:()=>J,ub:()=>C,w6:()=>q,yz:()=>M});var d=l(5837);const L="INVALID_FQDN",w="^[a-zA-Z0-9-.]+$",M="NETLIFY_ADDRESS_ERROR",x="NETLIFY",P="NETLIFYv6",J="MX",B="SPF",H="TXT",Z="SRV",T="CAA",R="CNAME",q="tag",D="hostname",O="value",e="(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9(\\-)]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9](\\.?))$",t=`^${e}`,s=`^@$|^(\\*)$|^(\\*\\.)?${e}`,c=`^@$|${t}`,S="^(\\*)$|^(\\*\\.)?(([a-zA-Z0-9_]|[a-zA-Z0-9_][a-zA-Z0-9_\\-]*[a-zA-Z0-9_])\\.)*([A-Za-z0-9_]|[A-Za-z0-9_][A-Za-z0-9_\\-]*[A-Za-z0-9_](\\.?))$",y=`^@$|${S}`,g="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$",k="^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$",N="(^issue$)|(^issuewild$)|(^iodef$)",j={A:g,AAAA:k,ALIAS:t,CNAME:S,MX:t,NS:t,SPF:"^(v=spf1).*$",SRV:t},_={CNAME:S,TXT:y,NS:c};function V(K,ce=O){switch(ce){case O:return j[K]||"";case q:return N;case D:return _[K]||s;default:return""}}function b(K){return K?Promise.all([l.e(7802).then(l.bind(l,19496)),Promise.resolve().then(l.bind(l,28770))]).then(([ce,E])=>[ce.default||ce,E.default||E]).then(([ce,E])=>{const f=ce.parseDomain(ce.fromUrl(K));if(f.type!==d.xj.Listed)return null;let{subDomains:U,domain:Q,topLevelDomains:re}=f;return Q||(U=f.icann.subDomains,Q=f.icann.domain,re=f.icann.topLevelDomains),Q?{subdomain:E.toASCII(U.join(".")),domain:E.toASCII(Q),tld:E.toASCII(re.join("."))}:null}):Promise.resolve(null)}function v(K){return b(K).then(ce=>{const{subdomain:E,domain:f,tld:U}=ce||{};return f?E==="www"?`${f}.${U}`:E?null:`www.${f}.${U}`:null})}function C(K){return b(K).then(ce=>ce?Promise.resolve(ce):Promise.reject(L))}function F(K){return(K||"").toLowerCase().replace(/[^a-z0-9-]/,"").substr(0,35)}function z(K){return(K||"").toLowerCase().replace(/[^a-z0-9*.\n-]/,"").substr(0,255)}function G(K){const ce=(K||"").toLowerCase().replace(/[^0-9]+/,"").substr(0,255);return ce?parseInt(ce):0}function ie(K){return K}},39063:(Ie,se,l)=>{l.d(se,{t:()=>L});function d(w,M){return`/favicon-prod-remote-${w}-${M}.png`}function L(w){var M;const x=document.querySelector("link[rel='icon'][type='image/x-icon']");x&&((M=x.parentNode)==null||M.removeChild(x));const P="link[rel='icon'][sizes]";(document.querySelectorAll(P)||[]).forEach(B=>{const H=B.getAttribute("sizes");B.setAttribute("href",d(w,H))})}},25169:(Ie,se,l)=>{l.d(se,{Ev:()=>we,Wx:()=>xe,TR:()=>Re,yU:()=>Ee});var d=l(65628),L=l(88317),w=l(26527);const M="https://app.vssps.visualstudio.com",x="https://dev.azure.com",P="7.0";function J(u){return{login:u.id,full_name:u.displayName,name:u.displayName}}function B(u){return{id:u.accountId,api_id:u.accountName,login:u.accountName,full_name:u.accountName}}function H(u){return u.value.map(B)}function Z(u){return i=>{var a,h,n;return{id:i.id,api_id:i.id,full_name:`${u}/${i.project.name}/_git/${i.name}`,full_name_encoded:`${u}/${(0,w.cv)(i.project.name)}/_git/${(0,w.cv)(i.name)}`,full_name_ui:`${u}/${i.project.name}/${i.name}`,name:i.name,default_branch:O(i.defaultBranch),private:((a=i.project)==null?void 0:a.visibility)!=="public",project_name:(h=i.project)==null?void 0:h.name,project_id:(n=i.project)==null?void 0:n.id,organization_name:u}}}function T(u){return i=>{var a;return(a=i.value)==null?void 0:a.map(Z(u))}}const R=["git.push","git.pullrequest.created","git.pullrequest.merged","git.pullrequest.updated"];function q(u){return O(u.name)}function D(u){var i;return(i=u.value)==null?void 0:i.map(q)}function O(u){return u==null?void 0:u.replace(/^refs\/heads\//,"")}function e(u){var i;return(i=u.value)==null?void 0:i.filter(a=>a.gitObjectType==="blob").map(a=>({...a,path:a.path.replace(/^\//,"")}))}function t(u){return u.content}function s(u){const i=u.headers.get("x-ms-continuationtoken");return i?{next:i}:null}class c{constructor(i,a,h){this.addDeployKey=(n,r,o)=>Promise.resolve(r),this.token=i,this.root=a||M,this.apiVersion=h||P}headers(i={}){return new Headers({"Content-Type":"application/json",Authorization:`Bearer ${this.token}`,...i})}parseJsonResponse(i,a){return i.json().then(h=>i.ok?{data:a?a(h):h,pagination:s(i)}:Promise.reject(h))}request(i,a={}){const h=this.headers(a.headers||{}),n=(0,w.b4)({...a.queryParams||{},"api-version":this.apiVersion});return fetch(`${a.root||this.root}${i}?${n}`,{method:a.method||"GET",headers:h,...a.body&&{body:a.body}}).then(r=>{var o,p;return(p=(o=r.headers)==null?void 0:o.get("Content-Type"))!=null&&p.match(/json/)?this.parseJsonResponse(r,a.format):r.text().then(m=>({data:m}))})}user(){return this.request("/_apis/profile/profiles/me",{format:J})}organizations({userLogin:i}){return this.request("/_apis/accounts",{queryParams:{memberId:i},format:H})}repos({organization:i}){return this.request(`/${(0,w.cv)(i)}/_apis/git/repositories`,{root:x,format:T(i)}).catch(()=>({data:[]}))}searchRepos(i){const{search:a}=i;return this.repos(i).then(h=>typeof h.data=="string"?h:{data:h.data.filter(({name:n,organization_name:r,project_name:o})=>`${r}/${o}/${n}`.toLowerCase().includes(a.toLowerCase()))})}branches({api_id:i,page:a,organization_name:h}){const n={$top:1e3,filter:"heads"};return a&&(n.continuationToken=a),this.request(`/${(0,w.cv)(h)}/_apis/git/repositories/${(0,w.cv)(i)}/refs`,{root:x,queryParams:n,format:D})}addWebhook({api_id:i,site:a,organization_name:h,project_id:n}){const r=m=>this.request(`/${(0,w.cv)(h)}/_apis/hooks/subscriptions`,{method:"GET",root:x,queryParams:{publisherId:"tfs",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:m}}).then(A=>({eventType:m,subscriptions:A==null?void 0:A.data})),o=({subscriptions:m})=>Array.isArray(m==null?void 0:m.value)?!m.value.some(A=>{var ee,te,ae;return((ee=A==null?void 0:A.publisherInputs)==null?void 0:ee.projectId)===n&&((te=A==null?void 0:A.publisherInputs)==null?void 0:te.repository)===i&&((ae=A==null?void 0:A.consumerInputs)==null?void 0:ae.url)===a.deploy_hook}):!0,p=({eventType:m})=>{const A={publisherId:"tfs",resourceVersion:"1.0",consumerId:"webHooks",consumerActionId:"httpRequest",eventType:m,publisherInputs:{projectId:n,repository:i},consumerInputs:{url:a.deploy_hook}};return m==="git.pullrequest.updated"&&(A.publisherInputs.notificationType="PushNotification"),this.request(`/${(0,w.cv)(h)}/_apis/hooks/subscriptions`,{method:"POST",body:JSON.stringify(A),root:x})};return Promise.all(R.map(r)).then(m=>m.filter(o)).then(m=>Promise.all(m.map(p))).then(()=>a).catch(function(m){return m.typeKey==="AccessCheckException"?{...a,webhooks_inactive:!0}:Promise.reject(m)})}dir({organization_name:i,api_id:a,branch:h,filepath:n=""}){return this.request(`/${(0,w.cv)(i)}/_apis/git/repositories/${(0,w.cv)(a)}/items`,{root:x,queryParams:{"versionDescriptor.version":h,scopePath:n,recursionLevel:"oneLevel"},format:e})}read({organization_name:i,api_id:a,branch:h,filepath:n}){return this.request(`/${(0,w.cv)(i)}/_apis/git/repositories/${(0,w.cv)(a)}/items`,{root:x,queryParams:{"versionDescriptor.version":h,path:n,$format:"json",includeContent:!0},format:t})}}const S="https://api.bitbucket.org";function y(u){return u}function g(u){const{page:i,next:a,previous:h}=u;if(i&&(a||h))return{current:i,next:i+1,nextUrl:a}}function k(u){var i;return{id:u.full_name,api_id:u.full_name,full_name:u.full_name,name:u.name,description:u.description,private:u.is_private,scm:u.scm,default_branch:(i=u.mainbranch)==null?void 0:i.name,language:u.language,updated_at:u.updated_at}}function N(u){return{data:u.data.values.map(k),pagination:u.pagination}}function W(u){return{id:u.slug,api_id:u.slug,login:u.slug,full_name:u.name,avatar:u.links.avatar.href}}function j(u){return{data:u.data.values.map(W),pagination:u.pagination}}function _({data:u,pagination:i}){return{data:u.values.map(a=>a.name),pagination:i}}function V(u){return{data:u.data.values}}function b(u){return{login:u.username,full_name:u.username,name:u.display_name,avatar:u.links.avatar.href}}class v{constructor(i){this.token=i,this.root=S}headers(i={}){return{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",...i}}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=g(h);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o,p;return(p=(o=(r=n.headers).get)==null?void 0:o.call(r,"Content-Type"))!=null&&p.match(/json/)?this.parseJsonResponse(n,a.format||y):n.text().then(m=>({data:m}))})}user(){return this.request("/2.0/user",{format:b})}repos({organization:i,page:a,per_page:h,search:n}){const r="/2.0/repositories";let p=i?`${r}/${i}?pagelen=100&role=admin`:`${r}?pagelen=100&role=admin`;return n&&(p+=`&q=${(0,w.cv)(`name~"${n}"`)}`),this.request(p).then(N)}repo(i){return this.request(`/2.0/repositories/${i}`,{format:k})}searchRepos(i){return this.repos(i)}branches({api_id:i,page:a=1}){return this.request(`/2.0/repositories/${i}/refs/branches?pagelen=100&page=${a}`).then(_)}async organizations(){const i=async o=>this.request(`/2.0/workspaces?page=${o}`).then(j);let a=1;const h=[];let n=!1,r;for(;!n;){const{data:o,pagination:p}=await i(a);h.push(...o),p!=null&&p.nextUrl?a=p.next:(n=!0,r={data:h.reverse(),pagination:p})}return r}fetchAndFormatDir(i,a,h="",n="",r=[]){const o=n?`?page=${n}`:"";return this.request(`/2.0/repositories/${i}/src/${a}/${h}${o}`).then(p=>{var m;const A=V(p),ee=(m=p.pagination)==null?void 0:m.nextUrl,te=ee&&new URLSearchParams(ee.split("?")[1]).get("page");return te?this.fetchAndFormatDir(i,a,h,te,r.concat(A.data)):{data:r.concat(A.data)}})}dir({full_name:i,branch:a,filepath:h=""}){return this.fetchAndFormatDir(i,a,h,"",[])}read({full_name:i,branch:a,filepath:h=""}){return this.request(`/2.0/repositories/${i}/src/${a}/${h}`).then(n=>({data:n.data,path:h}))}addDeployKey(i,a){return this.request(`/2.0/repositories/${i}/deploy-keys`,{method:"POST",body:JSON.stringify({label:"Netlify Deploy Key",key:a.public_key})}).then(()=>a)}addWebhook({api_id:i,site:a}){const h=`/2.0/repositories/${i}/hooks`;return this.request(h).then(n=>{if(n.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const r=n.data.values.find(p=>p.url===a.deploy_hook),o=["repo:push","pullrequest:created","pullrequest:updated","pullrequest:fulfilled","pullrequest:rejected","pullrequest:comment_created","pullrequest:comment_deleted","pullrequest:comment_updated"];return r&&o.sort().toString()!==r.events.sort().toString()?this.request(`${h}/${r.uuid}`,{method:"PUT",body:JSON.stringify({description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:o})}).then(()=>a):r?a:this.request(h,{method:"POST",body:JSON.stringify({description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:o})}).then(()=>a)})}}function C(u){return u}function F(u){const{start:i,isLastPage:a,limit:h,nextPageStart:n}=u,r=Math.floor(i/h);if(!(r===0&&a))return{current:r+1,isLastPage:a,next:r+2,nextPageStart:n}}function z(u){return{id:u.id,api_id:u.slug,organization_name:u.project.key,full_name:`${u.project.key}/${u.name}`,name:u.name,description:u.name,private:!u.public,scm:u.scmId}}function G(u){return{data:u.data.values.map(z),pagination:u.pagination}}function ie(u){return{id:u.key,api_id:u.key,login:u.name,full_name:u.name}}function K(u){return{data:u.data.values.map(ie),pagination:u.pagination}}function ce({data:u,pagination:i}){return{data:u.values.map(a=>a.displayId),pagination:i}}function E(u){return{data:u.data.values.map(i=>({path:i}))}}function f(u){return{login:u.values[0].slug,full_name:u.values[0].displayName,name:u.values[0].name}}class U{constructor(i,a,h){this.token=i,this.root=a,this.instanceUrl=h}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=F(h);return{data:a(h),pagination:n}})}request(i,a){return fetch("/.netlify/functions/bitbucket-self-hosted",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:`${this.instanceUrl}${i}`,method:(a==null?void 0:a.method)||"GET",token:this.token,payload:a==null?void 0:a.payload})}).then(h=>{var n,r;return(r=(n=h==null?void 0:h.headers)==null?void 0:n.get("Content-Type"))!=null&&r.match(/json/)?this.parseJsonResponse(h,(a==null?void 0:a.format)||C):h.text().then(o=>({data:o}))})}user(){return this.request("plugins/servlet/applinks/whoami").then(i=>this.request(`users?filter=${i.data}`,{format:f}))}repos({organization:i,page:a=1,per_page:h=25,search:n}){let r;const o="repos";return n?r=`rest/api/latest/${o}?name=${(0,w.cv)(n)}&`:r=i?`projects/${i}/${o}?`:`${o}?`,r+=`limit=${h}&start=${(a-1)*h}`,this.request(r).then(G)}repo({organization:i,full_name:a}){return this.request(`projects/${i}/repos/${a}`,{format:z})}searchRepos(i){return this.repos(i)}async branches({api_id:i,page:a=1,organization_name:h}){return this.request(`projects/${h}/repos/${i}/branches?pagelen=100&page=${a}`).then(ce)}async organizations(){const a=async p=>this.request(`projects?limit=100&start=${p}`).then(K);let h=0;const n=[];let r=!1,o;for(;!r;){const{data:p,pagination:m}=await a(h);n.push(...p),m!=null&&m.nextPageStart?h=m.nextPageStart:(r=!0,o={data:n,pagination:m})}return o}fetchAndFormatDir(i,a,h,n="",r="",o=[]){const p=r?`?page=${r}`:"",m=`projects/${i}/repos/${a}/files/${n}${p}`;return this.request(m).then(A=>{var ee;const te=E(A);return((ee=A.pagination)==null?void 0:ee.nextPageStart)&&r?this.fetchAndFormatDir(i,a,h,n,String(parseInt(r)+1),o.concat(te.data)):{data:o.concat(te.data)}})}dir({organization_name:i,api_id:a,full_name:h,branch:n,filepath:r=""}){return this.fetchAndFormatDir(i,a,n,r,"",[])}read({organization_name:i,api_id:a,branch:h,filepath:n=""}){return this.request(`projects/${i}/repos/${a}/browse/${n}`).then(r=>({data:r.data.lines.map(p=>p.text).join(`
`),path:n}))}addDeployKey(i,a,h,n){return this.request(`rest/keys/latest/projects/${n}/repos/${i}/ssh`,{method:"POST",payload:{key:{text:a.public_key,label:"Netlify Deploy Key"},permission:"REPO_READ"}}).then(()=>a)}addWebhook({api_id:i,site:a,organization_name:h}){const n=`projects/${h}/repos/${i}/webhooks`;return this.request(n).then(r=>{if(r.data==="Forbidden")return Promise.reject(new Error("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository."));const o=r.data.values.find(m=>m.url===a.deploy_hook),p=["repo:refs_changed","pr:opened","pr:from_ref_updated","pr:modified","pr:merged","pr:comment:added","pr:comment:edited","pr:comment:deleted"];return o&&p.sort().toString()!==o.events.sort().toString()?this.request(`${n}/${o.uuid}`,{method:"PUT",payload:{description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:p}}).then(()=>a):o?a:this.request(n,{method:"POST",payload:{description:"Netlify Deploy Hook",url:a.deploy_hook,active:!0,events:p}}).then(()=>a)})}}var Q=l(63851),re=l(83081);const ue="https://api.github.com";function he(u){return u}function oe(u){return{id:u.id,api_id:u.full_name,full_name:u.full_name,name:u.name,description:u.description,private:u.private,default_branch:u.default_branch,owner_type:u.owner.type,language:u.language,updated_at:u.updated_at}}function fe(u){return u.map(oe)}function Ce(u){return fe(u.items)}function ke(u){return{id:u.id,api_id:u.login,login:u.login,full_name:u.full_name,avatar:u.avatar_url}}function Ae(u){return u.map(ke)}function Me(u){return{login:u.login,full_name:u.login,name:u.name,avatar:u.avatar_url}}class De{constructor(i,a){this.token=i,this.root=(a||ue).replace(/\/$/,"")}headers(i={}){const a=new Headers({"Content-Type":"application/json",...i});return this.token&&a.set("Authorization",`token ${this.token}`),a}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=(0,re.ot)(i);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o;return(o=(r=n.headers)==null?void 0:r.get("Content-Type"))!=null&&o.match(/json/)?this.parseJsonResponse(n,a.format||he):n.text().then(p=>({data:p}))})}user(){return this.request("/user",{format:Me})}repos({organization:i,page:a,per_page:h}){let n=i?`/orgs/${i}/repos`:"/user/repos";return n+=`?page=${a}&per_page=${h}`,this.request(n,{format:fe})}repo(i){return this.request(`/repos/${i}`,{format:oe})}searchRepos({search:i,organization:a}){let h=`/search/repositories?q=${(0,w.cv)(i)}`;return a?(h+=`+user:${a}+fork:true`,this.request(h,{format:Ce})):this.user().then(n=>(h+=`+user:${n.data.login}+fork:true`,this.request(h,{format:Ce})))}branches({api_id:i,page:a=1}){return this.request(`/repos/${i}/branches?page=${a}&per_page=100`).then(({data:h,pagination:n})=>({data:h.map(r=>r.name),pagination:n}))}organizations(){return this.request("/user/orgs?page=1&per_page=100",{format:Ae})}dir({full_name:i,branch:a,filepath:h=""}){let n=`/repos/${i}/contents/${h}`;return a&&(n+=`?ref=${a}`),this.request(n)}read({full_name:i,branch:a="",filepath:h=""}){const n={Accept:"application/vnd.github.VERSION.raw"};let r=`/repos/${i}/contents/${h}`;return a&&(r+=`?ref=${a}`),this.request(r,{headers:n}).then(o=>({data:o.data,path:h}))}addDeployKey(i,a,h){const n={title:"Netlify Deploy Key",key:a.public_key,read_only:h};return this.request(`/repos/${i}/keys`,{method:"POST",body:JSON.stringify(n)}).then(()=>a)}addWebhook({api_id:i,site:a}){const h={name:"web",active:!0,events:["delete","push","pull_request","create","issue_comment","pull_request_review","pull_request_review_comment"],config:{url:a.deploy_hook,content_type:"json"}};return this.request(`/repos/${i}/hooks`,{method:"POST",body:JSON.stringify(h)}).then(()=>a).catch(n=>n.errors&&n.errors[0]&&n.errors[0].message&&n.errors[0].message.match(/already/)?a:Promise.reject(n))}createRepo(i){const a={name:i.name,description:i.description,homepage:i.url,private:!!i.private};return this.request("/user/repos",{method:"POST",body:JSON.stringify(a)}).then(h=>oe(h.data)).catch(h=>{const n=h.errors&&h.errors[0]&&/already exists/.test(h.errors[0].message)?"Repository name already exists on this account":h.message||"Repository creation failed";throw new Q.Z(n)})}}const Te=u=>i=>({id:i.id,api_id:i.full_name,full_name:i.full_name,name:i.name,description:i.description,private:i.private,installation_id:u,default_branch:i.default_branch,owner_type:i.owner.type,language:i.language,updated_at:i.updated_at}),Pe=u=>i=>i.repositories.map(Te(u)),Oe=(u,i)=>{const a=new RegExp(u,"i");return h=>n=>n.repositories.reduce((r,o)=>(a.test(o.full_name)&&r.push(Te(h)(o)),r),i)},Ne=u=>{const i=u.account;return{id:u.id,api_id:i.login,login:i.login,full_name:i.login,avatar:i.avatar_url,installation_id:u.id,target_type:u.target_type,repository_selection:u.repository_selection}},$=u=>u.installations.map(Ne),le=(u,i)=>{const a=u.full_name.toUpperCase(),h=i.full_name.toUpperCase();return a<h?-1:a>h?1:0},Le=()=>new Date().getTime();class Fe{constructor(i,a){var h=this;this.request=(n,r)=>this.github.request(n,r),this.fetchAllInstallations=function(){let{data:n=[],page:r=1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return h.installations(r).then(o=>{let{data:p,pagination:m}=o;const A=m==null?void 0:m.next;return A?h.fetchAllInstallations({data:n.concat(p),page:A}):{data:n.concat(p)}})},this.installations=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return h.request(`/user/installations?page=${n}&per_page=100&v=${Le()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:$}).catch(r=>({data:[],pagination:{}}))},this.findInstallation=(n,r)=>this.fetchAllInstallations().then(o=>o.data).then(o=>o.find(p=>n===p.login)||r&&o.find(p=>p.target_type==="Organization")),this.findInstallationId=n=>{let{login:r,installationId:o}=n;return o?Promise.resolve(o):this.findInstallation(r).then(p=>p&&p.id)},this.findInstallationRepos=n=>{let{installationId:r,page:o,per_page:p,format:m}=n;return r?this.request(`/user/installations/${r}/repositories?page=${o}&per_page=${p}&v=${Le()}`,{headers:{Accept:"application/vnd.github.machine-man-preview+json"},format:m(r)}).catch(A=>({data:[],pagination:{}})):Promise.resolve({data:[],pagination:{}})},this.user=()=>this.github.user().then(n=>{let{data:r}=n;return this.findInstallation(r.login,!0).then(o=>({data:{...r,installation_id:o&&o.login===r.login&&o.id,installation:o}}))}),this.organizations=()=>this.fetchAllInstallations().then(n=>({data:n.data.filter(r=>r.target_type==="Organization"),pagination:{}})),this.repos=n=>{let{organization:r,page:o,per_page:p,installationId:m,gitUser:A,format:ee=Pe}=n;return this.findInstallationId({login:r||A.get("login"),installationId:m}).then(te=>this.findInstallationRepos({installationId:te,page:o,per_page:p,format:ee}))},this.searchRepos=n=>{let{search:r,...o}=n;if(!r)return this.repos(...o);const p=[],m={...o,per_page:100,format:Oe(r,p)};return this.repos({...m,page:1}).then(A=>{let{pagination:ee}=A;const te=[],ae=(ee==null?void 0:ee.last)||1;for(let de=2;de<=ae;de++)te.push(this.repos({...m,page:de}));return Promise.all(te)}).then(A=>({data:p.sort(le),pagination:{}}))},this.repo=n=>this.github.repo(n),this.createRepo=n=>n.template?this.github.createRepo(n):this.user().then(r=>{const{installation_id:o,repository_selection:p}=r.data;if(p!=="all")throw new Q.Z("Can't create a repo for the current app installation.");return this.request("/user/repos",{method:"POST",body:JSON.stringify({name:n.name,description:n.description,homepage:n.url})}).then(m=>Te(o)(m.data))}),this.dir=n=>{let{full_name:r,branch:o,filepath:p}=n;return this.github.dir({full_name:r,branch:o,filepath:p})},this.read=n=>{let{full_name:r,branch:o,filepath:p}=n;return this.github.read({full_name:r,branch:o,filepath:p})},this.branches=n=>{let{api_id:r,page:o}=n;return this.github.branches({api_id:r,page:o})},this.addDeployKey=(n,r,o)=>Promise.resolve(r),this.addWebhook=n=>{let{site:r}=n;return Promise.resolve(r)},this.github=new De(i,a)}}const Ze="https://gitlab.com/api/v4";function He(u){return u}function We(u){return{id:u.id,api_id:u.id,full_name:u.path_with_namespace,name:u.name,description:u.description,default_branch:u.default_branch,private:u.visibility==="private",updated_at:u.updated_at}}function I(u){return u.map(We)}function Y(u){return{id:String(u.id),api_id:String(u.id),login:u.name,full_name:u.full_name,avatar:u.avatar_url}}function ne(u){return u.map(Y)}function X(u){return{login:u.username,full_name:u.username,name:u.name,avatar:u.avatar_url}}class pe{constructor(i,a){this.token=i,this.root=a||Ze}headers(i={}){return{"Content-Type":"application/json",...this.token?{Authorization:`Bearer ${this.token}`}:{},...i}}parseJsonResponse(i,a){return i.json().then(h=>{if(!i.ok)return Promise.reject(h);const n=(0,re.ot)(i);return{data:a(h),pagination:n}})}request(i,a={}){const h=this.headers(a.headers||{});return fetch(this.root+i,{...a,headers:h}).then(n=>{var r,o;return(o=(r=n==null?void 0:n.headers)==null?void 0:r.get("Content-Type"))!=null&&o.match(/json/)?this.parseJsonResponse(n,a.format||He):n.text().then(p=>({data:p}))})}user(){return this.request("/user",{format:X})}repos({organization:i,page:a,per_page:h,search:n,scopeCurrentUser:r=!0}){let o=i?`/groups/${i}/projects?`:"/projects?min_access_level=40&";return o+=`page=${a}&per_page=${h}`,n&&(o+=`&search=${(0,w.cv)(n)}`),r&&!i?this.user().then(p=>{const m=`/users/${p.data.login}${o}`;return this.request(m,{format:I})}):this.request(o,{format:I})}repo(i){return this.request(`/projects/${(0,w.cv)(i)}`,{format:We})}searchRepos(i){return this.repos(i)}branches({api_id:i,page:a=1}){return this.request(`/projects/${(0,w.cv)(i)}/repository/branches?per_page=100&page=${a}`).then(({data:h,pagination:n})=>({data:h.map(r=>r.name),pagination:n}))}organizations({per_page:i=100,prefetchedData:a=[],page:h=1}={}){return this.request(`/groups?per_page=${i}&page=${h}`,{format:ne}).then(({data:n,pagination:r})=>{const o=r==null?void 0:r.next,p=a.concat(n);return o?this.organizations({per_page:i,prefetchedData:p,page:o}):{data:p,pagination:r}})}dir({full_name:i,branch:a,filepath:h=""}){let n=`/projects/${(0,w.cv)(i)}/repository/tree?per_page=100`,r="";const o=[];return a&&o.push(`ref=${a}`),h&&(o.push(`path=${h}`),r=h+"/"),o&&(n+=`&${o.join("&")}`),this.request(n).then(p=>({data:p.data.map(m=>({path:r+m.name}))}))}read({full_name:i,branch:a,filepath:h=""}){let n;return new RegExp(/^.*\.[^\\]+$/).test(h)?(n=`/projects/${(0,w.cv)(i)}/repository/files`,h&&(n+=`/${(0,w.cv)(h)}`),n+=`?ref=${a}`):(n=`/projects/${(0,w.cv)(i)}/repository/tree?path=${h}`,n+=`&ref=${a}`),this.request(n).then(o=>{if(o.data.length){const p=o.data.find(m=>(m==null?void 0:m.type)==="tree");return{data:[{path:p==null?void 0:p.path,type:"dir"}],path:h}}return{data:window.atob(o.data.content),path:h}})}addDeployKey(i,a,h){const n=`/projects/${(0,w.cv)(i)}/deploy_keys`,r={title:"Netlify Deploy Key",key:a.public_key,can_push:!h};return this.request(n,{method:"POST",body:JSON.stringify(r)}).then(new Promise(o=>{setTimeout(()=>{o(a)},1e4)})).then(()=>a)}addWebhook({api_id:i,site:a}){const h=`/projects/${(0,w.cv)(i)}/hooks`,n={url:a.deploy_hook,push_events:!0,merge_requests_events:!0,note_events:!0,enable_ssl_verification:!0};return this.request(h,{method:"POST",body:JSON.stringify(n)}).then(()=>a).catch(function(r){return Promise.reject(r)})}checkErrorForInvalidToken(i){if(i.error==="invalid_token")return{code:401,message:"Your access token has expired. Please reconnect to GitLab to continue."}}createRepo(i){const a={name:i.name,description:i.description};return i.private&&(a.visibility="private"),this.request("/projects",{method:"POST",body:JSON.stringify(a)}).then(h=>We(h.data)).catch(h=>{const n=this.checkErrorForInvalidToken(h);if(n)throw new Q.Z(n);const r=h.message&&/taken/.test(String(h.message.name))?"Repository name already exists on this account":"Repository creation failed";throw new Q.Z(r)})}}const _e={github:De,github_app:Fe,github_enterprise:Fe,gitlab:pe,gitlab_self_hosted:pe,bitbucket:v,bitbucket_self_hosted:U,azure_devops:c};function Ee(u){return{"github.com":L.Lz.github,"gitlab.com":L.Lz.gitlab,"bitbucket.org":L.Lz.bitbucket,"dev.azure.com":L.Lz.azure_devops}[u]}function we(u){const i=(0,d.oI)(u),a=(0,d.Gu)(u),h=(0,d.qq)(u),n=(0,d.HN)(u);return xe(i,a,h,n)}function xe(u,i,a,h){if(u){const n=_e[u];if(n){const r=new n(i,a,h);return r.provider=u,r}}}function Re(u,i){return{github:`https://github.com/${i}`,gitlab:`https://gitlab.com/${i}`,bitbucket:`https://bitbucket.org/${i}`,azure_devops:void 0}[u]}},17749:(Ie,se,l)=>{l.d(se,{q:()=>w});var d=l(40917);function L(){}class w{constructor({appId:x,onAppInstall:P,enterpriseUrl:J=""}){this.messageHandler=B=>{const H=B&&B.data;if(/^installation:ready:/.test(H)){const[Z,T,R]=H.match(/^installation:ready:(\d+):([\w-]+)$/);this.onAppInstall({installationId:Number(T),login:R}),this.close()}},this.open=()=>{window.addEventListener("message",this.messageHandler,!1),(0,d.xw)({provider:this.provider,url:this.url})},this.close=()=>{this.cleanup()},this.cleanup=()=>{window.removeEventListener("message",this.messageHandler,!1),(0,d.on)()},this.appId=x||"netlify",this.onAppInstall=P||L,this.url=J?`${J.replace(/\/$/,"")}/github-apps/netlify/installations/new`:`https://github.com/apps/${this.appId}/installations/new`,this.provider=J?"github_enterprise":"github_app"}}},22616:(Ie,se,l)=>{l.d(se,{ZP:()=>V,yl:()=>B});var d=l(5780),L=l.n(d),w=l(75033),M=l.n(w);const x=()=>l.e(9689).then(l.t.bind(l,92133,23)),J={listFrameworks:async function(b){return(await x()).listFrameworks(b)}},B=["netlify.toml","package.json",".nvmrc",".node_version","netlify","functions",".lfsconfig","Gemfile"],H="dist/",Z="v16.19.1",T={"jekyll with no gemfile":`It looks like this is a **Jekyll** site, but you don't have a **Gemfile**.
This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"jekyll not in gemfile":`It looks like this is a **Jekyll** site, but your **Gemfile** doesn\u2019t list
Jekyll as a dependency. This will most likely lead to a broken build.
Check out our [Migrating your Jekyll site to Netlify](https://www.netlify.com/blog/2017/05/11/migrating-your-jekyll-site-to-netlify/)
guide to fix this issue before deploying your site.`,"error parsing package.json":`You have a malformed package.json in your folder. This will most likely lead to a
broken build when attempting to install your npm dependencies.`,"repository uses large media":`**This repository uses Netlify Large Media**

Repository files tracked by the Large Media service are stored with the original site. These files cannot be accessed in clones or forks. Contact the original repository owner for possible alternatives.`},O=[(b,v)=>{if(v["package.json"])try{JSON.parse(v["package.json"])}catch{return T["error parsing package.json"]}},(b,v)=>{if(b.includes("_config.yml")&&!(b.includes("_config.yml")&&v["package.json"]&&v["package.json"].match(/hexo/))){if(!v.Gemfile)return T["jekyll with no gemfile"];if(!v.Gemfile.match(/('jekyll'|"jekyll"|'github-pages'|"github-pages")/))return T["jekyll not in gemfile"]}},(b,v,C)=>{if(!v[".lfsconfig"]||!C)return;if(/\.netlify\/large-media/.test(v[".lfsconfig"]))return T["repository uses large media"]}];function e(b=[],v={},C){for(const F in O){const z=O[F](b,v,C);if(z)return z}}const t=({plugins:b=[],context:v={}})=>{const C=b;return Object.keys(v).forEach(F=>{v[F].plugins&&C.push(...v[F].plugins)}),[...new Set(C.map(F=>F.package))]},s=b=>{var v,C;if(!b)return{};const F={};let z;try{z=M().parse(b)}catch(ie){return L().notify(ie,K=>{K.context="getNetlifyTomlSettings => TOML.parse",K.severity="info"}),F}z!=null&&z.build&&(F.cmd=z.build.command,F.dir=z.build.publish),F.functions_dir=((v=z==null?void 0:z.build)==null?void 0:v.functions)||((C=z==null?void 0:z.functions)==null?void 0:C.directory),z!=null&&z.template&&(F.template=z.template);const G=t(z);return G.length&&(F.plugins_installed=G),F},c=(b,v)=>{var C;if(!v["package.json"])return{};let F;try{F=JSON.parse(v["package.json"])}catch{return{}}const z=b.includes("yarn.lock")?"yarn":"npm run";return(C=F==null?void 0:F.scripts)!=null&&C.build?{cmd:`${z} build`}:{}},S=(b,v)=>{var C;const F=ie=>{const K=ie.startsWith("./")?ie.slice(2):ie;return b.includes(K)},z=((C=v[".nvmrc"])==null?void 0:C.trim())||Z;let G;try{G=v["package.json"]?JSON.parse(v["package.json"]):{}}catch{G={}}return{pathExists:F,packageJson:G,nodeVersion:z}},y=async(b,v)=>{try{const C=S(b,v),F=await J.listFrameworks(C),z={};if(F.length){const{build:G,id:ie,name:K,plugins:ce}=F[0];z.cmd=G.commands[0],z.dir=G.directory,z.framework=ie,z.frameworkName=K,z.plugins_recommended=ce}return z}catch(C){throw new Error(`Error getting framework information: ${C}`)}};function g(b){const v=b.netlify,C=b.functions;if((!v||!Array.isArray(v))&&(!C||!Array.isArray(C)))return null;if(v){for(const F of v)if(F.path==="netlify/functions"&&F.type==="dir")return{functions_dir:F.path};if(!C)return null}return{functions_dir:"functions"}}const k=b=>{const v={},C=g(b);return C||v},N=(b,v,C,F)=>{const z=[b,v,C,F],G={cmd:void 0,dir:void 0,template:void 0,functions_dir:void 0,plugins_installed:void 0,plugins_recommended:void 0,framework:void 0,frameworkName:void 0};return z.forEach(ie=>{ie&&Object.keys(ie).forEach(K=>{G[K]=G[K]||ie[K]})}),!G.dir&&G.cmd&&(G.dir=H),G},W=(b=[],v=[],C=[])=>v.reduce((F,z)=>b.includes(z)&&!C.includes(z)?F:[...F,{package:z}],[]),j=async(b=[],v={})=>{const C=s(v["netlify.toml"]),F=c(b,v),z=await y(b,v),G=k(v),ie=N(C,F,z,G),K=["@netlify/plugin-nextjs"];return ie.plugins=W(C==null?void 0:C.plugins_installed,z==null?void 0:z.plugins_recommended,K),ie},V=async(b,v,C)=>{const F=e(b,v,C);return{settings:await j(b,v),warning:F}}},83360:(Ie,se,l)=>{l.d(se,{R:()=>L});var d=l(18228);class L extends d.Wd{constructor(M,x){super(),this.git=M,this.details=x,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}changeBranch(M){this.details.branch=M,this.fileCache=new Map,this.dirCache=new Map,this.pending=new Map}getEnvironment(){return"browser"}isAbsolute(M){return M.startsWith("/")}resolve(...M){const x=this.join(...M);return this.isAbsolute(x)?x:this.join(this.cwd,x)}async fileExists(M){try{return this.readFile(M),!0}catch{return!1}}async readDir(M,x){const P=this.resolve(M).replace(/^\//,""),J=this.dirCache.get(P);let B;if(J)B=J;else{const H=this.pending.get(P);if(H)B=await Promise.resolve(H);else{const Z=this.git.dir({...this.details,filepath:P}).then(T=>T.data);this.pending.set(P,Z),B=await Z,this.dirCache.set(P,B),this.pending.delete(P)}}return x?B.reduce((H,Z)=>({...H,[Z.name]:Z.type==="dir"?"directory":"file"}),{}):B.map(({name:H})=>H)}async readFile(M){const x=this.resolve(M).replace(/^\//,""),P=this.fileCache.get(x);if(P)return P;const J=this.pending.get(x);if(J)return await Promise.resolve(J);const B=this.git.read({...this.details,filepath:x}).then(Z=>Z.data);this.pending.set(x,B);const H=await B;return this.fileCache.set(x,H),this.pending.delete(x),H}}},16608:(Ie,se,l)=>{l.d(se,{u:()=>H});var d=l(40917),L=l(32587);function w(Z){console.error(Z)}const M="/build/logs",x="/function/logs",P="/edge-function/logs";class J{constructor(T){switch(T.resource){case L.Z.BUILD:this._initBuildLog(T);break;case L.Z.FUNCTION:this._initFunctionLog(T);break;case L.Z.EDGE_FUNCTION:this._initEdgeFunctionLog(T);break;default:throw new Error("unknown log type")}}_initBuildLog(T){this.path=M,this.subscribeMsg={deploy_id:T.deployId,site_id:T.siteId}}_initFunctionLog(T){this.path=x,this.subscribeMsg={account_id:T.awsAccountId,function_id:T.functionId,site_id:T.siteId,from:T.fromDatetime,to:T.toDatetime}}_initEdgeFunctionLog(T){this.path=P,this.subscribeMsg={deploy_id:T.deployId,site_id:T.siteId,since:new Date(Date.now()-5*60*1e3).toISOString(),use_v2:T.useV2}}async _getAccessControlToken(){return(0,d.z9)()?(0,d.$f)().then(T=>{this.subscribeMsg&&T&&(this.subscribeMsg.access_token=T)},T=>{console.error(T)}):Promise.resolve()}listen(T,R=w){const q=`wss://socketeer.services.netlify.com${this.path}`;this.ws=new WebSocket(q),this.ws.addEventListener("open",()=>{this._getAccessControlToken().then(()=>{this.ws.send(JSON.stringify(this.subscribeMsg))}).catch(D=>{console.error(D)})}),this.ws.addEventListener("message",({data:D})=>{try{const{ts:O,message:e,type:t,request_id:s,level:c,request_path:S,function:y,section:g}=JSON.parse(D);if(t==="start")return;T({ts:O,type:t,log:e,requestId:s,level:c,requestPath:S,functionName:y,...g&&{section:g}})}catch(O){R(O)}}),this.ws.addEventListener("error",R)}close(){!this.ws||this.ws.readyState===WebSocket.CLOSED||(this.ws.close(),this.ws=null)}}const B={socketeer:J};function H(Z){const T=B[Z.type];return T&&new T(Z)}},32587:(Ie,se,l)=>{l.d(se,{Z:()=>L});const L={BUILD:"build",FUNCTION:"function",EDGE_FUNCTION:"edgeFunction"}},21805:(Ie,se,l)=>{l.d(se,{De:()=>x,EN:()=>Z,TH:()=>J,hZ:()=>L,iJ:()=>M,lK:()=>d,nU:()=>w,oF:()=>H,tw:()=>T});const d="Organization Owner",L="Owner",w="Collaborator",M="Controller",x=M,P="Git Contributor",J="Reviewer",B=(R,q)=>{const D=R.find(O=>O.role===q);return D?D.counts.total:0},H=({memberRoles:R,excludeActive:q=!1})=>R.reduce((D,O)=>{var e;return O.billable?((e=O.counts)==null?void 0:e.active)!==void 0?q?D:D+O.counts.active:D+O.counts.total:D},0),Z=R=>B(R,J),T=R=>{var q;return(q=R.find(D=>D.role===P))==null?void 0:q.counts}},13332:(Ie,se,l)=>{l.d(se,{Z:()=>D});var d=l(63851),L=l(82214),w=l(26527),M=l(53562),x=l(21805),P=l(83081);const J="https://api.netlify.com",B="/api/v1",H="/api/experiments",Z="netlify.app",T=15,R=["headers","parseJsonResponse","request","postRequest"],q=`We\u2019re having some trouble connecting you to Netlify.

This error may be caused by an ad blocker or browser extension. You can try disabling blocking on this page or running in incognito`;class D{constructor(e){return this.token=e.get("accessToken"),this.apiBase=e.get("apiBase"),this.root=e.get("clientApiBase")||e.get("apiBase")||J,this.mockRoot=e.get("mockApiBase"),this.siteDomain=e.get("siteDomain")||Z,this.siteId=e.get("siteId"),new Proxy(this,{get(t,s,...c){if(typeof t[s]=="function"&&!R.includes(s.toString())){const S=Reflect.get(t,s,...c),y=s.toString();return function(...k){const N=(0,M.I7)(`api-${y}-start`),W=S.apply(t,k);return W.then?new Promise((j,_)=>{W.then(V=>{const b=(0,M.I7)(`api-${y}-end`,{rejected:!1});return(0,M.KT)(`api-${y}-complete`,N,b),j(V)}).catch((...V)=>{const b=(0,M.I7)(`api-${y}-end`,{rejected:!0});return(0,M.KT)(`api-${y}-complete`,N,b),_(...V)})}):W}}return Reflect.get(t,s,...c)}})}headers(e={},t,s){const c={};return(this.token||s)&&!t&&(c.Authorization=`Bearer ${s||this.token}`),{"Content-Type":"application/json",...c,...e}}parseJsonResponse(e){let t=!1;return e.json().then(s=>(t=!0,e.ok?{data:s,pagination:(0,P.ot)(e)}:Promise.reject(s))).catch(s=>t?Promise.reject(s):Promise.reject({status:e.status}))}async request(e,t={}){const s=!t.forceUseApiBase;let c;t.forceUseApiBase&&(0,L.W8)()&&(c=await(0,L.ZD)());const S=this.headers(t.headers||{},s,c);S["Content-Type"]==="delete"&&delete S["Content-Type"];let y=t.forceUseApiBase&&this.apiBase?this.apiBase:this.root;t.retryWithMockServer&&this.mockRoot&&(y=this.mockRoot);let g=t.noPrefix?y+e:y+(t.prefix||B)+e;const k={};return s&&(k.credentials="include"),fetch(g,{...k,...t,headers:S}).then(N=>{if(t.raw&&N.ok)return N.arrayBuffer();const W=N.headers.get("Content-Type");if(W&&W.match(/json/))return this.parseJsonResponse(N);const j=W&&W.match(/(text|javascript|xml|svg)/i)?"text":"arrayBuffer";return N[j]().then(_=>N.ok?{data:_}:Promise.reject(N))}).catch(N=>{let W;if(/Failed to fetch/.test(N))W=new d.Z(q);else{const{status:j,code:_,...V}=N;W=new d.Z({code:j||_,...V})}return Promise.reject(W)})}postRequest(e,t){const s={method:"POST"};return t&&(s.body=t),this.request(e,s)}enableAnalytics(e){return this.request(`/sites/${e}/analytics`,{method:"POST"})}deleteAnalytics(e,t){return this.request(`/sites/${e}/analytics/${t}`,{method:"DELETE"})}site(e){return this.request(`/sites/${e}.${this.siteDomain}`)}siteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`)}updateSiteFirewallRuleSet(e,t){return this.request(`/sites/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}deleteSiteFirewallRuleSet(e){return this.request(`/sites/${e}/firewall_rule_set`,{method:"DELETE"})}unlinkSiteRepository(e){return this.request(`/sites/${e}/unlink_repo`,{method:"PUT"})}siteById(e){return this.request(`/sites/${e}`)}sites({page:e,perPage:t,searchTerm:s,searchGlobally:c,sortBy:S,accountSlug:y,token:g}){let k="";return!c&&y&&(k+=`/${y}`),k+=`/sites?filter=all&sort_by=${S||"updated_at"}&page=${e||1}&per_page=${t||T}`,s&&(k+=`&name=${s}`),g&&(k+=`&token=${g}`),k+="&include_favorites=true",this.request(k)}siteSnippets(e){return this.request(`/sites/${e}/snippets`)}siteSnippetRemove(e,t){return this.request(`/sites/${e}/snippets/${t}`,{method:"DELETE"})}siteSnippetAdd(e,t){return this.postRequest(`/sites/${e}/snippets`,JSON.stringify(t))}siteBuildHooks(e){return this.request(`/sites/${e}/build_hooks`)}addBuildHook(e,t){return this.request(`/sites/${e}/build_hooks`,{method:"POST",body:JSON.stringify(t)})}removeBuildHook(e,t){return this.request(`/sites/${e}/build_hooks/${t}`,{method:"DELETE"})}branches(e){return this.request(`/sites/${e}/deployed-branches`)}getEnvVars({accountId:e="",siteId:t="",scope:s="all",context:c="all",merge:S=!0}){const y=[t&&`site_id=${t}`,`scope=${s}`,`context=${c}`,S&&"level=all"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${y}`)}createEnvVars({accountId:e="",siteId:t="",envVars:s=[]}){const c=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env?${c}`,{method:"POST",body:JSON.stringify(s)})}updateEnvVar({accountId:e="",siteId:t="",oldKey:s="",newKey:c="",is_secret:S=!1,scopes:y=[],values:g=[]}){const k=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}?${k}`,{method:"PUT",body:JSON.stringify({key:c,is_secret:S,scopes:y,values:g})})}setEnvVarValue({accountId:e="",siteId:t="",key:s="",context:c="",context_parameter:S,value:y=""}){const g=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}?${g}`,{method:"PATCH",body:JSON.stringify({context:c,context_parameter:S,value:y})})}deleteEnvVar({accountId:e="",siteId:t="",key:s="",id:c=""}){const S=[t&&`site_id=${t}`,"client=ui"].filter(Boolean).join("&");return this.request(`/accounts/${e}/env/${s}${c?`/value/${c}`:""}?${S}`,{method:"DELETE"})}deploy(e){return this.request(`/deploys/${e}`)}deploys(e,{page:t,perPage:s,filter:c,state:S,minimal:y,from:g,to:k}){let N=`/sites/${e}/deploys?page=${t||1}&per_page=${s||T}`;if(c)switch(c){case"deploy previews":N+="&deploy-previews=true";break;default:N+=`&branch=${c}`}return S&&(N+=`&state=${S}`),y&&(N+="&minimal=true"),g&&(N+=`&from=${g}`),k&&(N+=`&to=${k}`),this.request(N)}deployLog(e){return this.request(`/deploys/${e}/log`).then(t=>{var s;return((s=t==null?void 0:t.data)==null?void 0:s.url)&&fetch(t.data.url).then(c=>c.json())})}deploySummary(e){return this.request(`/deploys/${e}/summary`)}deployCommitters(e){return this.request(`/deploys/${e}/committers`,{prefix:H})}fetchPullRequest(e){return this.request(`/cdp/deploys/${e}`)}deployActivity(e){return this.request(`/cdp/deploys/${e}/events`)}inviteCommitter(e,t){return this.request(`/deploys/${e}/invite`,{prefix:H,method:"POST",body:JSON.stringify({committer:t})})}deployPluginRuns(e){return this.request(`/deploys/${e}/plugin_runs`)}buildHooks(e){return this.request(`/sites/${e}/build_hooks`)}publishDeploy(e){const t=`/deploys/${e}/restore`;return this.request(t,{method:"POST"})}triggerDeploy(e,t,s){return this.request(`/sites/${e}/builds`,{method:"POST",body:JSON.stringify({clear_cache:t,template_id:s})})}createDeployKey(){return this.request("/deploy_keys",{method:"POST"})}getDeployKey(e){return this.request(`/deploy_keys/${e}`)}createSite(e={}){const{account_slug:t}=e,s=t?`/${t}/sites`:"/sites";return this.request(s,{method:"POST",body:JSON.stringify(e)})}createDeploy(e,t={}){return this.request(`/sites/${e}/deploys`,{method:"POST",body:JSON.stringify(t)})}siteDeploy(e,t){return this.request(`/sites/${e}/deploys/${t}`)}updateSite(e,t){return this.request(`/sites/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteSite(e){return this.request(`/sites/${e}`,{method:"DELETE"})}uploadFile(e,t,s,c){const S=`/deploys/${e}/files${t}`,y={"Content-Type":"application/octet-stream"};return c&&(y.Authorization=`Bearer ${c}`),this.request(S,{method:"PUT",body:s,headers:y,forceUseApiBase:!0})}waitForDeploy(e){return new Promise((t,s)=>{const c=()=>{this.deploy(e).then(S=>{var y;if(((y=S.data)==null?void 0:y.state)==="ready")return t(S);setTimeout(c,1e3)}).catch(s)};c()})}waitForSiteDeploy(e){return new Promise((t,s)=>{const c=()=>{this.site(e).then(S=>{var y;if((y=S.data)!=null&&y.deploy_id)return t(S);setTimeout(c,1e3)}).catch(s)};c()})}dnsZones(e,t=1){return this.request(e?`/dns_zones?account_slug=${e}&page=${t}`:`/dns_zones?page=${t}`)}dnsZonePath(e){return`/dns_zones/${e.replace(/\./g,"_")}`}dnsZone(e){return this.request(this.dnsZonePath(e))}createDnsZone(e,t,s={}){return this.request("/dns_zones",{method:"POST",body:JSON.stringify({...s,name:e,account_slug:t})})}enableDnsZoneIPv6(e){const t=this.dnsZonePath(e);return this.request(`${t}/enable-ipv6`,{method:"PUT"})}enableDedicatedDns(e){const t=this.dnsZonePath(e);return this.request(`${t}/expand`,{method:"PUT"})}destroyDnsZone(e){return this.request(this.dnsZonePath(e),{method:"DELETE"})}transferDnsZone(e,{account_id:t,transfer_account_id:s,transfer_user_id:c}){return this.request(`${this.dnsZonePath(e)}/transfer`,{method:"PUT",body:JSON.stringify({account_id:t,transfer_account_id:s,transfer_user_id:c})})}domainsPath(e){return`/domains-next/${e.replace(/\./g,"_")}`}toggleDomainAutoRenew(e,t,s){return this.request(`${this.domainsPath(e)}/auto-renew`,{method:"PUT",body:JSON.stringify({account_id:t,auto_renew:s})})}dnsRecords(e){return this.request(`${this.dnsZonePath(e)}/dns_records`)}dnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`)}createDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records`,{method:"POST",body:JSON.stringify(t)})}destroyDnsRecord(e,t){return this.request(`${this.dnsZonePath(e)}/dns_records/${t}`,{method:"DELETE"})}deployFiles(e){return this.request(`/deploys/${e}/files`)}deployFile(e,t){return this.request(`/deploys/${e}/files${t}`,{forceUseApiBase:!0,raw:!0,headers:{"Content-Type":"application/vnd.bitballoon.v1.raw"}})}largeMediaAssets(e,{page:t,perPage:s,filter:c}){return this.request(`/large_media_assets/?site_id=${e}&page=${t||1}&per_page=${s||T}${c?`&name=${c}`:""}`)}user(){return this.request("/user")}updateUser(e){return this.request("/user",{method:"PUT",body:JSON.stringify(e)})}updateUserQuestionnaireTelemetry(e){return this.request(`/users/${e.userId}/questionnaire`,{method:"PUT",body:JSON.stringify(e)})}updateUserAvatar(e){const t=new FormData;t.append("file",e);const s={method:"POST",body:t,headers:{"Content-Type":"delete"}};return this.request("/users/avatar",s)}deleteUserAvatar(){return this.request("/users/avatar",{method:"DELETE"})}paymentMethods({provider:e,accountId:t}){return this.request(`/billing/payment_methods${e==="zuora"&&t?`?account_id=${t}`:""}`)}receiptPdf(e){return this.request(`/billing/receipts/${e}`,{raw:!0,headers:{Accept:"application/pdf"}})}getPromo(e){return this.request(`/billing/promo_codes/${e}`)}updateBilling(e){return this.request("/billing",{method:"PUT",body:JSON.stringify(e)})}getSubscriptions(e){return this.request(`/billing/subscriptions?site_id=${e}`)}cancelSubscription(e){return this.request(`/billing/subscriptions/${e}`,{method:"DELETE"})}newSubscription(e){return this.request("/billing/subscriptions",{method:"POST",body:JSON.stringify(e)})}updateSubscription(e,t){return this.request(`/billing/subscriptions/${e}`,{method:"PUT",body:JSON.stringify(t)})}paymentProviderToken({sandbox:e,accountId:t,enterpriseException:s,secure:c}){let S=`/billing/client_token?sandbox=${~~!!e}&legacy=0`;return t&&(S+=`&account_id=${t}`),s&&(S+=`&enterprise_exception=${~~!!s}`),c&&(S+="&token_type=rsa_signature"),this.request(S,{method:"POST"})}braintreeToken(){return this.request("/billing/client_token?legacy=1&sandbox=0",{method:"POST"})}paymentMethod(e){return this.request(`/billing/payment_methods/${e}`)}savePaymentMethod(e){const{customer_id:t,sandbox:s,enterpriseException:c}=e;if(!t)return Promise.reject("Missing customer_id in attributes");let S=`/accounts/payments?customer_id=${t}&gateway=zuora_${s?"sandbox":"production"}`;return c&&(S+=`&enterprise_exception=${~~!!c}`),this.postRequest(S,JSON.stringify(e))}removePaymentMethod(e){return this.request(`/billing/payment_methods/${e}`,{method:"DELETE"})}members(e){return this.request(`/sites/${e}/members`)}inviteMember(e,t){return this.postRequest(`/sites/${e}/members`,JSON.stringify({email:t}))}certificate(e){return this.request(`/sites/${e}/ssl`)}updateSsl(e,t,s){let c=`/sites/${e}/ssl`;return s&&(c+=`/${s}`),this.postRequest(c,JSON.stringify(t))}verifySsl(e){return this.request(`/sites/${e}/ssl/verify_custom_domain`)}removeMember(e,t){return this.request(`/sites/${e}/members/${t}`,{method:"DELETE"})}acceptInvite(e){return this.postRequest(`/invites/${e}/accept`)}hooks(e){return this.request(`/hooks?site_id=${e}`)}hookTypes(e){return this.request(`/hooks/types?site_id=${e}`)}addHook(e){return this.request("/hooks",{method:"POST",body:JSON.stringify(e)})}updateHook(e,t){return this.request(`/hooks/${e}`,{method:"PUT",body:JSON.stringify(t)})}deleteHook(e){return this.request(`/hooks/${e}`,{method:"DELETE"})}enableHook(e){return this.request(`/hooks/${e}/enable`,{method:"POST"})}siteForms(e){const t=`/sites/${e}/forms`;return this.request(t)}siteForm(e){return this.request(`/forms/${e}`)}formSubmissions(e,{formId:t,page:s,perPage:c,filter:S}){let y=t?`/sites/${e}/forms/${t}/submissions?`:`/sites/${e}/submissions?`;return y+=`state=${S||"ham"}&`,y+=`page=${s||1}&per_page=${c||T}`,this.request(y)}markSubmissionAsHam(e,t){return this.request(`/submissions/${t}/ham`,{method:"PUT"})}markSubmissionAsSpam(e,t){return this.request(`/submissions/${t}/spam`,{method:"PUT"})}functions(e,t){let s=`/sites/${e}/functions`;return t&&(s+=`?filter=${encodeURIComponent(t)}`),this.request(s)}fetchEdgeAccessToken(e,t){return this.request("/auth/edge-access",{noPrefix:!0,method:"POST",body:JSON.stringify({site_id:e,domain:t})})}edgeFunctions(e){const t=`/deploys/${e}/edge_functions`;return this.request(t)}authProviders(e){return this.request(`/sites/${e}/authentication_providers`)}createAuthProvider(e,t,s,c){return this.request(`/sites/${e}/authentication_providers`,{method:"POST",body:JSON.stringify({name:t,provider:t,api_id:s,api_secret:c})})}removeAuthProvider(e,t){return this.request(`/sites/${e}/authentication_providers/${t}`,{method:"DELETE"})}setupMultiFactorAuth(){return this.request("/user/multifactor_auth/setup")}enableMultiFactorAuth({otp:e,token:t}){return this.request("/user/multifactor_auth",{method:"POST",body:JSON.stringify({otp:e,token:t})})}disableMultiFactorAuth({otp:e}){return this.request("/user/multifactor_auth",{method:"DELETE",body:JSON.stringify({otp:e})})}verifyLogin({otp:e,token:t}){return this.request("/user/multifactor_auth/verify_login",{method:"POST",body:JSON.stringify({otp:e}),headers:{Authorization:`Bearer ${t}`}})}application(e){return this.request(`/oauth/applications/${e}`)}applications(){return this.request("/oauth/applications")}createApplication(e){return this.request("/oauth/applications",{method:"POST",body:JSON.stringify(e)})}updateApplication(e,t){return this.request(`/oauth/applications/${e}`,{method:"PUT",body:JSON.stringify(t)})}removeApplication(e){return this.request(`/oauth/applications/${e}`,{method:"DELETE"})}verifyUserByToken(e){const[t,s]=e.split("-");return this.request("/auth/verify",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:t,code:s})})}verifySamlUserByToken(e,t){return this.request("/auth/verify-saml",{noPrefix:!0,method:"POST",body:JSON.stringify({code_id:e,code:t})})}verifyUser(e,t){return this.request(`/users/${e}/confirm_email`,{method:"PUT",body:JSON.stringify({secret:t})})}resetPasswordEmail(e){return this.request("/password_reset",{method:"POST",body:JSON.stringify({email:e})})}resetPassword(e,t,s){const c={token:e,password:t,password_confirmation:s};return this.request("/password_reset",{method:"PUT",body:JSON.stringify(c)})}authorizeApplication(e){return this.request("/oauth/authorize",{noPrefix:!0,body:JSON.stringify({client_id:e.clientID,redirect_uri:e.redirectURI,response_type:e.responseType,scope:e.scope,state:e.state,grant_saml:e.grantSaml}),method:"POST"})}authorizedApplications(e){let t="/oauth/applications/authorized";return e&&(t+=`?administrator_id=${e}`),this.request(t)}revokeAuthorizedApplication(e,t){let s=`/oauth/applications/${e}/revoke`;return t&&(s+=`?administrator_id=${t}`),this.request(s,{method:"DELETE"})}createPersonalToken(e,t,s){const c="/oauth/applications/create_token";return this.postRequest(c,JSON.stringify({name:e,grant_saml:t,administrator_id:s||null}))}ticket(e){return this.request(`/oauth/tickets/${e}`)}authorizeTicket(e,t){let s=`/oauth/tickets/${e}/authorize`;return t&&(s+="?grant_saml=true"),this.request(s,{method:"POST"})}createTemplate(e){return this.postRequest("/templates",JSON.stringify(e))}verifyPubstorm(e){return this.postRequest("/pubstorm/verify",JSON.stringify(e))}claimPubstorm(e){return this.postRequest("/pubstorm/claim",JSON.stringify(e))}requestPubstormRecovery(e){return this.postRequest("/pubstorm/recover",JSON.stringify({email:e}))}deployLogLocation(e){return this.request(`/deploys/${e}/log`)}deployLogAccessCheck(e){return this.request(`/deploys/${e}/check_access`)}lockDeploy(e){return this.postRequest(`/deploys/${e}/lock`)}unlockDeploy(e){return this.postRequest(`/deploys/${e}/unlock`)}retryDeploy(e,t){return this.postRequest(`/deploys/${e}/retry`,JSON.stringify(t||{}))}acceptDeploy(e){return this.postRequest(`/deploys/${e}/accept`)}rejectDeploy(e){return this.postRequest(`/deploys/${e}/reject`)}cancelDeploy(e){return this.postRequest(`/deploys/${e}/cancel`)}deleteDeploy(e){return this.request(`/deploys/${e}`,{method:"DELETE"})}organizations(){return this.request("/organizations")}organization(e){return this.request(`/organizations/${e}`)}organizationAccounts(e){return this.request(`/organizations/${e}/accounts`)}organizationInvoices(e){return this.request(`/organizations/${e}/invoices`)}organizationInvoice(e,t){return this.request(`/organizations/${e}/invoices/${t}`)}organizationReceipts(e){return this.request(`/organizations/${e}/receipts`)}organizationReceipt(e,t){return this.request(`/organizations/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}organizationClientToken(e){return this.request(`/organizations/${e}/client_token`)}organizationSamlConnection(e){return this.request(`/organizations/${e}/workos`)}organizationScimConnection(e){return this.request(`/organizations/${e}/workos_scim`)}organizationCreateAccount(e,t){return this.postRequest("/accounts",JSON.stringify({name:t,organization_id:e}))}organizationSamlDashboard(e){return this.postRequest(`/organizations/${e}/workos`,JSON.stringify({}))}organizationScimDashboard(e){return this.postRequest(`/organizations/${e}/workos_scim`,JSON.stringify({}))}organizationScimStatus(e,t){return this.request(`/organizations/${e}/workos_scim`,{method:"PATCH",body:JSON.stringify({status:t})})}organizationScimMappings(e){return this.request(`/organizations/${e}/directory_sync_entities`)}organizationScimAddMapping(e,t){const{group_id:s,account_id:c,role:S,site_access:y,site_ids:g}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations`,{method:"POST",body:JSON.stringify({account_id:c,role:S,site_access:y,site_ids:g})})}organizationScimUpdateMapping(e,t){const{group_id:s,account_id:c,role:S,site_access:y,site_ids:g}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations/${c}`,{method:"PATCH",body:JSON.stringify({role:S,site_access:y,site_ids:g})})}organizationScimDeleteMapping(e,t){const{group_id:s,account_id:c}=t;return this.request(`/organizations/${e}/directory_sync_entities/${s}/account_role_associations/${c}`,{method:"DELETE"})}organizationSamlDeleteConnection(e){return this.request(`/organizations/${e}/workos`,{method:"DELETE"})}organizationScimDeleteConnection(e){return this.request(`/organizations/${e}/workos_scim`,{method:"DELETE"})}organizationScimDeleteConnectionKeepingUsers(e){return this.request(`/organizations/${e}/workos_scim/delete_directory_sync`,{method:"DELETE"})}updateOrganization(e,t){return this.request(`/organizations/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateOrganizationLogo(e,t){const s=new FormData;s.append("file",t);const c={method:"POST",body:s,headers:{"Content-Type":"delete"}};return this.request(`/organizations/${e}/logo`,c)}updateOrganizationPaymentMethod(e,t){return this.postRequest(`/organizations/${e}/payments`,JSON.stringify(t))}deleteOrganizationLogo(e){return this.request(`/organizations/${e}/logo`,{method:"DELETE"})}accounts(){return this.request("/accounts")}account(e){return this.request(`/accounts/${e}`)}accountFirewallRuleSet(e){return this.request(`/accounts/${e}/firewall_rule_set`)}updateAccountFirewallRuleSet(e,t){return this.request(`/accounts/${e}/firewall_rule_set`,{method:"PUT",body:JSON.stringify(t)})}accountJwt(e){return this.request(`/accounts/${e}/jwt`)}accountBandwidth(e){return this.request(`/accounts/${e}/bandwidth`)}accountBandwidthRanking(e,t){return this.request(`/accounts/${e}/bandwidth/ranking?limit=${t}`)}accountEdgeFunctionsUsage(e){return this.request(`/accounts/${e}/edge_functions`)}accountCompliance(e){return this.request(`/accounts/${e}/compliance`)}accountCommitters(e,t={}){return t.billingPeriod?this.request(`/accounts/${e}/committers?billing_period=current`):this.request(`/${e}/committers`)}createCommitter(e,t,s){return this.request(`/${e}/committers`,{method:"POST",body:JSON.stringify({build_id:t,member_id:s})})}updateCommitter(e,t,s,c){return this.request(`/${e}/committers/${t}`,{method:"PATCH",body:JSON.stringify({member_id:s,invite_id:c})})}deleteCommitter(e,t){return this.request(`/${e}/committers/${t}`,{method:"DELETE"})}accountTypes(){return this.request("/accounts/types")}createAccount(e){return this.request("/accounts",{method:"POST",body:JSON.stringify(e)})}deleteAccount(e){return this.request(`/accounts/${e}`,{method:"DELETE"})}disableUser(){return this.request("/users/disable",{method:"POST"})}updateAccount(e,t){return this.request(`/accounts/${e}`,{method:"PUT",body:JSON.stringify(t)})}updateAccountLogo(e,t){const s=new FormData;s.append("file",t);const c={method:"POST",body:s,headers:{"Content-Type":"delete"}};return this.request(`/accounts/${e}/logo`,c)}deleteAccountLogo(e){return this.request(`/accounts/${e}/logo`,{method:"DELETE"})}accountBuilds(e,t){return t={page:1,per_page:T,...t},this.request(`/${e}/builds?${(0,w.b4)(t)}`)}accountBuildStatus(e){return this.request(`/${e}/builds/status`)}accountBuildQueueBump(e,t){return this.postRequest(`/${e}/builds/${t}/prioritize`)}accountBuildStatusPerSite(e){return this.request(`/${e}/builds/per_site`)}accountBuildsPerDay(e){return this.request(`/${e}/builds/per_day`)}accountMember(e,t){return this.request(`/${e}/members/${t}`)}accountMembers(e,t={}){const s=[x.lK,x.hZ,x.nU,x.iJ],{roles:c,...S}=t,g={sort_by:"updated_at","roles[]":(c!=null&&c.length?c:s).join(","),...S};return this.request(`/${e}/members?${(0,w.b4)(g)}`)}accountReviewerMembers(e,t={}){const s={sort_by:"created_at","roles[]":x.TH,...t};return this.request(`/${e}/members?${(0,w.b4)(s)}`)}inviteAccountMember(e,{email:t,role:s,site_ids:c,site_access:S,build_id:y}){return this.postRequest(`/${e}/members`,JSON.stringify({email:t,role:s,site_ids:c,site_access:S,build_id:y}))}removeAccountMember(e,t){return this.request(`/${e}/members/${t}`,{method:"DELETE"})}updateAccountMember(e,t,{role:s,self_invite_state:c,site_access:S,site_ids:y}){return this.request(`/${e}/members/${t}`,{method:"PUT",body:JSON.stringify({role:s,self_invite_state:c,site_access:S,site_ids:y})})}accountReviewers(e){return this.request(`/${e}/reviewers`)}updateAccountReviewer(e,t,{state:s,site_access:c}){return this.request(`/${e}/reviewers/${t}`,{method:"PUT",body:JSON.stringify({state:s,site_access:c})})}promoteAccountReviewer(e,t,{role:s}){return this.request(`/${e}/reviewers/${t}/promote`,{method:"POST",body:JSON.stringify({role:s})})}removeAccountReviewer(e,t){return this.request(`/${e}/reviewers/${t}`,{method:"DELETE"})}accountBillingSummary(e){return this.request(`/${e}/billing`)}accountSubscriptions(e){return this.request(`/${e}/billing/subscriptions`)}accountInvoices(e,t={}){return this.request(`/${e}/billing/invoices?${(0,w.b4)(t)}`)}accountReceipts(e){return this.request(`/${e}/receipts`)}accountReceiptPdf(e,t){return this.request(`/${e}/receipts/${t}`,{raw:!0,headers:{Accept:"application/pdf"}})}accountReceiptHtml(e,t){return this.request(`/${e}/receipts/${t}`,{headers:{Accept:"text/html"}})}transferSite(e,t){return this.postRequest(`/sites/${e}/transfer?account_id=${t}`)}trafficSplits(e){return this.request(`/sites/${e}/traffic_splits`)}trafficSplit(e,t){return this.request(`/sites/${e}/traffic_splits/${t}`)}createTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits`,JSON.stringify(t))}updateTrafficSplit(e,t,s){return this.request(`/sites/${e}/traffic_splits/${t}`,{method:"PUT",body:JSON.stringify(s)})}startTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/publish`)}stopTrafficSplit(e,t){return this.postRequest(`/sites/${e}/traffic_splits/${t}/unpublish`)}teamAudit({page:e,perPage:t,search:s,accountId:c}){return this.request(`/accounts/${c}/audit?page=${e||1}&per_page=${t||T}${s?`&query=${s}`:""}`)}destroyAccessToken(){return this.request("/access_tokens/revoke",{method:"DELETE"})}identity(e,t){return this.request(`/sites/${e}/identity/${t}`)}createIdentity(e,t){return this.postRequest(`/sites/${e}/identity`,JSON.stringify(t))}updateIdentity(e,t,s){return this.request(`/sites/${e}/identity/${t}`,{method:"PUT",body:JSON.stringify(s)})}deleteIdentity(e,t){return this.request(`/sites/${e}/identity/${t}`,{method:"DELETE"})}identityUsers(e,t,{page:s,per_page:c,sort:S,filter:y}){return this.request(`/sites/${e}/identity/${t}/users?page=${s||1}&per_page=${c||T}&sort=${S||"created_at"}${y?`&filter=${y}`:""}`)}identityUser(e,t,s){return this.request(`/sites/${e}/identity/${t}/users/${s}`)}createIdentityUser(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users`,JSON.stringify(s))}updateIdentityUser(e,t,s,c){return this.request(`/sites/${e}/identity/${t}/users/${s}`,{method:"PUT",body:JSON.stringify(c)})}deleteIdentityUser(e,t,s){return this.request(`/sites/${e}/identity/${t}/users/${s}`,{method:"DELETE"})}sendIdentityInvites(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users/invite`,JSON.stringify(s))}sendIdentityRecovery(e,t,s){return this.postRequest(`/sites/${e}/identity/${t}/users/${s}/recover`)}identityAudit({page:e,perPage:t,search:s,siteId:c,identityId:S}){return this.request(`/sites/${c}/identity/${S}/audit?page=${e||1}&per_page=${t||T}${s?`&query=${s}`:""}`)}getStripeIdentityVerificationSession(e){return this.request(`/identity_verification?code=${e}`)}createStripeIdentityVerificationSession(e){return this.request("/identity_verification",{method:"POST",body:JSON.stringify({code:e})})}services(e){return this.request(`/sites/${e}/service-instances`)}createService(e,t,s={}){return this.postRequest(`/sites/${e}/services/${t}/instances`,JSON.stringify(s))}updateService(e,t,s,c){return this.request(`/sites/${e}/services/${t}/instances/${s}`,{method:"PUT",body:JSON.stringify(c)})}deleteService(e,t,s){return this.request(`/sites/${e}/services/${t}/instances/${s}`,{method:"DELETE"})}deleteForm(e,t){return this.request(`/sites/${e}/forms/${t}`,{method:"DELETE"})}deleteFormSubmission(e,t){return this.request(`/submissions/${t}`,{method:"DELETE"})}claim({id:e,token:t}){const s=e?`/sites/${e}/claim`:"/sites/claim";return this.postRequest(s,JSON.stringify({token:t}))}updateSamlConfig(e,t,s){return this.request(`/saml/${e}/parse-idp-metadata`,{method:"PUT",body:JSON.stringify({url:t,data:s})})}deleteSamlConfig(e){return this.request(`/saml/${e}`,{method:"DELETE"})}getSamlStartUrl(e){return this.request(`/saml/account-lookup?id=${e}`,{method:"GET"})}siteUsage(e){return this.request(`/sites/${e}/usage`)}changeAddonPlan(e,t,s){return this.request(`/usage_records/${e}/change_plan?plan=${t}&site_id=${s}`,{method:"PUT"})}billingPreview(e){return this.request(`/billing/subscriptions/preview?account_id=${e}`)}searchDomain(e,t){return this.request(`/domains-next/search?account_id=${t}&domain=${e}`)}buyDomain(e,t,s){return this.request("/domains-next",{method:"POST",body:JSON.stringify({account_id:t,domain:e,site_id:s})})}dropToken(){return this.request("/drop/token",{method:"POST"})}dropFiles(e,t){return this.request("/drop",{method:"POST",body:JSON.stringify({files:e,token:t})})}dropClaim(e,t){return this.request("/drop/claim",{method:"POST",body:JSON.stringify({site:e,token:t})})}authLink({provider:e}){return this.request(`/auth/link?provider=${e}&site_id=${this.siteId}`,{noPrefix:!0})}authUnlink({provider:e}){return this.request(`/auth/unlink?provider=${e}&site_id=${this.siteId}`,{method:"POST",noPrefix:!0})}updateSelfHostedGitConfig(e,t,s){const c=`/accounts/${e}/${s}_config`;return this.request(c,{method:"PUT",body:JSON.stringify(t)})}deleteSelfHostedGitConfig(e,t){const s=`/accounts/${e}/${t}_config`;return this.request(s,{method:"DELETE"})}logDrains(e){return this.request(`/sites/${e}/log_drains`)}async createLogDrain(e,t={}){try{return await this.postRequest(`/sites/${e}/log_drains`,JSON.stringify(t))}catch(s){throw/^access denied$/i.test(s.message)?new d.Z("You don't have the necessary permissions to create a log drain."):s}}async verifyLogDrain(e,t,s){try{return await this.postRequest(`/sites/${e}/log_drains/${t}/verify`,JSON.stringify({token:s}))}catch(c){throw/^access denied$/i.test(c.message)?new d.Z("You don't have the necessary permissions to verify a log drain."):c}}async updateLogDrain(e,t,s){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"PUT",body:JSON.stringify(s)})}catch(c){throw/^access denied$/i.test(c.message)?new d.Z("You don't have the necessary permissions to edit a log drain."):c}}async deleteLogDrain(e,t){try{return await this.request(`/sites/${e}/log_drains/${t}`,{method:"DELETE"})}catch(s){throw/^access denied$/i.test(s.message)?new d.Z("You don't have the necessary permissions to delete a log drain."):s}}slackWorkspace(e){return this.request(`/slack/accounts/${e}`)}deleteSlackWorkspace(e){return this.request(`/slack/accounts/${e}`,{method:"DELETE"})}slackSubscriptions(e){return this.request(`/slack/accounts/${e}/subscriptions`)}slackChannels(e,t){const{limit:s,cursor:c}=t!=null?t:{},S=[s&&`limit=${s}`,c&&`cursor=${c}`].filter(Boolean);return this.request(`/slack/accounts/${e}/channels?${S.join("&")}`)}createSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions`,{method:"POST",body:JSON.stringify(t)})}editSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t.id}`,{method:"PUT",body:JSON.stringify(t)})}deleteSlackSubscription(e,t){return this.request(`/slack/accounts/${e}/subscriptions/${t}`,{method:"DELETE"})}graphJwt(e){return this.request(`/sites/${e}/jwt`)}}},40917:(Ie,se,l)=>{l.d(se,{$f:()=>c,ZP:()=>W,on:()=>k,sV:()=>t,vH:()=>s,xw:()=>g,z9:()=>S});var d=l(5780),L=l.n(d),w=l(34740),M=l(63851),x=l(68854),P=l(88317);const J="https://api.netlify.com";function B(){try{const{utm_campaign:j="",utm_source:_="",utm_medium:V=""}=window.location.search.substr(1).split("&").reduce((b,v)=>{const[C,F]=v.split("=");return b[C]=F,b},{});return j&&{utm_campaign:j,utm_source:_,utm_medium:V}}catch{return null}}function H(){try{const j=sessionStorage.getItem("nf.utm"),{utm_campaign:_="",utm_source:V="",utm_medium:b=""}=JSON.parse(j||"{}");return _&&{utm_campaign:_,utm_source:V,utm_medium:b}}catch{}}function Z(j){(0,x.D9)("nf.utm",JSON.stringify(j))}function T(){const j=[],_=B()||H();if(_){Z(_);for(const V in _)j.push(`${V}=${_[V]}`)}return j.join("&")}const R=B();R&&Z(R);class q{constructor(_){this.err=_}toString(){return this.err&&this.err.message}}const D={[P.Lz.github_app]:{width:1200,height:800,closeWindow:!1},[P.Lz.github_enterprise]:{width:1200,height:800,closeWindow:!1},[P.Lz.github]:{width:960,height:600,closeWindow:!0},[P.Lz.gitlab]:{width:960,height:600,closeWindow:!0},[P.Lz.gitlab_self_hosted]:{width:960,height:600,closeWindow:!0},[P.Lz.bitbucket]:{width:1024,height:600,closeWindow:!0},[P.Lz.bitbucket_self_hosted]:{width:1024,height:600,closeWindow:!0},[P.Lz.azure_devops]:{width:960,height:600,closeWindow:!0},[P.Lz.email]:{width:500,height:400,closeWindow:!0}};function O(j){const _=D[j]||D.github,V=Math.min(window.screen.width,_.width),b=_.height,v=(window.screen.width-V)/2;return{top:Math.max((window.screen.height-b)/2,0),left:v,width:V,height:b}}function e({url:j,data:_,signup:V},b){return fetch(j,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)}).then(v=>v.json()).then(v=>{if(v.state==="success"||v.redirect_uri)b(null,v.data||v);else{const C=v.message;V&&/No user found/.test(C)&&(v.message="An account with this email already exists"),b(new M.Z(v))}}).catch(v=>b(new M.Z(v)))}async function t({access_token:j}){if((await fetch("/access-control/set-auth",{headers:{Authorization:`Bearer ${j}`},credentials:"include"})).status!==200)throw new Error("failed to set-auth for user")}function s(){return document.cookie="_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=.netlify.com",document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname}`,document.cookie=`_nf-auth-hint=user-likely-authed; Max-Age=-99999999; Path=/; Domain=${window.location.hostname.split(".").slice(1).join(".")}`,t({access_token:"unset"})}async function c(){const j=await fetch("/access-control/generate-access-control-token",{credentials:"include"});if(j.status!==200)throw new Error("failed to access control token for user");const{accessControlToken:_}=await j.json();return _}function S(){return document.cookie.includes("_nf-auth-hint")}let y;function g({provider:j="github",url:_=""}){const{top:V,left:b,width:v,height:C}=O(j);y=window.open(_,"auth",`toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=${v},height=${C},top=${V},left=${b}`),y&&y.focus()}function k(){y&&y.close()}class N{constructor(_){this.site_id=_.site_id||_.siteId,this.base_url=_.base_url||_.apiBase||J,this.useAuthWindow=_.useAuthWindow}open({url:_,provider:V},b){this.handshake(V,b),g({provider:V,url:_})}done({provider:_}){D[_].closeWindow&&k()}postMessage(_,V){try{y.postMessage(_,V)}catch(b){L().notify(b,v=>{v.context="netlify-auth \uFE65 postMessage"})}}handshake(_,V){const b=v=>{const{origin:C,data:F}=v;C===this.base_url&&F===`authorizing:${_}`&&(window.removeEventListener("message",b,!1),this.authorize(_,V),this.postMessage(F,C))};window.addEventListener("message",b,!1)}authorize(_,V){const b=v=>{const{origin:C,data:F}=v;if(C===this.base_url){if(F.indexOf(`authorization:${_}:success:`)===0){const z=JSON.parse(F.match(new RegExp(`^authorization:${_}:success:(.+)$`))[1]);window.removeEventListener("message",b,!1),this.done({provider:_}),V(null,z)}if(F.indexOf(`authorization:${_}:error:`)===0){const z=JSON.parse(F.match(new RegExp(`^authorization:${_}:error:(.+)$`))[1]);window.removeEventListener("message",b,!1),this.done({provider:_}),V(new q(z))}}};window.addEventListener("message",b,!1)}getSiteID(){if(this.site_id)return this.site_id;const _=document.location.host.split(":")[0];return _==="localhost"?null:_}authenticate(_,V){const b=this.getSiteID(),v=_.provider,C=!this.useAuthWindow&&_.redirect,F=T(),z=(0,x.St)("tracking_session_id");let G;if(!v)return V(new q({message:"You must specify a provider when calling netlify.authenticate"}));if(!b)return V(new q({message:'You must set a site_id with netlify.configure({site_id: "your-site-id"}) to make authentication work from localhost'}));if(C&&v==="email"&&!_.email)return G=_.signup?"/signup":"/login",G+="/email",F&&(G+="?"+F),w.mW.push(G);if(G=`${this.base_url}/auth`,C&&v==="email"&&(G+=_.reviewer?"/signup":"/login"),G+=`?provider=${v}&site_id=${b}&tracking_session_id=${z}`,_.accountId&&(G+="&account_id="+_.accountId),_.scope&&(G+="&scope="+_.scope),_.login===!0&&(G+="&login=true"),_.beta_invite&&(G+="&beta_invite="+_.beta_invite),_.invite_code&&(G+="&invite_code="+_.invite_code),F&&(G+="&"+F),C){const ce=/^http/.test(C)?window.encodeURIComponent(C):`${window.location.origin}${C===!0?"/":C}`;G+="&redirect="+ce}const ie={email:_.email,password:_.password,no_autosignup:!_.signup,redirect:window.location.origin};_.reviewer&&(ie.full_name=_.full_name,ie.jobrole=_.jobrole,ie.reviewer_signup=_.reviewer_signup,ie.redirect=_.redirect),C?v==="email"?e({url:G,data:ie,signup:_.signup},V):window.location.href=G:this.open({url:G,provider:v},V)}}const W=N},83081:(Ie,se,l)=>{l.d(se,{f8:()=>d,ib:()=>w,ot:()=>L});const d=M=>{const x={};return M&&(x.next=M),x},L=M=>{var x,P;let J=M.headers.get("Link");if(!J)return null;const B={};let H,Z,T,R,q;J=J.split(",");for(let O=0,e=J.length;O<e;O++)H=J[O].replace(/(^\s*|\s*$)/,""),[Z,T]=H.split(";"),R=Z.match(/\bpage=(\d+)/),q=R&&Number(R[1]),T.match(/next/)?(B.next=q,B.current=q-1):T.match(/prev/)?(B.prev=q,B.current=q+1):T.match(/last/)&&(B.last=q);const D=Number(M.headers.get("Total"));if(D){const O=Number((P=(x=J[0])==null?void 0:x.match(/per_page=(\d+)/))==null?void 0:P[1]);O>0&&(B.page_count=Math.ceil(D/O),B.total=D)}return B},w=M=>M==null?void 0:M.get("current")},13287:(Ie,se,l)=>{l.d(se,{$Z:()=>Pe,AB:()=>b,BM:()=>ie,CY:()=>N,D5:()=>V,Dy:()=>q,F0:()=>Q,F9:()=>Te,Md:()=>W,Nx:()=>F,P8:()=>G,Qu:()=>C,S8:()=>Ce,U6:()=>ue,VF:()=>Ne,Vc:()=>fe,Yz:()=>oe,ZE:()=>E,Zw:()=>z,am:()=>Me,cF:()=>U,cJ:()=>ce,f1:()=>Ae,fd:()=>j,gK:()=>v,iv:()=>he,kL:()=>re,kg:()=>De,mH:()=>K,r:()=>Oe,vp:()=>S,yz:()=>f,zv:()=>y});var d=l(21805);const L=null,w=["user_capabilities","sites","d"],M=["user_capabilities","sites","u"],x=["user_capabilities","sites","c"],P=["user_capabilities","deploys","r"],J=null,B=["user_capabilities","accounts","u"],H=["user_capabilities","accounts","d"],Z=["user_capabilities","billing","u"],T=["user_capabilities","members","r"],R=["user_capabilities","members","u"],q=["enforced_strict","enforced_with_fallback"],D="active",O="final_notice",e="hibernating",t="locked";function s($,le,Le=[]){return!!($&&le&&!$.get("public")&&le.getIn(Le))}function c($,le=[]){return $&&$.getIn(le)}function S($,le){return s($,le,w)}function y($){var le;return $?((le=$.get("user_capabilities"))==null?void 0:le.size)===0:!1}function g($,le){return S($,le)}function k($,le){return s($,le,L)}function N($,le){return s($,le,M)}function W($,le){return s($,le,P)||$&&$.get("public")}function j($){return c($,x)}function _($){return c($,J)}function V($){return c($,B)}function b($){return!U($)&&c($,H)}function v($,le){return le?!0:c($,Z)}function C($){return c($,R)}function F($){return c($,T)}function z($){return $?q.includes($.get("enforce_saml")):!1}function G($,le){return $?$&&!z($)||le&&le.get("saml_enabled")||$&&$.get("org_saml_enabled"):!1}function ie($){return v($)}function K($){return!U($)&&v($)}function ce($){return $==="Controller"?"Billing Admin":$}function E($){return $==="all"?"All sites":$==="selected"?"Specific sites":$==="none"?"No sites":""}function f($,le){const Le=$&&$.get("account_slug");return le&&le.find(Fe=>Fe.get("slug")===Le)}function U($){const le=$&&$.get("lifecycle_state");return le&&le!==D&&le!==t}function Q($){const le=$&&$.get("lifecycle_state");return le===O||le===e}function re($){return($&&$.get("lifecycle_state"))===t}function ue($,le){return $&&($.getIn(["capabilities",le])||$.getIn(["site_capabilities",le]))}function he($){return!$||!$.getIn(["capabilities","self_hosted_git_support","included"])?!1:c($,B)}function oe($){return $&&$.get("site_access")==="all"&&!Q($)}const fe=($,le)=>({account:Le})=>Le&&Le.getIn(["user_capabilities",$,le]),Ce=$=>fe("sites","c")({account:$}),ke=$=>fe("sites","r")({account:$}),Ae=$=>fe("sites","u")({account:$}),Me=$=>fe("sites","d")({account:$}),De=$=>fe("deploys","c")({account:$}),Te=$=>fe("deploys","r")({account:$}),Pe=$=>fe("account_firewall","u")({account:$}),Oe=$=>fe("site_firewall","u")({account:$}),Ne=$=>$?$.get("role")===d.TH:!1},31948:(Ie,se,l)=>{l.d(se,{j:()=>H});var d=l(2417),L=l.n(d),w=l(24398),M=l.n(w),x=l(62326),P=l(10680);const J=({accountId:Z})=>{async function T(R,q){let D;try{D=`Bearer ${(await(0,x.Z)({accountId:Z})).jwt}`}catch{D=void 0}const O=new URL("/graphql",P.S);O.search=new URLSearchParams({operationName:R.name,show_metrics:"false",netlify_account_id:Z}).toString();const t=await(await fetch(O,{method:"POST",headers:{Authorization:D,"Content-Type":"application/json",Accept:"application/json",serviceid:"94103628-541d-4cbd-8273-16850b910ebc"},body:JSON.stringify({query:R.text,doc_id:R.id,variables:q})})).json();return R.operationKind==="mutation"&&t.errors?{data:null,errors:t.errors}:t}return async function(q,D){return T(q,D)}},B=()=>{const Z=new URL("/graphql/subscriptions",P.S);Z.protocol="wss";const T=new w.SubscriptionClient(Z.href,{reconnect:!0});return(q,D)=>{const O=T.request({query:q.text,operationName:q.name,variables:D});return d.Observable.from(O)}},H=({accountId:Z})=>{const T=J({accountId:Z}),R=B();return new d.Environment({network:d.Network.create(T,R),store:new d.Store(new d.RecordSource)})}},53562:(Ie,se,l)=>{l.d(se,{_z:()=>Le,AC:()=>Fe,ao:()=>le,zP:()=>$,KT:()=>U,I7:()=>f,yN:()=>He,Fk:()=>Ze});var d=l(3692),L=l(61712),w=l(58302),M=l(68854);const x=["api-aws.netlify.com","api.netlify.com","api-staging.netlify.com","www.netlify.com","www.netlify.app","app.netlifystg.com","app.netlifystg.app","app.netlify.com","analytics.services.netlify.com","analytics-staging.services.netlify.com","supportapi.services.netlify.com","list-v2--netlify-plugins.netlify.app","localhost","d33wubrfki0l68.cloudfront.net"],P=["commandbar","github","zuora","bitbucket","gitlab","gravatar"];function J(I){if(I==null)return!1;const Y=new URL(I||"",window.location.origin);return Y.hostname.toLowerCase().endsWith(".netlify.com")||x.includes(Y.hostname.toLowerCase())||B(I)}function B(I){return I==null?!1:new URL(I||"",window.location.origin).origin===window.location.origin}function H(I){return I==null?!1:new URL(I||"",window.location.origin).pathname.startsWith("/.netlify/functions/")}function Z(I){if(I==null)return!1;const Y=new URL(I||"",window.location.origin);return P.some(ne=>Y.hostname.toLowerCase().includes(ne))}function T(I){const Y={};return Array.isArray(I)&&I.forEach(({name:ne,duration:X,description:pe})=>{X&&(Y[`st_${ne}_duration`]=X),pe&&(Y[`st_${ne}_desc`]=pe)}),Y}function R(I){if(!I)return{};const Y={...I,...T(I==null?void 0:I.serverTiming)};return delete Y.name,delete Y.serverTiming,delete Y.entryType,Y}function q(){const I="ntl_device_loads",ne=(parseInt((0,M.le)(I)||"0",10)||0)+1;return Promise.resolve().then(()=>{(0,M.D$)(I,ne)}),ne}const D="ErrorPageHit",O="DataFullyLoadedTimeout",e="viewInitialRender",t="viewDataFullyLoaded",s="viewChanged",c="errorPageHit",S="viewInitialRender",y="viewDataFullyLoaded",g="viewIRDFLDelta",k="viewDepth",N=["user"],W="featureName",j="featureLoadTimingListener",_="featureSpecificDFLListener";var V=l(62935);let b=[],v=0,C=[],F=[],z=window,G=window.location;function ie(I){b.push(I),C.length>0&&requestIdleCallback(()=>{C=C.filter(({whenMadeCallback:Y,markNamesToWaitFor:ne,startOffset:X,verifyMark:pe})=>{const _e=Q(ne,b,X,pe);return _e?(Y(_e),!1):!0})},{timeout:2e3}),F.forEach(Y=>Y(I))}function K(){return{pageUrl:G.href,pageIsIframed:z.top!==z.self}}function ce(){return b}function E(){b=[],v=0,C=[],F=[],z=window,G=window.location}function f(I,Y){let ne=z.performance.mark(I);const X=Y==null?void 0:Y.overrideTimeMarked;ne||(ne=performance.getEntriesByName(I).pop());const pe=(!X||X===0?X:!1)||(ne==null?void 0:ne.startTime)||performance.now(),_e={name:I,props:Y,timeMarked:pe,index:v++,env:K()};return ie(_e),_e}function U(I,Y,ne){let X=z.performance.mark(I);X||(X=performance.getEntriesByName(I).pop());const pe={name:I,duration:ne.timeMarked-Y.timeMarked,timeMarked:(X==null?void 0:X.startTime)||performance.now(),index:v++,env:K()};return ie(pe),pe}function Q(I,Y,ne,X){const pe=Y.reduce((_e,Ee,we)=>(ne!==void 0&&we<ne||I.includes(Ee.name)&&(!X||X(Ee))&&(_e[Ee.name]=Ee),_e),{});return Object.keys(pe).length===I.length?pe:null}function re({markNamesToWaitFor:I,whenMadeCallback:Y,startOffset:ne,verifyMark:X,listenerClass:pe}){const _e=Q(I,b,ne,X);_e?requestIdleCallback(()=>{Y(_e)},{timeout:2e3}):C.push({whenMadeCallback:Y,markNamesToWaitFor:I,startOffset:ne,verifyMark:X,listenerClass:pe})}function ue(I){C=C.filter(({listenerClass:Y})=>Y!==I)}function he(I){F.push(I)}window._rum=window._rum||{},window._rum.markers={getAllMarks:ce,markTime:f,markMeasurement:U,whenAllMarksMade:re,onMarkAdded:he};const oe=[];window._rum=window._rum||{},window._rum.timings=[];function fe(I){if(oe.length===0)return;if(oe.length===1)return oe[0].featureName;const Y=oe.reduceRight((ne,X,pe)=>(!ne&&pe===0&&(ne=X),!ne&&I>X.viewStartTime&&(ne=X),ne),void 0);return Y?Y.featureName:void 0}const Ce=[];let ke="unset",Ae=!0;function Me(I,Y){var ne,X,pe,_e;let Ee={};I.view&&I.view.url.includes("#")&&(I.view.url=I.view.url.split("#")[0]),(X=(ne=I.view)==null?void 0:ne.referrer)!=null&&X.includes("#")&&(I.view.referrer=I.view.referrer.split("#")[0]);const we=I.resource;if(we&&we.url&&we.url.includes("#")&&(we.url=we.url.split("#")[0]),I.type==="resource"){const xe=J(I.resource.url);if(Ee={...Ee,requestIsInternal:xe,requestIsSameOrigin:B(I.resource.url),requestIsExternalDep:!xe&&Z(I.resource.url),requestApiType:H(I.resource.url)?"function":"server"},we!=null&&we.url.includes("#access_token")&&(Ee.resourceHasAccessToken=!0),we!=null&&we.url.includes("#token")&&(Ee.resourceHasToken=!0),"performanceEntry"in Y&&Y.performanceEntry!==void 0&&(Ee={...Ee,...R(Y.performanceEntry)}),I.resource.type==="fetch"||I.resource.type==="xhr"){const Re=Y,u=Re==null?void 0:Re.response,i=(0,L.RR)();let a=null,h=null;if(u!=null&&u.headers&&(a=u.headers.get("x-request-id"),h=u.headers.get("x-nf-srv-version")),(pe=Re.performanceEntry)!=null&&pe.startTime&&xe){const n=fe((_e=Re.performanceEntry)==null?void 0:_e.startTime);i!==n&&(Ee.featureName=n,Ee.respondedAfterViewChange=!0)}Ee={...Ee,requestId:a,requestNFServerVersion:h}}}else I.type==="view"&&(Ce.includes(I.view.id)||(ke=I.view.id,Ce.push(I.view.id),Ae=I.view.loading_type==="initial_load"));I.context={...I.context,...Ee}}function De(){return ke}function Te(){he(I=>{var Y,ne,X;if(I.name===s){const pe=[e],_e=I,Ee=(0,L.UC)((Y=I.props)==null?void 0:Y.featureName),we=Ee.name;(ne=Ee==null?void 0:Ee.networkingRules)!=null&&ne.skipMeasuringCriticalPathData||pe.push(t),(X=I.props)!=null&&X.featureName&&oe.push({featureName:we,viewStartTime:I.timeMarked}),ue(j),re({listenerClass:j,markNamesToWaitFor:pe,startOffset:ce().length-1,whenMadeCallback:xe=>{var Re,u;const i=xe[e],a=xe[t],h=Ae?0:_e.timeMarked,n=i.timeMarked-h,r=a?a.timeMarked-h:-1,o=a?a.timeMarked-i.timeMarked:-1;d.v.addTiming(S,n),d.v.addTiming(y,r),d.v.addTiming(g,o),a&&((Re=a.props)==null?void 0:Re.viewDFLTimedOut)===!0&&d.v.addAction(O,{featureName:we,viewInitialRender:n,viewDataFullyLoaded:r,delta:o}),window._rum.timings.push({featureName:we,viewInitialRender:n,viewDataFullyLoaded:r,delta:o,viewDFLTimedOut:!!((u=a==null?void 0:a.props)!=null&&u.viewDFLTimedOut)})},verifyMark:xe=>{var Re;return((Re=xe.props)==null?void 0:Re.viewId)===De()}})}})}const Pe=!window.Cypress;let Oe=0,Ne;window._rum=window._rum||{},window._rum.waiters=[];function $(){const I="abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",Y="pubd771a23f8cb1e4f45f24b5fd37e11a96",ne="netlify-react-ui";Pe&&I&&Y&&ne&&!window.Cypress&&(d.v.init({applicationId:I,clientToken:Y,site:"datadoghq.com",service:ne,version:"64ea131713ef6f476af4b90f",env:"production",sampleRate:100,trackInteractions:!1,trackViewsManually:!0,enableExperimentalFeatures:["feature_flags"],beforeSend:(X,pe)=>{var _e,Ee;if(X.type==="error"&&((_e=X.error)==null?void 0:_e.source)==="report"||X.type==="error"&&(((Ee=X.error)==null?void 0:Ee.message)||"").toLowerCase().includes("userflow"))return!1;Me(X,pe)}}),d.v.addRumGlobalContext("suspiciousUsage",w.s),d.v.addTiming("deviceLoadCount",q()),Te())}function le({routePath:I}){const Y=(0,L.WV)(I),ne=(0,L.UC)(Y),X=De(),pe=We();let _e=!1,Ee=!1;return{markInitialRender:we=>{_e||(_e=!0,f(e,{viewId:X,featureName:Y,...we||{}}))},markDataFullyLoaded:we=>{Ee||(Ee=!0,f(t,{viewId:X,featureName:Y,...we||{}}))},whenDataFullyLoaded:({whenDFLCallback:we,timeout:xe=15e3})=>{var Re,u,i,a,h;ue(_);let n=[];const r={viewDFLTimedOut:!1};if(pe&&(0,M.le)("nf-session")&&(n=[...n,...N]),(Re=ne==null?void 0:ne.networkingRules)!=null&&Re.criticalPathAPICalls&&(Array.isArray((u=ne==null?void 0:ne.networkingRules)==null?void 0:u.criticalPathAPICalls)?n=[...n,...(i=ne==null?void 0:ne.networkingRules)==null?void 0:i.criticalPathAPICalls]:typeof((a=ne==null?void 0:ne.networkingRules)==null?void 0:a.criticalPathAPICalls)=="function"&&(n=[...n,...(h=ne==null?void 0:ne.networkingRules)==null?void 0:h.criticalPathAPICalls()])),window._rum.waiters.push({featureName:Y,apiMarksToWaitFor:n}),n.length===0){we==null||we(r);return}const o=setTimeout(()=>{r.viewDFLTimedOut=!0,we==null||we(r),we=null},xe);re({listenerClass:_,markNamesToWaitFor:n.map(p=>`api-${p}-complete`),startOffset:pe?0:Ne==null?void 0:Ne.index,whenMadeCallback:()=>{clearTimeout(o),we==null||we(r),we=null}})}}}function Le(I,Y){Pe&&d.v.addRumGlobalContext(I,Y)}function Fe({id:I,plan:Y,accountId:ne,email:X}){if(Pe){const pe={id:I,plan:Y,accountId:ne};typeof X=="string"&&(pe.isInternalUser=X.endsWith("@netlify.com")),d.v.setUser(pe)}}function Ze(I){if(Pe){Oe++;const Y=(0,L.bl)(I);d.v.addRumGlobalContext(W,Y),d.v.startView(I),Ne=f(s,{urlTrackPath:I,featureName:(0,L.WV)(I)}),f(s,{urlTrackPath:I,featureName:Y}),d.v.addTiming(k,Oe)}}function He(I){if(Pe){let Y="internal-nav";We()&&(Y="page-load-nav");const ne={pathname:window.location.pathname,errorPageType:I,navType:Y};d.v.addAction(D,ne),f(c,ne)}}const We=()=>Oe<=1},68187:(Ie,se,l)=>{l.d(se,{$2:()=>e,A$:()=>G,BO:()=>v,Bj:()=>B,EZ:()=>V,MR:()=>P,Qc:()=>y,Qy:()=>S,TQ:()=>E,VH:()=>t,We:()=>z,Z1:()=>ie,_4:()=>q,g$:()=>K,hA:()=>_,i7:()=>Z,lR:()=>R,n4:()=>j,nu:()=>D,pC:()=>k,pn:()=>J,s8:()=>C,tJ:()=>ce,yp:()=>c,z0:()=>g,zJ:()=>s,zu:()=>W});var d=l(90046),L=l.n(d),w=l(66520),M=l(77962),x=l(88317);const P="success",J="error",B="in-progress",H="blank",Z={SUCCESS:P,ERROR:J,IN_PROGRESS:B,BLANK:H},T={[P]:"Site is live",[J]:"Site deploy failed",[B]:"Site deploy in progress",[H]:"Site has not yet been deployed"};function R(f){return f.get("deploy_id")?P:f.get("error_message")?J:f.get("build_id")||f.get("state")!=="current"?B:H}function q(f){return T[R(f)]}function D(f){const{siteDomain:U}=w.default;return`${f.get("name")||f.get("subdomain")}.${U}`}function O(f){return`https://${f.get("default_domain")||D(f)}`}function e(f){return f.get("custom_domain")?f.get("url"):O(f)}function t(f){return f&&f.getIn(["build_settings","provider"])}function s(f){const U=t(f);return U&&x._w.getIn([U,"name"])||U}function c(f){return/^gitlab/.test(t(f))?"merge request":"pull request"}function S(f){return/^gitlab/.test(t(f))?"MR":"PR"}function y(f){return!!f.getIn(["build_settings","repo_branch"])}function g(f){return y(f)&&(f.getIn(["build_settings","allowed_branches"])||(0,d.List)()).size!==1}function k(f,U){return`https://${N(f,U)}`}function N(f,U){return`${U}--${D(f)}`}function W(f){return f.get("custom_domain")||b(f)}function j(f){return f.get("custom_domain")}function _(f){return f.get("account_subdomain")||f.get("name")}function V(f){return f.get("site_id")}function b(f){return f.get("default_domain")||D(f)}function v(f){const[U,...Q]=b(f).split(".");return Q.join(".")}function C(f){return!(f!=null&&f.getIn(["build_settings","repo_url"])||f!=null&&f.get("repo_url")||f!=null&&f.get("deploy_hook"))}const F=["trusty","production",null];function z(f){if(C(f))return!1;const U=f==null?void 0:f.get("build_image");return F.includes(U)}function G(f){return C(f)?!1:(f==null?void 0:f.get("build_image"))==="xenial"}function ie(f){return f.getIn(["processing_settings","skip"])!==!0}function K(f){return!!(f!=null&&f.getIn(["build_settings","stop_builds"]))}function ce(f){return f.getIn(["build_settings","provider"])===x.Lz.github&&f.getIn(["build_settings","repo_owner_type"])==="Organization"&&!f.getIn(["build_settings","public_repo"])}const E=f=>{const U=[],Q={deploy_preview_custom_domain:"Deploy Preview",branch_deploy_custom_domain:"branch deploy"};if(Object.entries(f).reverse().forEach(([re,ue])=>{const he=Q[re];ue.forEach(oe=>{if(oe!=null&&oe.includes("has invalid characters"))return U.push(`Additional subdomain for ${he}s should only contain letters, numbers, hyphens, or dots. It must end with a letter or number.`);if(oe!=null&&oe.includes("exceeds the permitted length of 225 chars"))return U.push(`The combined length of your ${he} domain exceeds the permitted length of 225 characters.`);if(oe!=null&&oe.includes("exceeds the permitted length of 63 chars"))return U.push(`Additional subdomain for ${he}s exceeds the permitted subdomain length of 63 characters.`);if(oe!=null&&oe.includes("the subdomain or apex domain has not been added to this site's team with Netlify DNS"))return U.push(`The ${he} domain is not set up to use Netlify DNS.`);if(oe!=null&&oe.includes("This automatic deploy subdomain is already used on site ")){const fe="This automatic deploy subdomain is already used on site ",Ce=fe.replace("automatic deploy subdomain",`${he} domain`),ke=oe.split(fe)[1],Ae=(0,M.DD)((0,d.fromJS)({name:ke}),"settings","domain#automatic-deploy-subdomains");return U.push(`${Ce}[${ke}](${Ae})`)}return U.push(oe)})}),U.length>0)return U.join(`

`)}},16136:(Ie,se,l)=>{l.d(se,{F:()=>M});var d=l(3692),L=l(1886),w=l(58302);function M(x){if(w.s){const P={message:"Userflow has failed to load due to the browser being sus",errorType:"UserflowError"};d.v.addAction("CustomError",P);return}L.Z.load().then(x,P=>{P.errorType="UserflowError",d.v.addAction("CustomError",P)})}},83611:(Ie,se,l)=>{l.d(se,{A8:()=>w,KS:()=>M,SP:()=>P,Sg:()=>L,oi:()=>J,xw:()=>B});const d="workflow-ui",L=`/${d}/surfaces`,w=`/${d}/package`,M="site-settings",x="preview",P="log-drains-settings",J="integrations-settings",B="http://localhost:35472"},46917:(Ie,se,l)=>{l.d(se,{S:()=>w,g:()=>L});var d=l(61097);function L({site:M,envVars:x}){return{isExistingEnvVar(P){var J;return(J=x==null?void 0:x.some(B=>B.key===P))!=null?J:!1},getEnvVar(P){const J=x==null?void 0:x.find(B=>B.key===P);return J?{envVar:J}:null}}}function w({dispatch:M,site:x,accountId:P}){const J=x.get("id");return{async createEnvVars(B){if(B.length)return M((0,d.f6)({accountId:P,siteId:J,envVars:B}))},async deleteEnvVars(B){B.length&&B.forEach(H=>{M((0,d.Y0)({accountId:P,siteId:J,key:H}))})},async updateEnvVars(B){B.length&&B.forEach(H=>{M((0,d.bJ)({accountId:P,siteId:J,oldKey:H.key,newKey:H.key,scopes:H.scopes,values:H.values}))})}}}},16467:(Ie,se,l)=>{l.d(se,{CS:()=>T,IC:()=>R,S0:()=>Z,uF:()=>D,k3:()=>q});var d=l(31425),L=l(68854),w=l(83611);const M=async(O,e,t)=>{const s=e?`${e}/ui/integration-ui.json`:new URL([w.Sg,O,t].filter(Boolean).join("/"),window.location.origin),c=await fetch(s);if(!c.ok){if(c.status===404)return null;throw new Error("Unable to load Workflow UI config!")}try{const S=await c.json();return Object.keys(S).length?S:null}catch{return console.error("Workflow UI Config is not valid JSON"),null}};function x(O,e){const t=O.surfaces.map(s=>({...s,routes:P(s.routes,e)}));return{...O,surfaces:t}}function P(O,e){return Object.entries(O).reduce((t,[s,c])=>(t[s]=c.map(S=>J(S,e)),t),{})}function J(O,e){var t;const s="contents"in O?(t=O.contents)==null?void 0:t.map(y=>J(y,e)):void 0,c=O.id||(0,d.Z)(),S={...O,id:c,...s&&{contents:s}};return e.set(c,S),S}async function B(O){let e;try{e=JSON.parse((0,L.le)("wui-dev-mode")||"{}")}catch{}const t=e==null?void 0:e.packages;if(!(Array.isArray(t)&&t.length>0))return null;const c=(...N)=>(console.error(...N),null),S=`${w.xw}/workflow-ui.json`,y=await fetch(S);let g;if(y.ok&&(g=await y.json()),!g)return c(`No local config found at ${S}`);if(typeof g.packageId!="string")return c(`Config doesn't have a "packageId" at root level`,g);if(!t.includes(g.package))return c(`Config loaded locally is for a different package (${g.package}) than what's in dev mode: ${t.join(",")}`);if(!Array.isArray(g.surfaces))return c(`Config doesn't have a "surfaces" array field at root level`,g);let k=null;return O!=null&&O.surfaceName&&g.surfaces.length>0&&g.surfaces.some(W=>W.surfaceName===O.surfaceName)&&(k=g),k}const H=new Map,Z=O=>H.get(O),T=(O,e)=>{H.set(O,e)},R=O=>{H.delete(O)},q=async O=>M(O),D=async({surfaceName:O,host:e,routeSplat:t="",packageKey:s})=>{var c;const S=`iframe[data-surface-name="${O}"]`;if(document.querySelector(S))return;let y=await M(O,e,s);const g=await B({surfaceName:O,packageKey:s});g&&(y=g);const k=new Map,N=y?x(y,k):void 0,W=t==null?void 0:t.split("/").filter(Boolean),j=N==null?void 0:N.surfaces.find(F=>F.surfaceName===O),_=W==null?void 0:W.reduce((F,z,G)=>{const ie=F[G]||"";return F.push(`${ie}/${z}`.replace("//","/")),F},["/"]).reverse(),V=(_==null?void 0:_.find(F=>!!(j!=null&&j.routes[F])))||"",b=j==null?void 0:j.routes[V],v=!!((c=j==null?void 0:j.routesRequiringLastSelectedSite)!=null&&c.includes(V));return{config:N,surfaceConfig:j,surfaceRouteConfig:b,matchedRouteKey:V,useDevMode:!!g,elementDirectory:k,requiresLastSelectedSite:v}}},22386:(Ie,se,l)=>{l.d(se,{ZP:()=>ce});var d=l(5780),L=l.n(d),w=l(63851),M=l(63733),x=l(1329),P=l(807);const J="001",B="002",H="003",Z="004",T="unknown",R=E=>E?E===Z?"CVV code":E===B?"card number":E===H?"card type":"":"",q=E=>{switch(E){case"creditCardExpirationMonth":return"card expiration month";case"creditCardExpirationYear":return"card expiration year";case"cardSecurityCode":return"CVV code";case"creditCardHolderName":return"cardholder name";case"creditCardCountry":return"country";case"creditCardState":return"state";case"creditCardAddress1":case"creditCardAddress2":return"address";case"creditCardCity":return"city";case"creditCardPostalCode":return"zip/postal code";default:return""}},D=E=>E?E.includes("creditCardExpirationMonth")?"card expiration month":E.includes("creditCardExpirationYear")?"card expiration year":E.includes("cardSecurityCode")?"CVV code":E.includes("creditCardHolderName")?"cardholder name":E.includes("creditCardCountry")?"country":E.includes("creditCardState")?"state":E.includes("creditCardAddress1")||E.includes("creditCardAddress2")?"address":E.includes("creditCardCity")?"city":E.includes("creditCardPostalCode")?"zip/postal code":"":"",O=["card_error/card_declined","card_error/card_declined/generic_decline","card_error/card_declined/insufficient_funds","card_error/card_declined/lost_card","card_error/card_declined/stolen_card","card_error/expired_card","card_error/processing_error","card_error/incorrect_cvc","card_error/incorrect_number","card_error/incorrect_zip","card_error/incorrect_address","invalid_request_error/setup_intent_authentication_failure"],e=E=>{if(!E)return"Payment validation failed.";if(E.includes("Submit_Too_Quick"))return"You have submitted this form too many times. Please try again later.";if(E.includes("Authentication failed, please check your password"))return"Verification step failed because the authentication was incorrect or the authentication was canceled.";const f=[...E.matchAll(/\[([\w\-/]+)\]/g)],U=f[f.length-1];return f.length>0&&O.includes(U[1])?E.slice((U.index||0)+U[0].length+1):`Payment validation failed. Debug message: ${E}`};function t(E){if(!(E!=null&&E.directResults))return E;const{key:f,message:U,code:Q}=E.directResults,re=R(Q);if(re)return{...E,displayMessage:`The provided ${re} is invalid.`};const ue=q(f);if(ue)return{...E,displayMessage:`The provided ${ue} is invalid.`};const he=D(U);return he?{...E,displayMessage:`The provided ${he} is invalid.`}:"key"in E.directResults&&f==="error"?{...E,displayMessage:e(U)}:E}const s="1.3.1",c="8ad088718045e6340180479027db13c7",S="8a12892d804132bf01804c4c9bb718d7";let y,g=!1;const k=()=>window.Z||null,N=async E=>{g||(await new Promise((f,U)=>{g=!0;const Q=document.createElement("script");Q.type="text/javascript",Q.async=!0,Q.onload=()=>f(),Q.onerror=()=>U("Failed to load zuora"),Q.src=`https://static.zuora.com/Resources/libs/hosted/${s}/zuora-min.js`,document.getElementsByTagName("head")[0].appendChild(Q)}),window.addEventListener("message",E))},W=E=>({id:E.hosted_page_id,key:E.key,signature:E.signature,style:"overlay",submitEnabled:!0,tenantId:E.tenantId,token:E.token,url:E.uri,field_accountId:E.zuora_id,param_supportedTypes:"AmericanExpress,Visa,MasterCard,Discover,Dankort"}),j=({key:E,card:f})=>{const U=new x.Z;return U.setPublicKey(E),{creditCardExpirationMonth:U.encrypt(parseInt(f.expirationMonth)<10?`0${parseInt(f.expirationMonth)}`:`${f.expirationMonth}`),creditCardExpirationYear:U.encrypt(""+f.expirationYear),creditCardNumber:U.encrypt(f.creditCardNumber.replace(/\s/gi,"")),cardSecurityCode:U.encrypt(f.securityCode),creditCardHolderName:f.cardHolderInfo.cardHolderName,creditCardCountry:P.vU[f.cardHolderInfo.country]||f.cardHolderInfo.country,creditCardState:(0,P.H8)(f.cardHolderInfo.state),creditCardAddress1:f.cardHolderInfo.addressLine1,creditCardAddress2:f.cardHolderInfo.addressLine2,creditCardCity:f.cardHolderInfo.city,creditCardPostalCode:f.cardHolderInfo.zipCode}};async function _({rendererParams:E,rendererPrepopulateFields:f,onSubmissionSuccess:U,onSubmissionError:Q,onRenderError:re,onRenderSuccess:ue}){try{let oe=function(X){Q==null||Q(t(X)),C()};var he=oe;const{key:fe,signature:Ce,style:ke,submitEnabled:Ae,tenantId:Me,token:De,url:Te,sandbox:Pe,passthroughParams:Oe,zuoraPayload:Ne,zuora_id:$,hosted_page_id:le}=E,Le=Date.now();y=Le;const Fe=()=>y===Le;v(),await N(X=>{Fe()&&X.origin.endsWith(".zuora.com")&&console.log("[Zuora event]",X)});const He=X=>{Fe()&&(console.log("[Zuora callback invoked]",X),["true",!0].includes(X==null?void 0:X.success)?U==null||U(X):X.responseFrom==="Response_From_Submit_Page"?oe({displayMessage:"Failed to process payment",directResults:X}):re==null||re("Failed to load page"),C())},We=(X,pe,_e,Ee)=>{Fe()&&(console.error("[Zuora client error message invoked]",{key:X,code:pe,message:_e,rawGatewayInfo:Ee}),oe==null||oe({displayMessage:_e,directResults:{key:X,code:pe,message:_e,rawGatewayInfo:Ee}}))},I=X=>{Fe()&&(console.log("[Zuora showing challenge modal]",X),b())},Y=(Oe||[]).reduce((X,pe,_e)=>(_e<15?X[`field_passthrough${_e+1}`]=pe:console.error("[Zuora Passthrough Error] Only 15 passthrough params allowed"),X),{}),ne=j({key:fe,card:Ne});k().setEventHandler("onloadCallback",()=>{Fe()&&(k().setAgreement("External","Recurring","Visa,Mastercard,Discover",""),k().allowScroll(),V(),ue==null||ue(),setTimeout(()=>{k().submit()},2e3))}),k().renderWithErrorHandler({id:le||(Pe?c:S),key:fe,signature:Ce,style:ke,submitEnabled:Ae,tenantId:Me,token:De,url:Te,field_accountId:$,...Y},ne,He,We,null,null,I)}catch(oe){console.error("[Unknown error rendering Zuora page]",oe),re==null||re(oe)}}const V=()=>{const E=document.querySelector("#zuora_payment iframe");E&&(E.style.width="100%")},b=()=>{const E=document.getElementById("zuora_form_container");E&&(E.style.marginTop="1rem",E.style.opacity="1",E.style.height="auto")},v=()=>{const E=document.getElementById("zuora_form_container");E&&(E.style.marginTop="0",E.style.opacity="0",E.style.height="0")},C=()=>{const E=document.querySelector("#zuora_payment iframe");E&&E.remove(),v()},F={amex:"AmericanExpress",discover:"Discover",mastercard:"MasterCard",visa:"Visa",jcb:"JCB",diners:"Diners"},z=E=>{const f=(0,M._O)(E.number)||{};return F[f.type]},G=E=>{var f,U;const Q=((U=(f=E==null?void 0:E.reasons)==null?void 0:f[0])==null?void 0:U.message)||"Unable to process transaction",re=Q.split(".").shift(),ue=/PROCESSOR_DECLINED/.test(Q)?". Please contact your bank for more information.":"";return`${re}${ue}`},ie=({card:E,token:f})=>{const{month:U,year:Q}=(0,M.qj)(E.expiration),re=z(E);return{accountKey:f.payment_gateway_id,cardHolderInfo:{cardHolderName:E.name,addressLine1:E.addressLine1||"placeholder",addressLine2:E.addressLine2,city:E.city,country:E.country,state:E.state,zipCode:E.zipCode},creditCardNumber:E.number,creditCardType:re,defaultPaymentMethod:!0,expirationMonth:U,expirationYear:Q,securityCode:E.cvv}},K=({token:E,zuoraPayload:f,zuoraResponse:U})=>{if(!U.success)throw new w.Z(G(U));try{const Q=U.paymentMethodId;if(!Q)throw new Error("Missing paymentMethodId in Zuora response");const re=E.customer_id,ue=E.organization_id;if(!re&&!ue)throw new Error("Missing customer_id or organization_id in token bundle from API");const he={type:"card",zuora_id:Q,customer_id:re,data:{card_type:f.creditCardType,name:f.cardHolderInfo.cardHolderName,last4:f.creditCardNumber.substr(f.creditCardNumber.length-4),country:f.cardHolderInfo.country,state:f.cardHolderInfo.state,auth_transaction_id:U.authTransactionId},sandbox:E.sandbox,enterpriseException:E.enterpriseException};return Promise.resolve(he)}catch(Q){throw L().notify(Q,re=>{re.context="zuora-client \uFE65 zuoraResponseToPaymentMethod"}),new w.Z("Unable to process transaction")}};class ce{constructor(f,U){this.hasRequiredFields=Q=>{const{accountKey:re,cardHolderInfo:ue,creditCardType:he,expirationMonth:oe,expirationYear:fe}=Q;return![re,ue,he,oe,fe].some(Ce=>!Ce)},this.createPaymentMethod=Q=>{const re=ie({card:Q,token:this.tokenBundle});if(!this.hasRequiredFields(re))throw new w.Z("Unsupported payment method");try{const{signature:ue,token:he,secure:oe}=this.tokenBundle;if(!ue)throw new Error("Missing signature in token bundle from API");if(!he)throw new Error("Missing token in token bundle from API");return oe?this.perform3DSecureHostedFrameSequence(re).then(fe=>K({token:this.tokenBundle,zuoraPayload:re,zuoraResponse:fe})):fetch(this.tokenBundle.uri,{body:JSON.stringify(re),headers:{Accept:"application/json","Content-Type":"application/json",signature:ue,token:he},method:"POST",mode:"cors"}).then(fe=>fe.json()).then(fe=>K({token:this.tokenBundle,zuoraPayload:re,zuoraResponse:fe}))}catch(ue){throw L().notify(ue,he=>{he.context="zuora-client \uFE65 createPaymentMethod"}),new w.Z("Unable to process transaction")}},this.perform3DSecureHostedFrameSequence=async Q=>{const{sandbox:re,uri:ue,key:he,tenantId:oe,signature:fe,token:Ce,zuora_id:ke,hosted_page_id:Ae}=this.tokenBundle;if(!oe||!he||!fe||!Ce)throw console.error("perform3DSecureHostedFrameSequence did not receive all of the data needed",this.tokenBundle),L().notify({errorClass:"invalid-3d-response",errorMessage:"Insufficient parameters received for 3D Secure"},Me=>{Me.context="zuora-client \uFE65 perform3DSecureHostedFrameSequence"}),new w.Z("Unable to process transaction");return new Promise((Me,De)=>{_({rendererParams:{sandbox:re,url:ue,key:he,tenantId:oe,signature:fe,token:Ce,submitEnabled:!0,style:"inline",passthroughParams:[this.options.darkMode?"theme-dark":"theme-light"],zuoraPayload:Q,zuora_id:ke,hosted_page_id:Ae},rendererPrepopulateFields:{},onRenderSuccess:()=>{console.log("[Zuora iframe rendered]")},onRenderError:Te=>console.error("[Zuora failed to render]",Te),onSubmissionError:Te=>{console.error("[Zuora failed to process]",Te),De(new w.Z(Te.displayMessage))},onSubmissionSuccess:Te=>{if(!(Te!=null&&Te.refId))return De(new w.Z("Internal Error: Failed to get a refId > paymentMethodId"));Me({paymentMethodId:Te.refId,authTransactionId:Te.zThreeDs2TxId,success:!0})}})})},this.tokenBundle=f,this.options=U||{}}}},807:(Ie,se,l)=>{l.d(se,{H8:()=>x,hU:()=>L,vU:()=>d,zN:()=>w});const d={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},L={AA:"Armed Forces America",AE:"Armed Forces",AK:"Alaska",AL:"Alabama",AP:"Armed Forces Pacific",AR:"Arkansas",AZ:"Arizona",CA:"California",CO:"Colorado",CT:"Connecticut",DC:"Washington DC",DE:"Delaware",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",IA:"Iowa",ID:"Idaho",IL:"Illinois",IN:"Indiana",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",MA:"Massachusetts",MD:"Maryland",ME:"Maine",MI:"Michigan",MN:"Minnesota",MO:"Missouri",MS:"Mississippi",MT:"Montana",NC:"North Carolina",ND:"North Dakota",NE:"Nebraska",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NV:"Nevada",NY:"New York",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VA:"Virginia",VI:"Virgin Islands",VT:"Vermont",WA:"Washington",WI:"Wisconsin",WV:"West Virginia",WY:"Wyoming"},w={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},M=[...Object.values(L),...Object.values(w)];function x(P){let J="";if(P.length===2)J=L[P.toUpperCase()]||w[P.toUpperCase()];else if(P){const B=P.toLowerCase().replace(/\W/gi,"");J=M.find(H=>{const Z=H.toLowerCase().replace(/\W/gi,"");return B===Z})||""}return J||P}}}]);})();
