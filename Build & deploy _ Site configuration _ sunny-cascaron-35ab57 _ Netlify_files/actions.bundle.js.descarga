"use strict";(()=>{(self.webpackChunk=self.webpackChunk||[]).push([[8107],{10249:(Me,$,e)=>{e.d($,{Eb:()=>E,FW:()=>P,d2:()=>p,o3:()=>D,rI:()=>S,so:()=>M});var c=e(18432),F=e(7442),f=e(941);const m=(0,c.P)("accountCommitters"),M=(0,c.x)("accountCommitters",m);function D(o,d){const i=o.accountCommitters.getIn(["pages",d,"ids"]);return i==null?void 0:i.map(u=>o.accountCommitters.getIn(["entities",u]))}function P(o){return(0,f.p5)((d,i,u)=>u.accountCommitters(o.get("id"),{}).then(l=>{d(m.accountCommittersSuccess(o.get("slug"),l.data))}))}function p(o,d,i){return(0,f.p5)((u,l,n)=>n.createCommitter(o.get("id"),d,i).then(t=>{u(P(o))}))}function S(o,d,i,u,l){return(0,f.p5)((n,t,s)=>s.updateCommitter(d.get("id"),i,u,l).then(a=>{F.iND.appCommitterMerged({accountId:d.get("id")||"",committerId:i,memberId:u,type:u?"merge":"unmerge",userId:o}),n(P(d))}))}function E(o,d){return(0,f.p5)((i,u,l)=>l.deleteCommitter(o.get("id"),d).then(n=>{i(P(o))}))}},2630:(Me,$,e)=>{e.d($,{Ah:()=>x,Kw:()=>r,Lj:()=>N,O_:()=>_e,PM:()=>s,SM:()=>I,ad:()=>a,c_:()=>k,cg:()=>g,el:()=>B,hS:()=>ee,j_:()=>L,pJ:()=>q,vd:()=>_});var c=e(90046),F=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(77962),P=e(45473),p=e(91800),S=e(941),E=e(60653);const o=(0,M.P)("accountMembers"),d="INVITE_CLEAR_FAILURES",i="INVITE_FAILURE",u="ACCOUNT_RECENT_MEMBERS_SUCCESS",l=(0,m.Z)(d),n=(0,m.Z)(i),t=(0,m.Z)(u),s=(0,M.x)("accountMembers",o,{handler:(J,ie)=>{switch(ie.type){case d:return J.setIn(["inviteErrors"],(0,c.List)());case i:{const v=J.get("inviteErrors")||(0,c.List)();return J.setIn(["inviteErrors"],v.push(ie.payload))}case u:{const{accountSlug:v,data:W}=ie.payload;return J.setIn(["recentMembers",v],(0,c.fromJS)(W))}default:return null}}});function a(J,ie){const v=J.accountMembers.getIn(["pages",ie,"ids"]);return v&&v.map(W=>J.accountMembers.getIn(["entities",W])).sort((W,oe)=>{const U=re=>re.get("pending")===!0;if(U(W)&&!U(oe))return 1;if(!U(W)&&U(oe))return-1;const V=new Date(W.get("updated_at")),fe=new Date(oe.get("updated_at"));return V<fe?1:-1})}function _(J,ie){return J.accountMembers.getIn(["recentMembers",ie==null?void 0:ie.get("slug")])}function r(J,ie){return J.accountMembers.getIn(["entities",ie])}function g(J,ie){return J.accountMembers.getIn(["pages",ie])}function I(J){return J.accountMembers.getIn(["inviteErrors"])}function B(J,ie={}){return(0,S.p5)((v,W,oe)=>oe.accountMembers(J.get("slug"),ie).then(U=>v(o.accountMembersSuccess(J.get("slug"),U.data,U.pagination))))}function q(J){return(0,S.p5)((ie,v,W)=>{const oe=J.get("slug");return W.accountMembers(oe,{page:1,per_page:5}).then(U=>ie(t({accountSlug:oe,data:U.data})))})}function N(J,ie){return(0,S.p5)((v,W,oe)=>oe.accountMember(J.get("slug"),ie).then(U=>v(o.accountMemberSuccess(U.data))))}function L(J,{emails:ie,role:v,site_ids:W,site_access:oe,build_id:U},V){return(0,S.p5)((fe,re,Re)=>(fe(l()),Promise.all(ie.map(Y=>Re.inviteAccountMember(J.get("slug"),{email:Y,role:v,site_ids:W,site_access:oe,build_id:U}).catch(b=>{fe(n((0,c.fromJS)({email:Y,error:b.message})))}))).finally(()=>{fe(B(J)),fe((0,p.Mx)(J.get("slug")));let Y=(0,D.l_)(J,"members");V&&(Y+="?addOwner=true"),fe((0,f.VF)(Y))})))}function k(J,ie){return(0,S.p5)((v,W,oe)=>oe.inviteAccountMember(J.get("slug"),{email:ie.get("email"),role:ie.get("role"),site_ids:ie.get("site_ids"),site_access:ie.get("site_access"),build_id:ie.get("build_id")}).finally(()=>{v(B(J)),v((0,p.Mx)(J.get("slug")))}))}function _e(){return l()}function x(J,ie){return(0,S.p5)((v,W,oe)=>oe.removeAccountMember(J.get("slug"),ie.get("id")).then(()=>{(0,E.HF)(W()).get("id")===ie.get("id")?v((0,p.UU)(J)):(v(B(J)),v((0,P.uK)(J))),v((0,p.Mx)(J.get("slug")))}))}function ee(J,ie,{role:v,site_access:W,site_ids:oe}){return(0,S.p5)((U,V,fe)=>fe.updateAccountMember(J.get("slug"),ie.get("id"),{role:v,site_access:W,site_ids:oe}).then(re=>{U((0,p.Mx)(J.get("slug"))),U(B(J)),U((0,P.uK)(J))}))}},99695:(Me,$,e)=>{e.d($,{L6:()=>M,TL:()=>m,V8:()=>D});var c=e(18432),F=e(941);const f=(0,c.P)("accountReceipts"),m=(0,c.x)("accountReceipts",f);function M(P,p){const S=p&&P.accountReceipts.getIn(["pages",p.get("slug"),"ids"]);return S&&S.map(E=>P.accountReceipts.getIn(["entities",E])).filter(E=>E.get("html_stored"))}function D(P){return(0,F.p5)((p,S,E)=>E.accountReceipts(P.get("slug")).then(o=>p(f.accountReceiptsSuccess(P.get("slug"),o.data,o.pagination))))}},45473:(Me,$,e)=>{e.d($,{Du:()=>S,Mr:()=>D,fK:()=>E,uK:()=>P,xU:()=>p});var c=e(18432),F=e(21805),f=e(91800),m=e(941);const M=(0,c.P)("accountReviewerMembers"),D=(0,c.x)("accountReviewerMembers",M);function P(o,d={per_page:50}){const i=o.get("slug");return(0,m.p5)((u,l,n)=>n.accountReviewerMembers(i,d).then(t=>u(M.accountReviewerMembersSuccess(i,t.data,t.pagination))))}function p(o,d){const i=o==null?void 0:o.accountReviewerMembers.getIn(["pages",d,"ids"]);return i==null?void 0:i.map(u=>o.accountReviewerMembers.getIn(["entities",u]))}function S(o,d){return o.accountReviewerMembers.getIn(["pages",d])}function E(o,d,{state:i}){const u=d.get("id");return(0,m.p5)((l,n,t)=>t.updateAccountMember(o.get("slug"),u,{role:F.TH,self_invite_state:i}).then(()=>{l((0,f.Mx)(o.get("slug"))),l(P(o))}).catch(s=>l(M.reviewerMembersFailure({memberId:u,error:s}))))}},97536:(Me,$,e)=>{e.d($,{$K:()=>t,Q_:()=>i,ag:()=>_,iX:()=>a});var c=e(90046),F=e.n(c),f=e(18643),m=e(18432),M=e(2630),D=e(941);const P=(0,m.P)("accountReviewers"),p="REVIEWER_SUCCESS",S="REVIEWER_FAILURE",E=(0,f.Z)(p),o=(0,f.Z)(S);function d(r){const g=r.get("slug");return(0,D.p5)((I,B,q)=>(I(P.accountReviewersRequest(g)),q.accountReviewers(g).then(N=>{I(P.accountReviewersSuccess(g,N.data,N.pagination)),I(E({}))})))}const i=(0,m.x)("accountReviewers",P,{handler:(r,g)=>{switch(g.type){case p:return r.setIn(["error"],(0,c.fromJS)(g.payload));case S:return r.setIn(["error"],(0,c.fromJS)(g.payload));default:return null}}});function u(r,g){return r.accountReviewers.getIn(["entities",g])}function l(r,g){const I=r.get("state"),B=g.get("state");return I===B?new Date(g.get("created_at")).getTime()-new Date(r.get("created_at")).getTime():B==="pending"?1:I==="pending"?-1:0}function n(r,g){const I=r.accountReviewers.getIn(["pages",g,"ids"]);return I&&I.map(B=>r.accountReviewers.getIn(["entities",B])).sort(l)}function t(r){return r.accountReviewers.getIn(["error"])}function s(r,g,{state:I,site_access:B="all"}){const q=g.get("id");return withApi((N,L,k)=>k.updateAccountReviewer(r.get("slug"),q,{state:I,site_access:B}).then(()=>N(d(r))).catch(_e=>N(o({reviewerId:q,error:_e}))))}function a(r,g,{role:I="Collaborator"}){const B=g.get("id");return(0,D.p5)((q,N,L)=>L.promoteAccountReviewer(r.get("slug"),B,{role:I}).then(()=>{q((0,M.el)(r)),q(d(r))}).catch(k=>q(o({reviewerId:B,error:k}))))}function _(r,g){const I=g.get("id");return(0,D.p5)((B,q,N)=>N.removeAccountReviewer(r.get("slug"),I).then(()=>{B(d(r))}).catch(L=>B(o({reviewerId:I,error:L}))))}},91800:(Me,$,e)=>{e.d($,{Gj:()=>ae,Ko:()=>Pe,L3:()=>me,MI:()=>ge,Mx:()=>ne,Tq:()=>T,UU:()=>z,Wq:()=>Q,_Z:()=>G,bk:()=>pe,cM:()=>Ke,i6:()=>Se,my:()=>K,nP:()=>Z,nw:()=>le,o1:()=>ve,ok:()=>ce,qL:()=>de,rp:()=>Ce,s5:()=>Ae,sG:()=>te,tm:()=>h,uW:()=>H,vP:()=>j,yj:()=>Re});var c=e(90046),F=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(7442),P=e(82048),p=e(98814),S=e(63851),E=e(72746),o=e(46408),d=e(68854),i=e(54856),u=e(13287),l=e(941),n=e(60653),t=e(52968),s=e(34571),a=e(38751),_=e(93716);const r="ACCOUNT_TYPES_SUCCESS",g="ACCOUNT_COMPLIANCE_SUCCESS",I="ACCOUNT_UPGRADE_PRO",B="ACCOUNT_UPGRADE_BUSINESS",q="SET_SELECTED_ACCOUNT",N="SET_REQUESTED_ACCOUNT_TYPE",L="ACCOUNT_BANDWIDTH_USAGE_SUCCESS",k="ACCOUNT_BANDWIDTH_USAGE_PER_DOMAIN_SUCCESS",_e="ACCOUNT_BUILD_USAGE_SUCCESS",x="ACCOUNT_CREATOR_SUCCESS",ee="ACCOUNT_EDGE_FUNCTION_BANDWIDTH_USAGE_SUCCESS",J=(0,M.P)("accounts"),ie=(0,m.Z)(r,O=>O),v=(0,m.Z)(g,(O,R)=>({id:O,compliance:R})),W=(0,m.Z)(L,(O,R)=>({id:O.get("id"),bandwidth:R})),oe=(0,m.Z)(ee,(O,R)=>({id:O.get("id"),edgeFunctions:R})),U=(0,m.Z)(k,(O,R)=>({id:O,bandwidth:R})),V=(0,m.Z)(_e,(O,R)=>({id:O.get("id"),status:R}));function fe(O){return(0,l.p5)((R,se,Ie)=>Ie.accountBandwidth(O.get("slug")).then(he=>{R(W(O,he.data))}))}function re(O){return(0,l.p5)((R,se,Ie)=>Ie.accountEdgeFunctionsUsage(O.get("slug")).then(he=>{R(oe(O,he.data))}))}function Re(O,R){return(0,l.p5)((se,Ie,he)=>he.accountBandwidthRanking(O,R).then(Oe=>{se(U(O,Oe.data))}))}function Y(O){return(0,l.p5)((R,se,Ie)=>Ie.accountBuildStatus(O.get("slug")).then(he=>{R(V(O,he.data))}))}function b(O){return(R,se)=>{R(fe(O)),R(Y(O)),R(re(O))}}function j(){return(0,l.p5)((O,R,se)=>se.accounts().then(Ie=>{O(J.accountsSuccess("accounts",Ie.data,Ie.pagination)),i.Z.setContext("accounts",Ie.data.map(he=>(0,E.M)(he)))}))}function ne(O){return(0,l.p5)((R,se,Ie)=>Ie.account(O).then(he=>R(J.accountSuccess(he.data))).then(he=>{var Oe;const We=(Oe=he==null?void 0:he.payload)==null?void 0:Oe.id;return R(Le({accountId:We,slug:O})),he}).catch(he=>R(J.accountFailure(O,he))))}function Se(O){return(R,se)=>{R(ne(O.get("slug"))).then(()=>{R(b(O))})}}function Pe(){return(0,l.p5)((O,R,se)=>se.accountTypes().then(Ie=>O(ie(Ie.data))))}function Le({accountId:O,slug:R}){return(0,l.p5)((se,Ie,he)=>he.accountCompliance(R).then(Oe=>se(v(O,Oe.data))))}function ve(O){return(0,l.p5)((R,se,Ie)=>Ie.createAccount(O).then(({data:he})=>{R(J.accountSuccess(he)),O.transferSite&&R((0,s.GQ)(O.transferSite,(0,c.Map)(he))),R(j()),R((0,f.VF)(`/teams/${he.slug}`)),R((0,s.KZ)()),R((0,a.L9)({event:"subscription_created",category:"subscription",label:`Team plan ${he.type_name}`}))}))}function te(O,R){return(0,l.p5)((se,Ie,he)=>he.updateAccount(O.get("id"),R).then(({data:Oe})=>{var We;const{logo:Ve}=R;if(Ve!==void 0&&he.updateAccountLogo(O.get("id"),Ve).catch(ke=>new S.Z(ke)),se((0,s.Go)()),se(J.accountSuccess(Oe)),O.get("type_slug")===o.iK&&Oe.type_slug===o.d0&&Oe.type_id===R.type_id){const ke=(0,d.St)("upgradePro")?"www":"app",Qe=(0,d.St)("gaID")?(0,d.St)("gaID"):"";D.iND.appFlowUpgradePro({category:"flow",label:"Team upgraded to Pro",accountId:O.get("id"),gaID:Qe||"",source:ke,trialRequested:!!R.free_trial}),(0,d.St)("upgradePro")&&(0,d.lD)("upgradePro")}if((O.get("type_slug")===o.iK||O.get("type_slug").match(/pro/))&&Oe.type_slug===o.HX&&Oe.type_id===R.type_id){const ke=(0,d.St)("upgradeBusiness")?"www":"app",Qe=(0,d.St)("gaID")?(0,d.St)("gaID"):"";D.iND.appFlowUpgradeBusiness({category:"flow",label:"Team upgraded to Business",accountId:O.get("id"),gaID:Qe||"",source:ke}),(0,d.St)("upgradeBusiness")&&(0,d.lD)("upgradeBusiness")}if(O.get("type_slug")===o.s5&&(Oe.type_slug===o.iK||Oe.type_slug===o.d0)&&Oe.type_id===R.type_id&&D.iND.appEnterpriseTrialDowngrade({newPlanTypeSlug:Oe.type_slug,daysLeftOnTrial:(0,o.OF)(O)}),O.get("type_slug")!==o.s5&&Oe.type_slug===o.s5&&Oe.type_id===R.type_id){const ke=(0,n.HF)(Ie()),Qe=O.get("name"),rt=R.fullName||(ke==null?void 0:ke.get("full_name"))||((We=(0,t.DY)(Ie(),O))==null?void 0:We.getIn(["data","name"],"Unknown")),{firstname:ot,lastname:lt}=(0,P.DY)(rt),{sendContactFormData:dt}=(0,p.Z)({hubspotformid:"5991acbb-d5d5-446a-b6e0-15b29516ea88"}),st=R.email||(ke==null?void 0:ke.get("email"));D.iND.appEnterpriseTrialSignupRequested({accountId:O.get("id"),name:rt,email:st,team:Qe,useCase:R.useCase,company_name:R.companyName,company_size__c:R.companySize,jobrole:R.jobTitle}),dt({firstname:ot,lastname:lt,email:st,team:Qe,company:R.companyName,companySize:R.companySize,jobTitle:R.jobTitle,useCase:R.useCase})}const qe=O.get("slug"),{slug:Xe}=Oe;qe!==Xe&&se((0,_.Ee)(document.location.pathname.replace(`/teams/${qe}/`,`/teams/${Xe}/`)))}))}function ce(O,R){return(0,l.p5)((se,Ie,he)=>he.updateAccount(O.get("id"),R).then(()=>{const{logo:Oe}=R;if(Oe!==void 0)return he.updateAccountLogo(O.get("id"),Oe).then(()=>{se(ne(O.get("slug")))}).catch(We=>new S.Z(We))}))}function Ae(O){return(0,l.p5)((R,se,Ie)=>Ie.deleteAccountLogo(O.get("id")).then(()=>{R(ne(O.get("slug")))}).catch(he=>new S.Z(he)))}function h(O){return D.iND.appAccountDelete({accountId:O==null?void 0:O.get("id"),accountSlug:O==null?void 0:O.get("slug")}),(0,l.p5)((R,se,Ie)=>Ie.deleteAccount(O.get("id")).then(he=>R(z(O))))}function z(O){return(R,se)=>{R((0,s.Go)()),R(Ue()),R(j()).then(()=>R((0,_.Ee)("/")))}}function le(O){return(0,d.D$)("nf-team",O),{type:q,slug:O}}function Ue(){return le(null)}function T(O,R=!1,se=!1){return{type:N,payload:{accountTypeRequested:O,isNewAccountTypeRequested:R,isTrialAccountTypeRequested:se}}}function G(){return T(null)}const w=(O,R)=>[O.get?O.get("id"):O.id,R].join("-"),ge=(0,M.x)("accounts",J,{key:"slug",handler:(O,R)=>{switch(R.type){case r:return O.set("accountTypes",(0,c.fromJS)(R.payload));case q:return O.set("selected",R.slug);case N:return O.set("accountTypeRequested",R.payload.accountTypeRequested).set("isNewAccountTypeRequested",R.payload.isNewAccountTypeRequested).set("isTrialAccountTypeRequested",R.payload.isTrialAccountTypeRequested);case L:return O.set(w(R.payload,"bandwidth"),(0,c.fromJS)(R.payload.bandwidth));case k:return O.set(w(R.payload,"bandwidthUsagePerDomain"),(0,c.fromJS)(R.payload.bandwidth));case g:return O.set(w(R.payload,"compliance"),(0,c.fromJS)(De(R.payload.compliance)));case x:return O.set(w(R.payload,"creator"),(0,c.fromJS)(R.payload));case I:return O.set("upgradePro",(0,c.fromJS)(R.payload.id));case _e:return O.set(w(R.payload,"build_minutes"),(0,c.fromJS)({used:R.payload.status.minutes?R.payload.status.minutes.current:R.payload.status.minutes_used}));case ee:return O.set(w(R.payload,"edge_functions"),(0,c.fromJS)(R.payload.edgeFunctions));default:return null}}});function pe(O,R){let se=O.accounts.getIn(["entities",R]);return se?((0,u.F0)(se)&&(se=se.merge({user_capabilities:{billing:se.getIn(["user_capabilities","billing"])}})),se=se.mergeIn(["capabilities"],C(O,se)),se=se.mergeIn(["compliance"],ye(O,se.get("id"))),se):null}function me(O){const R=O.accounts.getIn(["pages","accounts","ids"]),se=R&&R.map(Ie=>pe(O,Ie));return se&&(0,c.List)(se.sort((Ie,he)=>Ie.get("name").localeCompare(he.get("name"))))}function Ke(O,R){return O.accounts.getIn(["entities",R.get("slug"),"error"])}function Ce(O){const R=O.user,se=me(O),Ie=R==null?void 0:R.get("preferred_account_id"),he=se==null?void 0:se.find(Oe=>(Oe==null?void 0:Oe.get("id"))===Ie);return he||R&&se&&(se.find(Oe=>Oe?Oe.get("default")&&(Oe==null?void 0:Oe.getIn(["owner_ids",0]))===R.get("id"):!1)||se.first())}function K(O){return O.accounts.get("accountTypeRequested")}function Q(O){return O.accounts.get("isNewAccountTypeRequested")}function ae(O){return O.accounts.get("isTrialAccountTypeRequested")}function de(O){return O.accounts.get("accountTypes")}function H(O){const R=O.accounts.get("selected")||(0,d.le)("nf-team");return pe(O,R)||Ce(O)}function C(O,R){const se=O.accounts.get(w(R,"bandwidth")),Ie=O.accounts.get(w(R,"build_minutes")),he=O.accounts.get(w(R,"edge_functions"));return se&&Ie&&(0,c.Map)({period_start_date:se.get("period_start_date"),period_end_date:se.get("period_end_date"),last_updated_at:se.get("last_updated_at"),bandwidth:se,build_minutes:Ie.set("included",R.getIn(["capabilities","build_minutes","included"])),edge_functions:he})}function Z(O,R){var se;return(se=O.accounts)==null?void 0:se.get(w({id:R},"bandwidthUsagePerDomain"))}const De=O=>((!O||O.private_corp_repos.in_compliance!==!1)&&(O.private_corp_repos.in_compliance=!0),O);function ye(O,R){var se;return(se=O.accounts)==null?void 0:se.get(w({id:R},"compliance"))}},23979:(Me,$,e)=>{e.d($,{Dc:()=>L,Ji:()=>k,PO:()=>ie,Pc:()=>W,Te:()=>J,Tf:()=>ne,Wo:()=>j,Ww:()=>Y,XF:()=>Pe,Z$:()=>fe,_$:()=>te,bc:()=>re,co:()=>Ae,gg:()=>b,lW:()=>oe,mE:()=>V,mq:()=>ce,nV:()=>Re,p_:()=>Le,wi:()=>_e});var c=e(90046),F=e.n(c),f=e(18643),m=e(7857),M=e(35037),D=e(941),P=e(34571);const p="ANALYTICS_METRIC_SUCCESS",S="ANALYTICS_METRIC_FETCHING_DONE",E="ANALYTICS_METRIC_FETCHING_STARTED",o="pageviews",d="pageviews-summary",i="unique-visitors",u="unique-visitors-summary",l="top-locations",n="top-sources",t="top-pages",s="bandwidth-used",a="bandwidth-used-summary",_="not-found",r={resolution:"day",days:30};let g=30;const I=(0,f.Z)(p,(h,z,le,{data:Ue})=>({metric:h,siteId:z.get("id"),period:le,data:Ue})),B=(0,f.Z)(S,(h,z)=>({metric:h,siteId:z.get("id")})),q=(0,f.Z)(E,(h,z)=>({metric:h,siteId:z.get("id")}));let N;function L(h){const z=h.get("id");return(0,D.p5)((le,Ue,T)=>T.enableAnalytics(z).then(()=>le((0,P.EQ)(h.get("name")))).then(G=>le((0,P.ZO)(G))))}function k(h){const z=h.get("id"),le=h.get("analytics_instance_id");return(0,D.p5)((Ue,T,G)=>le?G.deleteAnalytics(z,le).then(()=>Ue((0,P.EQ)(h.get("name")))):Promise.resolve())}function _e(h){return(z,le)=>{const{config:Ue}=le();return N=N||new M.ZP(Ue),h(z,le,N)}}function x(h="day",z=30,le=0,Ue){const T=new Date;return h==="hour"?Ue==="uniqueVisitors"?{from:(0,m.YD)(T,1+le).getTime(),to:(0,m.YD)(T,le).getTime()-36e5,resolution:h,minusOffsetDays:le}:{from:(0,m.YD)(T,1+le).getTime(),to:(0,m.YD)(T,le).getTime(),resolution:h,minusOffsetDays:le}:{from:(0,m.b7)((0,m.YD)(T,z+le)).getTime(),to:le?(0,m.iX)((0,m.YD)(T,le)).getTime():T.getTime(),resolution:h,minusOffsetDays:le}}function ee(h="day",z=30,le=0,Ue){return z===7?{period:x(h,z,le),periodByRange:x("range",z,le)}:z===1?{period:x(h,24,le,Ue),periodByRange:x("range",z,le)}:{period:x(h,z,le),periodByRange:x("range",z,le)}}function J(h,{resolution:z,days:le,minusOffsetDays:Ue}=r){const{period:T,periodByRange:G}=ee(z,le,Ue);return g=le,_e((w,ge,pe)=>Promise.all([w(q(d,h)),w(q(o,h)),pe.pageviews(h.get("id"),T).then(me=>w(I(o,h,T,me))),pe.pageviews(h.get("id"),G).then(me=>w(I(d,h,T,me)))]).then(()=>w(B(o,h))).then(()=>w(B(d,h))))}function ie(h,z){return h.analytics.get(`${z.get("id")}-${o}`)&&h.analytics.get(`${z.get("id")}-${o}`).toJS()}function v(h,z){return h.analytics.get(`${z.get("id")}-${d}`)&&h.analytics.get(`${z.get("id")}-${d}`).toJS()}function W(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T,periodByRange:G}=ee(z,le,Ue,"uniqueVisitors");return g=le,_e((w,ge,pe)=>Promise.all([w(q(u,h)),w(q(i,h)),pe.uniqueVisitors(h.get("id"),T).then(me=>w(I(i,h,T,me))),pe.uniqueVisitors(h.get("id"),G).then(me=>w(I(u,h,G,me)))]).then(()=>w(B(i,h))).then(()=>w(B(u,h))))}function oe(h,z){return h.analytics.get(`${z.get("id")}-${i}`)&&h.analytics.get(`${z.get("id")}-${i}`).toJS()}function U(h,z){return h.analytics.get(`${z.get("id")}-${u}`)&&h.analytics.get(`${z.get("id")}-${u}`).toJS()}function V(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T}=ee(z,le,Ue);return _e((G,w,ge)=>(G(q(l,h)),ge.topLocations(h.get("id"),T).then(pe=>G(I(l,h,T,pe))).then(()=>G(B(l,h)))))}function fe(h,z){return h.analytics.get(`${z.get("id")}-${l}`)&&h.analytics.get(`${z.get("id")}-${l}`).toJS()}function re(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T}=ee(z,le,Ue);return _e((G,w,ge)=>(G(q(n,h)),ge.topSources(h.get("id"),T).then(pe=>G(I(n,h,T,pe))).then(()=>G(B(n,h)))))}function Re(h,z){return h.analytics.get(`${z.get("id")}-${n}`)&&h.analytics.get(`${z.get("id")}-${n}`).toJS()}function Y(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T}=ee(z,le,Ue);return _e((G,w,ge)=>(G(q(t,h)),ge.topPages(h.get("id"),T).then(pe=>G(I(t,h,T,pe))).then(()=>G(B(t,h)))))}function b(h,z){return h.analytics.get(`${z.get("id")}-${t}`)&&h.analytics.get(`${z.get("id")}-${t}`).toJS()}function j(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T,periodByRange:G}=ee(z,le,Ue);return g=le,_e((w,ge,pe)=>Promise.all([w(q(a,h)),w(q(s,h)),pe.bandwidthUsed(h.get("id"),T).then(me=>w(I(s,h,T,me))),pe.bandwidthUsed(h.get("id"),G).then(me=>w(I(a,h,G,me)))]).then(()=>w(B(s,h))).then(()=>w(B(a,h))))}function ne(h,z){return h.analytics.get(`${z.get("id")}-${s}`)&&h.analytics.get(`${z.get("id")}-${s}`).toJS()}function Se(h,z){return h.analytics.get(`${z.get("id")}-${a}`)&&h.analytics.get(`${z.get("id")}-${a}`).toJS()}function Pe(h,{resolution:z,days:le,minusOffsetDays:Ue=0}=r){const{period:T}=ee(z,le,Ue);return _e((G,w,ge)=>(G(q(_,h)),ge.notFound(h.get("id"),T).then(pe=>G(I(_,h,T,pe))).then(()=>G(B(_,h)))))}function Le(h,z){return h.analytics.get(`${z.get("id")}-${_}`)&&h.analytics.get(`${z.get("id")}-${_}`).toJS()}function ve(h,z=null){return h.reduce((le,Ue)=>{const T=z?Ue[z]:Ue[1];return le+T},0)}function te(){return g}function ce(h,z){var le;const{data:Ue,status:T,timePeriod:G,isFetching:w}=v(h,z)||{},{data:ge,status:pe,timePeriod:me,isFetching:Ke}=U(h,z)||{},{data:Ce,status:K,timePeriod:Q,isFetching:ae}=Se(h,z)||{};return{timePeriod:G||me||Q,pageviewSummary:{total:Ue&&ve(Ue),status:T,isFetching:w},uniqueVisitorSummary:{total:((le=ge==null?void 0:ge[0])==null?void 0:le[1])||0,status:pe,isFetching:Ke},bandwidthSummary:{total:Ce&&ve(Ce,"siteBandwidth"),status:K,isFetching:ae}}}const Ae=(h=(0,c.Map)(),z)=>{switch(z.type){case E:return h.setIn([`${z.payload.siteId}-${z.payload.metric}`,"isFetching"],!0);case p:return h.set(`${z.payload.siteId}-${z.payload.metric}`,(0,c.fromJS)({data:z.payload.data,timePeriod:{from:z.payload.period.from,to:z.payload.period.to,minusOffsetDays:z.payload.period.minusOffsetDays},status:"current"}));case S:return h.setIn([`${z.payload.siteId}-${z.payload.metric}`,"isFetching"],!1);default:return h}}},941:(Me,$,e)=>{e.d($,{Hx:()=>c.Z,ac:()=>D,oA:()=>S,p5:()=>P,vd:()=>p});var c=e(63851),F=e(13332),f=e(60653),m=e(65628);let M=null;function D(E){const{config:o,user:d}=E;return o&&d&&M&&M.token===d.get("access_token")?M:d?M=new F.Z(o.set("accessToken",d.get("access_token"))):new F.Z(o)}const P=function(){return E=>(o,d)=>{const i=D(d());if(!i)return Promise.reject(new c.Z("No API"));const u=E(o,d,i);return u&&u.catch&&u.catch(l=>((l==null?void 0:l.code)===401&&o((0,f.wq)(l)),l instanceof c.Z?Promise.reject(l):Promise.reject(new c.Z(l))))}}();function p(E){return P((o,d,i)=>(0,m.$_)((u,l,n)=>E(o,d,i,n))(o,d))}function S(E){const o=E instanceof c.Z?E:new c.Z(E);return o==null?void 0:o.toString().replace(/^Error:\s?/,"")}},6790:(Me,$,e)=>{e.d($,{H6:()=>D,KL:()=>d,KM:()=>n,UG:()=>M,W3:()=>p,Xo:()=>t,Yn:()=>E,bU:()=>l,iT:()=>o,li:()=>S,pO:()=>P,rP:()=>m,zJ:()=>i});var c=e(18432),F=e(941);const f=(0,c.P)("applications"),m=(0,c.x)("applications",f,{key:"client_id"});function M(s){return(0,F.p5)((a,_,r)=>r.application(s).then(g=>a(f.applicationSuccess(g.data))))}function D(){return(0,F.p5)((s,a,_)=>_.applications().then(r=>s(f.applicationsSuccess("oauth",r.data,r.pagination))))}function P(s){return(0,F.p5)((a,_,r)=>r.authorizedApplications(s).then(g=>a(f.applicationsSuccess("authorized",g.data,g.pagination))))}function p(s){return(0,F.p5)((a,_,r)=>r.createApplication(s).then(g=>a(D())))}function S(s,a){return(0,F.p5)((_,r,g)=>g.updateApplication(s,a).then(I=>_(f.applicationSuccess(I.data))))}function E(s){return(0,F.p5)((a,_,r)=>r.removeApplication(s).then(g=>a(D())))}function o(s,a){return(0,F.p5)((_,r,g)=>g.revokeAuthorizedApplication(s,a).then(I=>_(P(a))))}function d(s,a,_){return(0,F.p5)((r,g,I)=>I.createPersonalToken(s,a,_))}function i(s,a){return s.applications.getIn(["entities",a])}function u(s){const a=s.applications.getIn(["pages","oauth","ids"]);return a&&a.map(_=>i(s,_))}function l(s){const a=s.applications.getIn(["pages","authorized","ids"]);return a&&a.map(_=>i(s,_))}function n(s){const a=u(s);return a&&a.filter(_=>!_.get("personal"))}function t(s){const a=u(s);return a&&a.filter(_=>_.get("personal"))}},52194:(Me,$,e)=>{e.d($,{LW:()=>m,Sy:()=>D,rw:()=>P,sQ:()=>M,yb:()=>p});var c=e(18432),F=e(941);const f=(0,c.P)("authProviders"),m=(0,c.x)("authProviders",f);function M(S){return(0,F.p5)((E,o,d)=>d.authProviders(S.get("id")).then(i=>E(f.authProvidersSuccess(S.get("id"),i.data,i.pagination)),i=>E(f.authProvidersFailure(S.get("id"),i))))}function D(S,E){return(0,F.p5)((o,d,i)=>{const{type:u,apiID:l,apiSecret:n}=E.toJS();return i.createAuthProvider(S.get("id"),u,l,n).then(t=>o(M(S)))})}function P(S,E){return(0,F.p5)((o,d,i)=>i.removeAuthProvider(S.get("id"),E.get("name")).then(u=>o(M(S))))}function p(S,E){const o=S.authProviders.getIn(["pages",E,"ids"]);return o&&o.map(d=>S.authProviders.getIn(["entities",d]))}},60653:(Me,$,e)=>{e.d($,{$D:()=>W,A9:()=>ce,B9:()=>h,Bh:()=>Ke,DL:()=>G,EA:()=>Ce,HF:()=>de,KE:()=>H,Kk:()=>ne,Nq:()=>Le,Ov:()=>Y,Qk:()=>_e,Sz:()=>le,TX:()=>b,VB:()=>te,Wb:()=>k,Wk:()=>ae,YR:()=>w,Yn:()=>T,_b:()=>Pe,c0:()=>Se,ek:()=>K,fq:()=>z,hP:()=>v,k3:()=>ve,ou:()=>fe,pH:()=>re,t:()=>ge,wq:()=>j,xh:()=>Re,zj:()=>Ae});var c=e(90046),F=e.n(c),f=e(19271),m=e(18643),M=e(7442),D=e(16015),P=e(28739),p=e(63851),S=e(82214),E=e(83303),o=e(84525),d=e(14154),i=e(68854),u=e(54856),l=e(40917),n=e(91800),t=e(941),s=e(65628),a=e(87430),_=e(93716);const r="nf-session",g="AUTH_ERROR",I="USER_REQUEST",B="USER_ERROR",q="RESET_PASSWORD_SUCCESS",N="LOGIN_USER",L="UPDATE_USER",k="LOGOUT_USER",_e="USER_SIGNUP",x="USER_SUCCESS",ee="USER_SUCCESS_SHALLOW",J=(0,m.Z)(q),ie=(0,m.Z)(_e,C=>({user:C}));function v(){try{const C=localStorage.getItem(r);return C&&JSON.parse(C).access_token}catch(C){return console.error("Error parsing data from local storage",C),null}}function W({reload:C=!1}={}){return(Z,De)=>{const ye=De(),O=de(ye);if(O&&!C)return Promise.resolve(O);const R=v();return R&&(0,S.W8)()?oe(ye.config,R).then(se=>(se.id!==(O==null?void 0:O.get("id"))?Z({type:N,payload:se}):Z({type:L,payload:se}),de(De()))):Promise.resolve(null)}}function oe(C,Z){const De={access_token:Z};return(0,t.ac)({config:C,user:(0,c.Map)(De)}).user().then(ye=>({...ye.data,...De}))}function U(C,Z){return(0,t.ac)({config:C}).verifyUserByToken(Z).then(ye=>{if(ye.data.state==="error")throw new p.Z(ye.data);return ye.data.data.user})}function V(C,Z,De){const{config:ye}=C();return De?U(ye,Z):oe(ye,Z)}function fe({token:C,isSignup:Z,isReviewer:De,isVerify:ye,redirect:O}){return(R,se)=>V(se,C,ye).then(async Ie=>{R({type:k});const he=(Ie==null?void 0:Ie.access_token)&&Ie.access_token!=="use-http-auth-token";if((Z||!(0,S.W8)())&&he)try{await(0,l.sV)({access_token:Ie.access_token})}catch{}R(re(Ie,Z));const Oe=(0,i.le)("persistedQueryParams")||"";(0,i.e8)("persistedQueryParams");const We=(0,E.VP)(Oe,Xe=>S.Fh.includes(Xe));Z&&!De&&We.append("new_user",Z);const Ve=We.toString()&&`?${We.toString()}`,qe=`${O||""}${Ve}`;R(me(`${qe}`))}).catch(Ie=>Promise.reject(new p.Z("Invalid authorization code")))}function re(C,Z,De,ye){return(O,R)=>{if(C=Object.assign({},C),Z||C.isSignup?O(ie(C)):De||M.iND.appUserLogin({category:"user",label:"User Login"}),delete C.isSignup,De||C.isUpdate){delete C.isUpdate;const We=(0,i.le)(r);C=(0,c.fromJS)(JSON.parse(We)).mergeDeep((0,c.fromJS)(C)).toJS()}const se={access_token:"use-http-auth-token"};(0,i.D$)(r,JSON.stringify(se));const{originAllowedToAuth:Ie,openerOrigin:he}=H();try{!De&&Ie&&(0,l.$f)().then(We=>{se.access_control_token=We}).finally(()=>{window.opener.postMessage({type:"LOGIN",payload:JSON.stringify(se)},he)})}catch(We){console.log("auth \uFE65 loginUser",We)}const Oe={type:ye||N,payload:{loggedInAt:Date.now(),isSignup:Z,isUpdate:De,...C}};O(Oe)}}function Re(C,Z){return(0,t.p5)((De,ye,O)=>O.fetchEdgeAccessToken(C,Z))}function Y(C){return(Z,De)=>{(0,l.vH)(),(0,d.K$)(),(0,i.ZL)({exclude:[P.N9,S.d$,S.cp,D.Nk]}),Z({type:k}),Z(me(C))}}function b(C){return(0,t.p5)((Z,De,ye)=>{const O=de(De());return(0,o.jK)(O==null?void 0:O.get("email"))||ye.destroyAccessToken(),u.Z.shutdown(),Z(Y(C))})}function j(C){return{type:g,payload:C}}function ne(C){return(0,t.p5)((Z,De,ye)=>ye.resetPasswordEmail(C))}function Se(C,Z,De){return(0,t.p5)((ye,O,R)=>R.resetPassword(C,Z,De).then(()=>{ye(Y("/")),ye(J({success:!0}))}))}function Pe(C){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUserQuestionnaireTelemetry(C).then(()=>Z(W({reload:!0}))).then(()=>de(De()))))}function Le(C){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUser(C).then(async({data:O})=>{const{password:R,full_name:se,avatar:Ie}=C;Ie&&await ye.updateUserAvatar(Ie).then(()=>{Z(W({reload:!0})),Z((0,n.vP)())}).catch(he=>new p.Z(he)),Z(R?Y(window.location.pathname):re(O,!1,!0,x)),!R&&se&&Z((0,n.vP)())}).then(()=>de(De()))))}function ve(C){return(0,t.p5)((Z,De,ye)=>(Z({type:I}),ye.updateUser(C).then(async({data:O})=>{Z({type:ee,payload:O})})))}function te(){return(0,t.p5)((C,Z,De)=>De.deleteUserAvatar().then(()=>{C(W({reload:!0})),C((0,n.vP)())}).catch(ye=>new p.Z(ye)))}function ce(C,Z){return(0,t.p5)((De,ye,O)=>O.verifyUser(C,Z).then(()=>De(W({reload:!0}))).catch(R=>new p.Z(R)))}function Ae(C,Z){return(0,t.p5)((De,ye,O)=>O.verifySamlUserByToken(C,Z).then(R=>De((0,a.e7)(R.data.data.user,R.data.data.saml_slug))).catch(R=>new p.Z(R)))}function h(){return M.iND.appUserDelete(),(0,t.p5)((C,Z,De)=>De.disableUser())}function z(C="slides",Z="closed"){return(De,ye)=>{const R=de(ye()).get("onboarding_progress")||(0,c.Map)();return De(Le({onboarding_progress:R.set(C,Z)}))}}function le(C){return(Z,De)=>{var ye;const O=de(De());let R={};return typeof O.getIn(["onboarding_progress","guided_onboarding"])!="string"&&(R=(ye=O.getIn(["onboarding_progress","guided_onboarding"],(0,c.Map)()))==null?void 0:ye.toJS()),Z(z("guided_onboarding",{...R,...C}))}}function Ue(C){return new l.ZP(C.config.toJS())}function T({provider:C}){return(0,t.p5)((Z,De,ye)=>((0,l.xw)({url:"/authorizing.html",provider:C}),ye.authLink({provider:C}).then(O=>new Promise((R,se)=>Ue(De()).open({url:O.data.redirect_uri,provider:C},(Ie,he)=>Ie?se(Ie):R(he)))).then(O=>Z(W({reload:!0}))).catch(O=>((0,l.on)(),Promise.reject(O)))))}function G({provider:C}){return(0,t.p5)((Z,De,ye)=>ye.authUnlink({provider:C}).then(O=>Z(W({reload:!0}))))}function w(C){return(0,t.p5)((Z,De,ye)=>{const O=De(),R=de(O),se={provider:"github",redirect:!0,login:!R||C.signup||C.forceAuth,...C};return se.amnesia?ye.resetPasswordEmail(se.email).then(()=>({verify:!0})):new Promise((Ie,he)=>Ue(O).authenticate(se,async(Oe,We)=>{var Ve;if(Oe)return he(Oe);if(We.verify)return Ie(We);if(We.redirect_uri)return Z(me(We.redirect_uri)),Ie(We);se.login&&We.user&&(Z({type:k}),(Ve=We==null?void 0:We.user)!=null&&Ve.access_token&&We.user.access_token!=="use-http-auth-token"&&(await(0,l.sV)({access_token:We.user.access_token}),We.user.access_token="use-http-auth-token"),Z(re(We.user,We.new_user)),Z(me(se.next))),Z((0,s.fc)(se.provider,We)),M.iND.appSignupGitProviderCreated({userId:R==null?void 0:R.get("id"),gitProvider:se.provider}),Ie(We)}))})}function ge(C){Ke(C)&&(0,i.D9)("next",C)}function pe(C){const Z=typeof C=="string"&&C||sessionStorage.getItem("next")||"/";return Ke(Z)?Z:"/"}function me(C){return C=pe(C),Z=>{Z((0,_.Ee)(C))}}function Ke(C){return C&&(C.startsWith("/sso")||C.startsWith("/auth")||C==="/login/email")?(console.log("next redirect is for an auth path. Ignoring to avoid loops",C),!1):!0}function Ce(C=null,Z){switch(Z.type){case g:return C?C.set("authError","forbidden"):F().fromJS({authError:"missing"});case f.nk:return C&&C.delete("authError");case N:return F().fromJS(Z.payload);case L:return F().fromJS(Z.payload);case k:return null;case I:return C.set("isFetching",!0);case x:return C.mergeDeep(Z.payload,{isFetching:!1,authError:null});case ee:return C.merge(Z.payload,{isFetching:!1,authError:null});case B:return C.merge({isFetching:!1,error:Z.payload});default:return C}}function K(C=(0,c.fromJS)({}),Z){switch(Z.type){case q:return C.merge((0,c.fromJS)({resetSuccess:Z.payload.success}));default:return C}}function Q(C){const{user:Z}=C;return(Z==null?void 0:Z.get("password_errors"))||null}function ae(C){const{userPassword:Z}=C;return(Z==null?void 0:Z.get("resetSuccess"))||!1}function de(C){const{user:Z}=C;return Z&&Z.get("id")?Z:null}function H(){var C;let Z="",De=!1;if(window.opener===null)return{originAllowedToAuth:!!De,openerOrigin:Z};const O=new URLSearchParams(window.location.search).get("opener-origin")||(0,i.jE)("opener-origin");try{Z=(C=window.opener)==null?void 0:C.origin}catch(se){console.error(se)}return!Z&&O&&((0,i.w4)("opener-origin",O,1e3*60*30),Z=decodeURIComponent(O)),Z&&(Z=new URL(Z).origin),De=[window.origin,"https://www.netlify.com","https://docs.netlify.com"].includes(Z),De||(/--docs.netlify.app$/.test(Z)||/--www.netlify.app$/.test(Z))&&(De=!0),{originAllowedToAuth:!!De,openerOrigin:Z}}},64614:(Me,$,e)=>{e.d($,{Ks:()=>_,Uc:()=>q,gg:()=>oe,nY:()=>ee,oF:()=>J,ot:()=>a,xm:()=>x,y_:()=>k});var c=e(90046),F=e.n(c),f=e(18643),m=e(76371),M=e(91800),D=e(941);const P="BILLING_SUCCESS",p="PAYMENT_PROVIDER_TOKEN",S="PAYMENT_PROVIDER_TOKEN_SECURE_DECISION",E="BILLING_SUMMARY_SUCCESS",o="ACCOUNT_SUBSCRIPTIONS_SUCCESS",d="ACCOUNT_INVOICES_SUCCESS",i=(0,f.Z)(P,U=>U),u=(0,f.Z)(p,U=>U),l=(0,f.Z)(S,U=>U),n=(0,f.Z)(E,U=>U),t=(0,f.Z)(o,(U,V)=>({id:U.get("id"),subscriptions:V})),s=(0,f.Z)(d,(U,V)=>({id:U.get("id"),invoices:V}));function a(U){return V=>{V(l(U))}}function _(U){return(V,fe)=>{V((0,M.i6)(U)),V(r(U)),V(g(U)),V(I(U))}}function r(U){return(0,D.p5)((V,fe,re)=>re.accountBillingSummary(U.get("slug")).then(Re=>V(n(Re.data))))}function g(U){return(0,D.p5)((V,fe,re)=>re.accountSubscriptions(U.get("slug")).then(Re=>V(t(U,Re.data))))}function I(U){return(0,D.p5)((V,fe,re)=>re.accountInvoices(U.get("slug"),{pending:!0}).then(Re=>V(s(U,Re.data))))}function B(U){return withApi((V,fe,re)=>re.updateBilling(U).then(Re=>V(i(Re.data))))}function q(U,V){return(0,D.p5)((fe,re,Re)=>{const Y=x(re()),b=J(re(),U,V,Y);return fe(u(null)),Re.paymentProviderToken(b).then(j=>(j.data.sandbox=!!b.sandbox,j.data.enterpriseException=!!b.enterpriseException,j.data.secure=!!b.secure,fe(u(j.data)),j.data))})}function N(U,V){return U.base.toString().localeCompare((!!V.base).toString())*-1||(U.site_domain||U.site_name||"").localeCompare(V.site_domain||V.site_name||"")||(U.site_id||"").localeCompare(V.site_id||"")||(U.title||"").localeCompare(V.title||"")}function L(U){return U.base||U.amount?!0:!(U.product_name.toLowerCase()==="bandwidth"||/usage/i.test(U.title)||U.quantity===0&&U.charges.every(V=>V.quantity===0))}function k(U=(0,c.Map)(),V){switch(V.type){case E:return U.set(V.payload.id,(0,c.fromJS)(V.payload));case o:return U.set(`${V.payload.id}-subscriptions`,(0,c.fromJS)(V.payload.subscriptions.filter(L).sort(N)));case d:return U.set(`${V.payload.id}-invoices`,(0,c.fromJS)(V.payload.invoices));case p:return U.set("paymentProviderToken",V.payload);case S:return U.set("paymentProviderTokenSecure",V.payload);default:return U}}function _e(U){return U.billing&&U.billing.get("paymentProviderToken")}function x(U){return U.billing&&U.billing.get("paymentProviderTokenSecure")}function ee(U){return U?(U.get("payments_gateway_name")||"").startsWith("zuora")?"zuora":"braintree":"zuora"}function J(U,V,fe,re){const Re=ee(V),Y=(0,m.qC)(V);return{provider:Re,sandbox:fe,secure:re,accountId:V&&V.get("id"),enterpriseException:Y}}function ie(U,V){return U.billing.get(V.get("id"))}function v(U,V){return U.billing.get(`${V.get("id")}-subscriptions`)}function W(U,V){return U.billing.get(`${V.get("id")}-invoices`)}function oe(U,V){const fe=ie(U,V);return fe&&fe.merge({subscriptions:v(U,V),invoices:W(U,V)})}},64334:(Me,$,e)=>{e.d($,{$T:()=>P,Bt:()=>m,HN:()=>D,Kr:()=>p,xF:()=>M});var c=e(18432),F=e(941);const f=(0,c.P)("buildHooks"),m=(0,c.x)("buildHooks",f);function M(E){return(0,F.p5)((o,d,i)=>i.buildHooks(E.get("id")).then(u=>o(f.buildHooksSuccess(E.get("id"),u.data,u.pagination))))}function D(E,o){return(0,F.p5)((d,i,u)=>u.addBuildHook(E.get("id"),{title:o.get("title"),branch:o.get("branch")}).then(l=>d(M(E))))}function P(E,o){return(0,F.p5)((d,i,u)=>u.removeBuildHook(E.get("id"),o.get("id")).then(l=>d(M(E))))}function p(E,o){const d=o&&E.buildHooks.getIn(["pages",o.get("id"),"ids"]);return d&&d.map(i=>S(E,i))}function S(E,o){return E.buildHooks.getIn(["entities",o])}},71333:(Me,$,e)=>{e.d($,{$1:()=>N,DF:()=>fe,Hg:()=>v,MZ:()=>Re,UL:()=>ie,ej:()=>k,fO:()=>W,pO:()=>V,qJ:()=>_e,t9:()=>ee,tb:()=>J,wr:()=>re,x6:()=>x});var c=e(90046),F=e.n(c),f=e(18643),m=e(18432),M=e(98515),D=e(941);const P="BUILD_STATUS_SUCCESS",p="BUILD_STATUS_PER_SITE_SUCCESS",S="BUILDS_PER_DAY_SUCCESS",E="BUILD_QUEUE_BUMP_REQUEST",o="BUILD_QUEUE_BUMP_SUCCESS",d="BUILD_QUEUE_BUMP_FAILURE",i="WS_BUILD_CREATED",u="WS_BUILD_MODIFIED",l="WS_BUILD_DELETED",n=(0,f.Z)(P,(Y,b)=>({id:Y.get("id"),data:b})),t=(0,f.Z)(p,(Y,b)=>({id:Y.get("id"),data:b})),s=(0,f.Z)(S,(Y,b)=>({id:Y.get("id"),data:b})),a=(0,f.Z)(E,Y=>({buildId:Y})),_=(0,f.Z)(o,Y=>({buildId:Y})),r=(0,f.Z)(d,(Y,b)=>({buildId:Y,error:b})),g=(0,f.Z)(i,Y=>Y),I=(0,f.Z)(u,Y=>Y),B=(0,f.Z)(l,Y=>Y),q=(0,m.P)("builds"),N=(0,m.x)("builds",q,{handler:(Y,b)=>{const{type:j,payload:ne}=b;switch(j){case P:return Y.set(ne.id,(0,c.fromJS)(ne.data));case p:return Y.set(`${ne.id}-per-site`,(0,c.fromJS)(ne.data));case S:return Y.set(`${ne.id}-per-day`,(0,c.fromJS)(ne.data));case E:{const{buildId:Se}=ne;return Y.withMutations(Pe=>{Pe.setIn(["entities",Se,"isPushing"],!0).setIn(["entities",Se,"errorOnQueueBump"],null)})}case o:{const{buildId:Se}=ne;return Y.setIn(["entities",Se,"isPushing"],!1)}case d:{const{buildId:Se,error:Pe}=ne;return Y.withMutations(Le=>{Le.setIn(["entities",Se,"errorOnQueueBump"],(0,c.fromJS)(Pe)).setIn(["entities",Se,"isPushing"],!1)})}case i:return(0,M.qK)(Y,ne);case u:return(0,M.Rt)(Y,ne);case l:return(0,M.GM)(Y,ne);default:return null}}});function L(Y){return Y.get("id")}function k(Y,b={},j=!1){const ne=L(Y);return(0,D.p5)((Se,Pe,Le)=>(j&&Se(q.buildsRequest(ne)),Le.accountBuilds(Y.get("slug"),b).then(ve=>Se(q.buildsSuccess(ne,ve.data,ve.pagination)))))}function _e(Y){return(0,D.p5)((b,j,ne)=>ne.accountBuildStatus(Y.get("slug")).then(Se=>b(n(Y,Se.data))))}function x(Y,b){return(0,D.p5)((j,ne,Se)=>(j(a(b)),Se.accountBuildQueueBump(Y.get("slug"),b).then(()=>j(_(b))).catch(Pe=>{throw j(r(b,Pe)),Pe})))}function ee(Y,b){return Y.builds.get(b.get("id"))}function J(Y){return(0,D.p5)((b,j,ne)=>ne.accountBuildStatusPerSite(Y.get("slug")).then(Se=>b(t(Y,Se.data))))}function ie(Y,b){return Y.builds.get(`${b.get("id")}-per-site`)}function v(Y){return(0,D.p5)((b,j,ne)=>ne.accountBuildsPerDay(Y.get("slug")).then(Se=>{b(s(Y,Se.data))}))}function W(Y,b){return Y.builds.get(`${b.get("id")}-per-day`)}function oe(Y,b){const j=Y.builds.getIn(["entities",b]);return j&&j.set("build_id",j.get("id"))}function U(Y,b){const j=fe(Y,b);return j&&j.get("isFetching")}function V(Y,b){if(U(Y,b))return null;const j=Y.builds.getIn(["pages",L(b),"ids"]);return j&&j.map(ne=>oe(Y,ne))}function fe(Y,b){return Y.builds.getIn(["pages",L(b)])}const re=(Y,b)=>j=>{const{page:ne,account_id:Se}=b;if(ne===1){const Pe=L((0,c.fromJS)({id:Se}));j(g(Y.set("listKey",Pe)))}},Re=(Y,b)=>j=>{const ne=L((0,c.fromJS)({id:b.account_id}));Y.get("state")==="deleted"?j(B(Y.set("listKey",ne))):j(I(Y.set("listKey",ne)))}},64455:(Me,$,e)=>{e.d($,{AB:()=>E,Bm:()=>S,Dj:()=>p,X1:()=>o,rE:()=>d});var c=e(90046),F=e.n(c),f=e(18643),m=e(941),M=e(34571);const D="CERTIFICATE_SUCCESS",P=(0,f.Z)(D,(i,u)=>({siteId:i,certificate:u}));function p(i){return(0,m.p5)((u,l,n)=>{const t=i.get("id");return n.certificate(t).then(s=>u(P(t,s.data)))})}function S(i,u,l){return(0,m.p5)((n,t,s)=>{const a=i.get("id");return u.force_ssl?n((0,M.L3)(i,u)):s.updateSsl(a,u,l).then(({data:_})=>(_&&n(P(a,_)),(!_||l)&&setTimeout(r=>n(p(i)),1*30*1e3),n((0,M.EQ)(i.get("name")))))})}function E(i){const u=i.get("id");return(0,m.p5)((l,n,t)=>t.verifySsl(u).then(s=>(0,c.fromJS)(s.data)))}function o(i=(0,c.Map)(),u){switch(u.type){case D:return i.set(u.payload.siteId,(0,c.fromJS)(u.payload.certificate));default:return i}}function d(i,u){return u.get("ssl")&&i.certificates.get(u.get("id"))}},99647:(Me,$,e)=>{e.d($,{Ji:()=>p,TZ:()=>S,rF:()=>m,vc:()=>M,vv:()=>P});var c=e(90046),F=e.n(c);const f="UPDATE_CONFIG";function m(E){return{type:f,payload:E}}function M(E=F().Map(),o){switch(o.type){case f:return E.merge(o.payload);default:return E}}function D(E){return E.config.get("apiBase")}function P(E){const o=D(E);return o&&o.replace(/\/api\/v\d\/?$/,"")}function p(E){return E.config.get("siteId")}function S(E){return E.config.get("githubAppId")}},11543:(Me,$,e)=>{e.d($,{C0:()=>E,qh:()=>P,t6:()=>S});var c=e(90046),F=e.n(c),f=e(18643),m=e(941);const M="DEPLOY_ACTIVITY_SUCCESS",D=(0,f.Z)(M,o=>o);function P(o,d){var i;return(i=o.deployActivity.getIn(["data"]))==null?void 0:i.toJS()}function p([o,d]){const u=o.data.filter(n=>n.type==="comment").map(n=>n.service_comment_id),l=d.data.comments.filter(({body:n,id:t})=>!!n&&!u.includes(String(t)));return o.data.concat(l.map(n=>({type:"comment",comment:n})))}function S(o){return(0,m.p5)((d,i,u)=>Promise.all([u.deployActivity(o),u.fetchPullRequest(o)]).then(n=>{const t=p(n);return d(D(t))}).catch(n=>new m.Hx(n)))}const E=(o=(0,c.Map)(),d)=>{switch(d.type){case M:return o.set("data",(0,c.fromJS)(d.payload));default:return o}}},88572:(Me,$,e)=>{e.d($,{A:()=>m,bO:()=>M,f$:()=>P});var c=e(18432),F=e(941);const f=(0,c.P)("deployCommitters"),m=(0,c.x)("deployCommitters",f,{key:"deployId"});function M(p,S){var E;return(E=p.deployCommitters.getIn(["entities",S,"data",0]))==null?void 0:E.toJS()}function D(p){return withApi((S,E,o)=>o.deployCommitters(p).then(d=>S(f.deployCommittersSuccess("deployCommitters",[{deployId:p,data:d.data}]))))}function P(p,S){return(0,F.p5)((E,o,d)=>d.inviteCommitter(p,S).then(i=>{E(f.inviteCommittersSuccess(i.data))}).catch(i=>new F.Hx(i)))}},37771:(Me,$,e)=>{e.d($,{Mi:()=>l,RR:()=>u,ox:()=>i,qN:()=>E,rK:()=>o});var c=e(90046),F=e.n(c),f=e(18643),m=e(941),M=(n=>(n.DEPLOY_PLUGIN_RUNS_REQUEST="DEPLOY_PLUGIN_RUNS_REQUEST",n.DEPLOY_PLUGIN_RUNS_SUCCESS="DEPLOY_PLUGIN_RUNS_SUCCESS",n.DEPLOY_PLUGIN_RUNS_FAILURE="DEPLOY_PLUGIN_RUNS_FAILURE",n))(M||{});const D=(0,f.Z)("DEPLOY_PLUGIN_RUNS_REQUEST",n=>n),P=(0,f.Z)("DEPLOY_PLUGIN_RUNS_SUCCESS",(n,t)=>({deployId:n,deployPluginRuns:t})),p=(0,f.Z)("DEPLOY_PLUGIN_RUNS_FAILURE",(n,t)=>({deployId:n,error:t})),S=n=>n.reduce((t,s)=>(t.get(s.state)?t.set(s.state,t.get(s.state).push(s.package)):t.set(s.state,(0,c.List)([s.package]))).set("all",t.get("all").push(s.package)),(0,c.Map)({all:(0,c.List)()}));function E(n=(0,c.Map)(),t){switch(t.type){case"DEPLOY_PLUGIN_RUNS_REQUEST":return n.setIn([t.payload,"isFetching"],!0);case"DEPLOY_PLUGIN_RUNS_SUCCESS":{const{deployId:s,deployPluginRuns:a}=t.payload;return n.withMutations(_=>{a.forEach(r=>{_.setIn([s,"data",r.package],(0,c.fromJS)(r))}),_.setIn([s,"listByState"],S(a)).setIn([s,"isFetching"],!1)})}case"DEPLOY_PLUGIN_RUNS_FAILURE":{const{deployId:s,error:a}=t.payload;return n.setIn([s,"error"],(0,c.fromJS)(a)).setIn([s,"isFetching"],!1)}default:return n}}function o(n){return(0,m.p5)((t,s,a)=>(t(D(n)),a.deployPluginRuns(n).then(_=>t(P(n,_.data))).catch(_=>t(p(n,_)))))}function d(n,t){var s,a;return t&&(a=(s=n.deployPluginRuns.get(t))==null?void 0:s.get("isFetching"))!=null?a:!1}function i(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("error"):void 0}function u(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("data"):void 0}function l(n,t){var s;return t?(s=n.deployPluginRuns.get(t))==null?void 0:s.get("listByState"):void 0}},68154:(Me,$,e)=>{e.d($,{$z:()=>S,CJ:()=>E,Ed:()=>o,LS:()=>d,SK:()=>i});var c=e(90046),F=e.n(c),f=e(18643),m=e(941),M=(u=>(u.DEPLOY_SUMMARY_REQUEST="DEPLOY_SUMMARY_REQUEST",u.DEPLOY_SUMMARY_SUCCESS="DEPLOY_SUMMARY_SUCCESS",u.DEPLOY_SUMMARY_FAILURE="DEPLOY_SUMMARY_FAILURE",u))(M||{});const D=(0,f.Z)("DEPLOY_SUMMARY_REQUEST",u=>u),P=(0,f.Z)("DEPLOY_SUMMARY_SUCCESS",(u,l)=>({deployId:u,deploySummary:l})),p=(0,f.Z)("DEPLOY_SUMMARY_FAILURE",(u,l)=>({deployId:u,error:l}));function S(u=(0,c.Map)(),l){switch(l.type){case"DEPLOY_SUMMARY_REQUEST":return u.setIn([l.payload,"isFetching"],!0);case"DEPLOY_SUMMARY_SUCCESS":{const{deployId:n,deploySummary:t}=l.payload;return u.setIn([n,"data"],(0,c.fromJS)(t)).setIn([n,"isFetching"],!1)}case"DEPLOY_SUMMARY_FAILURE":{const{deployId:n,error:t}=l.payload;return u.setIn([n,"error"],(0,c.fromJS)(t)).setIn([n,"isFetching"],!1)}default:return u}}function E(u){return(0,m.p5)((l,n,t)=>(l(D(u)),t.deploySummary(u).then(s=>l(P(u,s.data))).catch(s=>l(p(u,s)))))}function o(u,l){var n,t;return(t=(n=u.deploySummary.get(l))==null?void 0:n.get("isFetching"))!=null?t:!1}function d(u,l){var n;return(n=u.deploySummary.get(l))==null?void 0:n.get("error")}function i(u,l){var n;return(n=u.deploySummary.get(l))==null?void 0:n.get("data")}},84673:(Me,$,e)=>{e.d($,{Bn:()=>W,E:()=>q,FN:()=>oe,JN:()=>L,Kr:()=>x,LT:()=>v,N2:()=>N,Nw:()=>r,Oh:()=>Y,Q7:()=>_e,dk:()=>Pe,e5:()=>g,hh:()=>j,il:()=>ee,kR:()=>fe,lZ:()=>k,li:()=>U,ly:()=>b,mh:()=>Se,pU:()=>re,rQ:()=>ve,tQ:()=>Re,tk:()=>Le,vQ:()=>V});var c=e(90046),F=e.n(c),f=e(34740),m=e(19271),M=e(18643),D=e(18432),P=e(98515),p=e(941),S=e(34571);const E="SET_BUILD_TIME",o="DELETE_DEPLOY_SUCCESS",d="WS_DEPLOY_CREATED",i="WS_DEPLOY_MODIFIED",u="WS_DEPLOY_DELETED";function l(te){return new Date(te).setMilliseconds(0)}const n=(0,M.Z)(E,(te,ce,Ae)=>({id:te.get("id"),start:l(ce),end:l(Ae)})),t=(0,M.Z)(o,te=>({deployId:te})),s=(0,M.Z)(d,te=>te),a=(0,M.Z)(i,te=>te),_=(0,M.Z)(u,te=>te),r=(0,D.P)("deploys"),g=(0,D.x)("deploys",r,{handler:(te,ce)=>{const{type:Ae,payload:h}=ce;switch(Ae){case E:return te.set(h.id,(0,c.fromJS)({build_time:{start:h.start,end:h.end,seconds:(h.end-h.start)/1e3}}));case o:const{deployId:z}=h;return te.withMutations(le=>{le.delete("pages"),le.deleteIn(["entities",z]),le.delete(z)});case d:return(0,P.qK)(te,h);case i:return(0,P.Rt)(te,h);case u:return(0,P.GM)(te,h);default:return null}}}),I={state:"pending_review"};function B(te,ce={}){return[te.get("id"),ce.filter||"",ce.state||"",ce.from||"",ce.to||"",ce.page||1].join("-")}function q(te,ce,Ae){return n(te,ce,Ae)}function N(te){return(0,p.p5)((ce,Ae,h)=>h.deploy(te).then(z=>(ce(r.deploySuccess(z.data)),j(Ae(),te))))}function L(te,ce={}){return(0,p.p5)((Ae,h,z)=>z.deploys(te.get("id"),ce).then(le=>Ae(r.deploysSuccess(B(te,ce),le.data,le.pagination))))}function k(te,ce={}){const Ae={...ce,perPage:100,minimal:!0},h=[];return(0,p.p5)((z,le,Ue)=>{const T=(G,w)=>Ue.deploys(G.get("id"),w).then(ge=>{var pe;return h.push(...ge.data),(pe=ge.pagination)!=null&&pe.next?(w.page=ge.pagination.next,T(G,w)):(delete w.page,z(r.deploysSuccess(B(G,w),h,[])))});return T(te,Ae)})}function _e(te){return L(te,I)}function x(te,ce={}){return(0,p.p5)((Ae,h,z)=>Promise.all([Ae(L(te,ce)),Ae(_e(te))]))}function ee(te,ce){const Ae=te.get("id");return(0,p.p5)((h,z,le)=>le.triggerDeploy(Ae,ce).then(Ue=>{h((0,m.VF)(`/sites/${te.get("name")}/deploys/${Ue.data.deploy_id}`))}))}function J(te,ce){const Ae=te.get("id");return withApi((h,z,le)=>le.triggerDeploy(Ae,ce))}function ie(te,ce,Ae){const h=ce.get("id"),z=te.get("name");return(0,p.p5)((le,Ue,T)=>Ae(T,h).then(G=>le(r.deploySuccess(G.data))).then(()=>le((0,S.EQ)(z))))}function v(te,ce){return ie(te,ce,(Ae,h)=>Ae.publishDeploy(h))}function W(te,ce){return ie(te,ce,(Ae,h)=>Ae.lockDeploy(h))}function oe(te,ce){return ie(te,ce,(Ae,h)=>Ae.unlockDeploy(h))}function U(te,ce){return ie(te,ce,(Ae,h)=>Ae.cancelDeploy(h))}function V(te,ce){const Ae=ce==null?void 0:ce.get("id");return(0,p.p5)((h,z,le)=>le.deleteDeploy(Ae).then(()=>h(t(Ae))))}function fe(te,ce,Ae){const h=ce.get("id"),z=te.get("name");return(0,p.p5)((le,Ue,T)=>T.retryDeploy(h,Ae).then(()=>f.mW.push(`/sites/${z}/deploys`)))}function re(te){return(0,p.p5)((ce,Ae,h)=>h.acceptDeploy(te).then(z=>ce(r.deploySuccess(z.data))))}function Re(te){return(0,p.p5)((ce,Ae,h)=>h.rejectDeploy(te).then(z=>ce(r.deploySuccess(z.data))))}function Y(te,ce,Ae){const{perPage:h}=Ae,z=te.deploys.getIn(["pages",B(ce,Ae),"ids"]),le=z&&z.map(Ue=>j(te,Ue));return le&&h?le.take(h):le}function b(te,ce,Ae){return te.deploys.getIn(["pages",B(ce,Ae)])}function j(te,ce){const Ae=te.deploys.getIn(["entities",ce]);return Ae&&Ae.merge(te.deploys.get(ce))}function ne(te,ce){return Y(te,ce,{filter:ce.getIn(["build_settings","repo_branch"])})}function Se(te,ce){return Y(te,ce,I)}function Pe(te,ce){return(ne(te,ce)||(0,c.List)()).first()}const Le=(te,ce)=>Ae=>{if((ce.page||1)===1){const z=B((0,c.fromJS)({id:te.get("site_id")}),ce);Ae(s(te.set("listKey",z)))}},ve=(te,ce)=>Ae=>{const h=B((0,c.fromJS)({id:te.get("site_id")}),ce);te.get("state")==="deleted"?Ae(_(te.set("listKey",h))):Ae(a(te))}},86025:(Me,$,e)=>{e.d($,{TB:()=>o,h5:()=>u,kr:()=>n,m:()=>d,od:()=>s,pZ:()=>i,ul:()=>l});var c=e(18643),F=e(18432),f=e(941);const m="DNS_RECORD_CREATED",M="DNS_RECORD_DELETED",D="DNS_RECORDS_DELETED",P="DNS_RECORDS_CLEAR_PAGES",p=(0,F.P)("dnsRecords"),S=(0,c.Z)(m,(a,_)=>({domain:a,id:_})),E=(0,c.Z)(M,(a,_)=>({domain:a,id:_})),o=(0,c.Z)(M,a=>({domain:a})),d=(0,c.Z)(P);function i(a){return(0,f.p5)((_,r,g)=>g.dnsRecords(a).then(({data:I,pagination:B})=>_(p.dnsRecordsSuccess(a,I,B))))}function u(a,_){return(0,f.p5)((r,g,I)=>I.createDnsRecord(a.get("name"),_).then(({data:B})=>{r(p.dnsRecordSuccess(B)),r(S(a.get("name"),B.id))}))}function l(a,_){return(0,f.p5)((r,g,I)=>I.destroyDnsRecord(a.get("name"),_.get("id")).then(B=>r(E(a.get("name"),_.get("id")))))}const n=(0,F.x)("dnsRecords",p,{handler:(a,_)=>{switch(_.type){case m:return a.updateIn(["pages",_.payload.domain,"ids"],r=>r.push(_.payload.id));case M:return a.updateIn(["pages",_.payload.domain,"ids"],r=>r.filter(g=>g!==_.payload.id)).deleteIn(["entities",_.payload.id]);case D:return a.deleteIn(["pages",_.payload.domain]);case P:return a.delete("pages");default:return null}}});function t(a,_){return a.dnsRecords.getIn(["entities",_])}function s(a,_){const r=a.dnsRecords.getIn(["pages",_,"ids"]);return r&&r.map(g=>t(a,g))}},43800:(Me,$,e)=>{e.d($,{Aw:()=>r,BC:()=>B,Fg:()=>U,Go:()=>v,HJ:()=>q,Hw:()=>Y,RY:()=>N,Rr:()=>Re,S4:()=>ee,XP:()=>V,aL:()=>I,dI:()=>re,db:()=>g,gi:()=>x,jx:()=>W,q:()=>fe,ql:()=>_e,rG:()=>oe,x8:()=>k});var c=e(90046),F=e.n(c),f=e(18643),m=e(18432),M=e(63851),D=e(95972),P=e(941),p=e(60653),S=e(86025),E=e(34571);function o(b){return b&&b.get("slug")||null}const d="DNS_VERIFIED",i="DNSZONE_DELETED",u="DNSZONES_CLEAR_PAGES",l="DOMAIN_TOGGLE_AUTO_RENEW",n=(0,m.P)("dnsZones"),t=(0,f.Z)(d,(b,j)=>({domain:b,results:j})),s=(0,f.Z)(i,b=>({domain:b})),a=(0,f.Z)(u),_=(0,f.Z)(l);function r(b,j){const ne=o(b);return(0,P.p5)((Se,Pe,Le)=>Le.dnsZones(ne,j).then(ve=>Se(n.dnsZonesSuccess(ne,ve.data,ve.pagination))))}function g(b){const j=o(b),ne=[],Se=async(Pe,Le=1)=>Pe.dnsZones(j,Le).then(ve=>{const{next:te}=ve==null?void 0:ve.pagination;return ve.data&&ne.push(...ve.data),te?Se(Pe,te):ne});return(0,P.p5)((Pe,Le,ve)=>Se(ve).then(te=>Pe(n.dnsZonesSuccess(j,te))))}function I(b){return(0,P.p5)((j,ne,Se)=>Se.dnsZone(b).then(({data:Pe})=>{j(n.dnsZoneSuccess(Pe)),j((0,S.pZ)(b))}).catch(Pe=>Pe.code===404||Pe.code===401?j(n.dnsZoneSuccess({name:b,error:Pe})):Promise.reject(Pe)).then(Pe=>V(ne(),b)))}function B(b,{account:j,site:ne}){return(0,P.p5)((Se,Pe,Le)=>(Se((0,S.m)()),Le.dnsZone(b).then(({data:ve})=>ve.account_id!==(j&&j.get("id"))?Promise.reject(new M.Z("must be unique")):(Se(n.dnsZoneSuccess(ve)),Se((0,S.pZ)(ve.name)),V(Pe(),ve.name))).catch(ve=>{switch(ve.code){case 404:return Se(L(b,{account:j,site:ne}));case 401:return Promise.reject(new M.Z("must be unique"));default:return Promise.reject(ve)}})))}function q(b,{account:j,site:ne}){const Se=ne&&ne.get("id");return(0,P.p5)((Pe,Le,ve)=>ve.buyDomain(b,j.get("id"),Se).then(({data:te})=>(Pe(I(te.domain)),Se&&Pe((0,E.EQ)(ne.get("name"))),{data:te})))}function N(b,{account:j}){return(0,P.p5)((ne,Se,Pe)=>Pe.searchDomain(b,j.get("id")).then(({data:Le})=>Le))}function L(b,{account:j,site:ne}){return(0,P.p5)((Se,Pe,Le)=>Le.createDnsZone(b,j.get("slug"),{site_id:ne&&ne.get("id")}).then(({data:ve})=>(Se(n.dnsZoneSuccess(ve)),Se((0,S.pZ)(ve.name)),Se(a()),V(Pe(),ve.name))))}function k(b,j){return(0,P.p5)((ne,Se,Pe)=>Pe.destroyDnsZone(b.get("id")).then(Le=>{const ve=b.get("name");ne(s(ve)),ne((0,S.TB)(ve))}))}function _e(b,j){return(0,P.p5)((ne,Se,Pe)=>{const Le=b.get("name");return Pe.transferDnsZone(Le,{account_id:b.get("account_id"),transfer_account_id:j.get("id"),transfer_user_id:(0,p.HF)(Se()).get("id")}).then(ve=>ne(I(Le)))})}function x(b,j){return(ne,Se)=>ne((0,E.L3)(b,j))}function ee(b,j){const ne=b.get("name"),Se=b.get("account_id");return(0,P.p5)((Pe,Le,ve)=>ve.toggleDomainAutoRenew(ne,Se,j).then(()=>Pe(_({domain:ne,autorenew:j}))))}function J(b){return b.json().then(j=>b.ok?j:Promise.reject(new M.Z(j||{})))}function ie(b){return(0,D.hh)(b).then(j=>{const{subdomain:ne,domain:Se,tld:Pe}=j||{},Le=j?`${Se}.${Pe}`:b,ve=[b];return j&&!ne?ve.push(`www.${Le}`):ne==="www"&&ve.push(Le),{root:Le,subdomain:ne,results:ve.map(ce=>({domain:ce,result:!1,error:"We couldn\u2019t resolve the domain. Request timed out"}))}})}function v(b,j){return(ne,Se)=>{const Pe=!j&&re(Se(),b);return Pe&&Pe.getIn(["results",0,"result"])?Promise.resolve(Pe):fetch(`/.netlify/functions/verify?domain=${b}`).then(ve=>J(ve)).then(ve=>ne(t(b,ve))).catch(ve=>ie(b).then(te=>ne(t(b,te)))).then(()=>re(Se(),b))}}function W(b){return(j,ne)=>{const Se=b.get("custom_domain");return Se?j(v(Se)):Promise.resolve()}}const oe=(0,m.x)("dnsZones",n,{key:"name",handler:(b,j)=>{switch(j.type){case d:return b.set(j.payload.domain,(0,c.fromJS)(j.payload.results));case i:return b.deleteIn(["entities",j.payload.domain]).delete("pages");case u:return b.delete("pages");case l:return b.setIn(["entities",j.payload.domain,"domain","auto_renew"],j.payload.autorenew);default:return null}}});function U(b,j){const ne=b.dnsZones.getIn(["pages",o(j),"ids"]);return ne&&ne.map(Se=>V(b,Se))}function V(b,j){const ne=b.dnsZones.getIn(["entities",j]);return ne&&ne.get("id")?ne.set("records",(0,S.od)(b,j)):ne}function fe(b,j){return b.dnsZones.getIn(["pages",o(j)])}function re(b,j){return b.dnsZones.get(j)}function Re(b){return(0,P.p5)((j,ne,Se)=>Se.enableDnsZoneIPv6(b.get("id")).then(({data:Pe})=>{j(n.dnsZoneSuccess(Pe)),j((0,S.pZ)(b.get("name")))}))}function Y(b,j){return(0,P.p5)((ne,Se,Pe)=>Pe.enableDedicatedDns(b.get("id")).then(({data:Le})=>{ne(n.dnsZoneSuccess(Le))}))}},16702:(Me,$,e)=>{e.d($,{y:()=>m});var c=e(90046),F=e.n(c),f=e(38086);function m(M=(0,c.Map)(),D){switch(D.type){case f.sz:return(0,c.Map)({active:!0});case f.Bs:return(0,c.Map)({active:!1});default:return M}}},38086:(Me,$,e)=>{e.d($,{Bs:()=>o,QS:()=>B,Te:()=>r,Tu:()=>g,Xs:()=>i,ag:()=>q,f$:()=>d,sz:()=>E,ws:()=>I});var c=e(19271),F=e(18643),f=e(91800),m=e(68854),M=e(13287),D=e(941),P=e(60653),p=e(34571),S=e(93716);const E="START_DRAG",o="END_DRAG",d=(0,F.Z)(E),i=(0,F.Z)(o),u=()=>(0,m.le)("drop-token"),l=N=>(0,m.D$)("drop-token",N),n=()=>(0,m.le)("dropSiteName"),t=N=>(0,m.D$)("dropSiteName",N),s=N=>!!(0,P.HF)(N()),a=N=>(L,k)=>{const _e=(0,f.uW)(k()),x=(0,M.fd)(_e)&&(_e==null?void 0:_e.get("slug"));return L((0,p.UJ)(x)).then(ee=>{const J=(0,m.le)("nf-drop-force-anon")==="true";return L((0,p.mV)(ee,N,J))})},_=N=>(0,D.p5)((L,k,_e)=>_e.dropToken().then(x=>x.data.token).then(x=>_e.dropFiles((0,p.CJ)(N),x).then(ee=>({token:x,deploy:ee.data}))).then(({token:x,deploy:ee})=>(0,p.Pr)(_e,ee,N,x).then(()=>_e.waitForSiteDeploy(ee.subdomain)).then(J=>({token:x,site:J.data}))).then(({site:x,token:ee})=>{l(ee),t(x.name),L(p.Nw.siteSuccess(x)),L((0,p.wM)(x.name)),L((0,c.VF)(`/drop/${x.name}`)),r()})),r=()=>{(0,m.e8)("dropDeployId"),(0,m.e8)("dropUploadInterrupted")},g=()=>{(0,m.e8)("dropSiteName"),(0,m.e8)("drop-token"),r()},I=N=>(L,k)=>L(s(k)?a(N):_(N)),B=(N,L=u())=>(0,D.p5)((k,_e,x)=>{if(!s(_e)){const W=`/signup?next=${window.location.pathname}&utm_campaign=drop`;return k((0,S.Ee)(W))}const{name:ee,id:J,claimed:ie}=N.toJS(),v=`/sites/${ee}`;return ie?k((0,c.VF)(v)):x.dropClaim(J,L).then(()=>k((0,p.EQ)(ee))).then(()=>{g(),k((0,c.VF)(v))}).catch(()=>{})}),q=()=>{const N=u(),L=n();if(!(!N||!L))return(0,D.p5)((k,_e,x)=>{k((0,p.EQ)(L)).then(()=>{const ee=(0,p.lH)(_e(),L,!1),{id:J,claimed:ie}=ee.toJS();if(ie){g();return}return x.dropClaim(J,N).then(()=>k((0,p.EQ)(L))).then(()=>{g()})})})}},25554:(Me,$,e)=>{e.d($,{$7:()=>u,Oi:()=>i,gI:()=>p,m9:()=>d,wQ:()=>o});var c=e(90046),F=e.n(c),f=e(18432),m=e(23979),M=e(941);const D="edgeFunctionLogs",P=(0,f.P)(D),p=(0,f.x)(D,P,{getKey:(l,n)=>`${l.ts}-${l.requestId}-${n}`});function S(l,n={}){return[l,n.cursor||"",n.q||"",n.from||"",n.to||""].filter(Boolean).join("-")}function E(l,n){const t=l.edgeFunctionLogs.getIn(["entities",n]);return t&&t.merge(l.edgeFunctionLogs.get(n))}function o(l,n,t={}){const s=l.edgeFunctionLogs.getIn(["pages",S(n,t),"ids"]);return s&&s.map(a=>E(l,a))}function d(l,n,t){return!!l.edgeFunctionLogs.getIn(["pages",S(n,t),"isFetching"])}function i(l,n,t){return l.edgeFunctionLogs.getIn(["pages",S(n,t),"next"])}function u(l,n){const t={cursor:n.cursor,q:n.q,from:n.from,to:n.to};return(0,m.wi)((s,a,_)=>{const r=S(l,t);return s(P.edgeFunctionLogsRequest(r)),_.historicalEdgeFunctionLogs({site_id:l,from:n.from,to:n.to,next_cursor:n.next_cursor,search:n.q}).then(g=>{const I=a(),B=o(I,l,n)||(0,c.List)(),q=[...B==null?void 0:B.toJS(),...g.data.logs];return s(P.edgeFunctionLogsSuccess(r,q,g.pagination))}).catch(g=>new M.Hx(g))})}},16939:(Me,$,e)=>{e.d($,{Fl:()=>p,O9:()=>P,kZ:()=>S});var c=e(90046),F=e.n(c),f=e(18643),m=e(941);const M="EDGE_FUNCTIONS_SUCCESS",D=(0,f.Z)(M,(E,o)=>({deployId:E,data:o}));function P(E){return(0,m.p5)((o,d,i)=>i.edgeFunctions(E).then(u=>{o(D(E,u.data))}))}function p(E=(0,c.Map)(),o){switch(o.type){case M:{const{deployId:d,data:{edge_functions:i}}=o.payload;return E.setIn(["entities",d],i)}default:return E}}function S(E,o){return E.edgeFunctions.get("entities")?E.edgeFunctions.get("entities").get(o):[]}},61097:(Me,$,e)=>{e.d($,{C7:()=>S,M2:()=>E,Y0:()=>l,_I:()=>u,aw:()=>i,bJ:()=>d,f6:()=>o,jB:()=>p,wB:()=>P,wY:()=>M});var c=e(18432),F=e(941);const f="environmentVariables",m=(0,c.P)(f),M=(0,c.x)(f,m,{key:"key"});function D(n,t){return n.environmentVariables.getIn(["entities",t]).toJS()}function P(n,t){const s=n.environmentVariables.getIn(["pages",t,"ids"]);return s&&s.map(a=>D(n,a)).toJS()}function p(n,t){return n.environmentVariables.getIn(["pages",t,"isFetching"])}function S(n,t){return n.environmentVariables.getIn(["pages",t,"error"])}function E({accountId:n,siteId:t,scope:s,context:a,merge:_}){return(0,F.p5)((r,g,I)=>(r(m.environmentVariablesRequest(t||n)),I.getEnvVars({accountId:n,siteId:t,scope:s,context:a,merge:_}).then(B=>r(m.environmentVariablesSuccess(t||n,B.data,B.pagination))).catch(B=>{Promise.reject(B),r(m.environmentVariablesFailure(t||n,B))})))}function o({accountId:n,siteId:t,envVars:s}){return(0,F.p5)((a,_,r)=>r.createEnvVars({accountId:n,siteId:t,envVars:s}).then(g=>a(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function d({accountId:n,siteId:t,oldKey:s,newKey:a,is_secret:_,scopes:r,values:g}){return(0,F.p5)((I,B,q)=>q.updateEnvVar({accountId:n,siteId:t,oldKey:s,newKey:a,is_secret:_,scopes:r,values:g}).then(N=>I(E({accountId:n,siteId:t}))).catch(N=>Promise.reject(N)))}function i({accountId:n,siteId:t,envVars:s}){return(0,F.p5)((a,_,r)=>Promise.all(s.map(g=>r.updateEnvVar({accountId:n,siteId:t,oldKey:g.key,newKey:g.key,is_secret:g.is_secret,scopes:g.scopes,values:g.values}))).then(g=>a(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function u({accountId:n,siteId:t,envVars:s}){return(0,F.p5)((a,_,r)=>Promise.all(s.flatMap(g=>g.values.map(({context:I,context_parameter:B,value:q})=>r.setEnvVarValue({accountId:n,siteId:t,key:g.key,context:I,context_parameter:B,value:q})))).then(g=>a(E({accountId:n,siteId:t}))).catch(g=>Promise.reject(g)))}function l({accountId:n,siteId:t,key:s,id:a}){return(0,F.p5)((_,r,g)=>g.deleteEnvVar({accountId:n,siteId:t,key:s,id:a}).then(I=>_(E({accountId:n,siteId:t}))).catch(I=>Promise.reject(I)))}},60405:(Me,$,e)=>{e.d($,{$f:()=>d,Al:()=>o,Co:()=>n,DD:()=>D,DS:()=>l,Hg:()=>M,K3:()=>P,Ki:()=>i,mv:()=>S,u5:()=>u,y6:()=>p});var c=e(941),F=e(18432),f=e(34571);const m=(0,F.P)("accountFirewallRuleSets"),M=(0,F.x)("accountFirewallRuleSets",m,{key:"account_id"});function D(t,s){var a;return s&&(a=t.accountFirewallRuleSets.getIn(["entities",s,"isFetching"]))!=null?a:!0}function P(t,s){if(s)return t.accountFirewallRuleSets.getIn(["entities",s,"data"])}function p(t){return(0,c.p5)((s,a,_)=>(s(m.accountFirewallRuleSetRequest(t)),_.accountFirewallRuleSet(t).then(r=>{s(m.accountFirewallRuleSetSuccess({data:r.data,account_id:t}))}).catch(r=>{(r==null?void 0:r.code)===404&&s(m.accountFirewallRuleSetSuccess({account_id:t,data:void 0}))})))}function S(t,s){return(0,c.p5)((a,_,r)=>r.updateAccountFirewallRuleSet(t,s).then(()=>{a(p(t))}))}const E=(0,F.P)("siteFirewallRuleSets"),o=(0,F.x)("siteFirewallRuleSets",E,{key:"site_id"});function d(t,s){var a;const _=(0,f.lH)(t,s);return _&&(a=t.siteFirewallRuleSets.getIn(["entities",_.get("site_id"),"isFetching"]))!=null?a:!0}function i(t,s){const a=(0,f.lH)(t,s);if(a)return t.siteFirewallRuleSets.getIn(["entities",a.get("site_id"),"data"])}function u(t){return(0,c.p5)((s,a,_)=>{const r=(0,f.lH)(a(),t);if(!r)return;const g=r.get("site_id");return s(E.siteFirewallRuleSetRequest(g)),_.siteFirewallRuleSet(g).then(I=>s(E.siteFirewallRuleSetSuccess({data:I.data,site_id:g}))).catch(I=>{if((I==null?void 0:I.code)===404)return s(E.siteFirewallRuleSetSuccess({data:void 0,site_id:g}))})})}function l(t,s){return(0,c.p5)((a,_,r)=>{const I=(0,f.lH)(_(),t).get("site_id");return r.updateSiteFirewallRuleSet(I,s).then(()=>{a(u(t))})})}function n(t){return(0,c.p5)((s,a,_)=>{const g=(0,f.lH)(a(),t).get("site_id");return _.deleteSiteFirewallRuleSet(g).then(()=>{s(u(t))})})}},38504:(Me,$,e)=>{e.d($,{$d:()=>a,A:()=>E,Hk:()=>D,Jo:()=>l,Rg:()=>t,XL:()=>u,cJ:()=>i,cY:()=>m,dI:()=>d,jn:()=>P,jy:()=>n,kk:()=>s,zH:()=>o});var c=e(18432),F=e(941);const f=(0,c.P)("forms"),m=(0,c.x)("forms",f),M=(0,c.P)("submissions"),D=(0,c.x)("submissions",M);function P(r){const g=r.get("id");return(0,F.p5)((I,B,q)=>q.siteForms(g).then(N=>I(f.formsSuccess(g,N.data,N.pagination))))}function p(r,g){return withApi((I,B,q)=>q.siteForm(g).then(N=>I(f.formSuccess(N.data))))}function S(r,g={}){return g.formId?g.formId:`site-${r.get("id")}`}function E(r,g){const I=r.get("id");return(0,F.p5)((B,q,N)=>(B(P(r)),N.formSubmissions(I,g).then(L=>B(M.submissionsSuccess(S(r,g),L.data,L.pagination))).catch(L=>B(M.submissionsFailure(S(r,g),L.error)))))}function o(r,g,I){const B=r.get("id");return(0,F.p5)((q,N,L)=>Promise.all(g.map(k=>L.deleteFormSubmission(B,k))).then(k=>q(E(r,I))))}function d(r,g){const I=r.get("id");return(0,F.p5)((B,q,N)=>N.deleteForm(I,g))}function i(r,g,I){const B=r.get("id");return(0,F.p5)((q,N,L)=>Promise.all(g.map(k=>L.markSubmissionAsHam(B,k))).then(k=>{q(E(r,I))}))}function u(r,g,I){const B=r.get("id");return(0,F.p5)((q,N,L)=>Promise.all(g.map(k=>L.markSubmissionAsSpam(B,k))).then(k=>{q(E(r,I))}))}function l(r,g){const I=r.forms.getIn(["pages",g.get("id"),"ids"]);return I&&I.map(B=>r.forms.getIn(["entities",B]))}function n(r,g){return r.forms.getIn(["entities",g])}function t(r,g,I){const B=r.submissions.getIn(["pages",S(g,I),"ids"]);return B&&B.map(q=>r.submissions.getIn(["entities",q]))}function s(r,g,I){return r.submissions.getIn(["pages",S(g,I),"error"])}function a(r,g,I){return r.submissions.getIn(["pages",S(g,I)])}function _(r,g){return r.submissions.getIn(["entities",g])}},62021:(Me,$,e)=>{e.d($,{X4:()=>u,ZF:()=>i,lf:()=>d,rm:()=>o,tZ:()=>p});var c=e(90046),F=e.n(c),f=e(18432),m=e(23979),M=e(941);const D="functionLogs",P=(0,f.P)(D),p=(0,f.x)(D,P,{getKey:(l,n)=>`${l.ts}-${l.requestId}-${n}`});function S(l,n,t={}){return[l,n,t.branch||"",t.cursor||"",t.q||"",t.from||"",t.to||""].filter(Boolean).join("-")}function E(l,n){const t=l.functionLogs.getIn(["entities",n]);return t&&t.merge(l.functionLogs.get(n))}function o(l,n,t,s={}){const a=l.functionLogs.getIn(["pages",S(n,t,s),"ids"]);return a&&a.map(_=>E(l,_))}function d(l,n,t,s){return!!l.functionLogs.getIn(["pages",S(n,t,s),"isFetching"])}function i(l,n,t,s){return l.functionLogs.getIn(["pages",S(n,t,s),"next"])}function u(l,n,t){const s={branch:t.branch,cursor:t.cursor,q:t.q,from:t.from,to:t.to};return(0,m.wi)((a,_,r)=>{const g=S(l,n,s);return a(P.functionLogsRequest(g)),r.historicalFunctionLogs({site_id:l,name:n,branch:t.branch,from:t.from,to:t.to,next_cursor:t.next_cursor,search:t.q}).then(I=>{const B=_(),q=o(B,l,n,t)||(0,c.List)(),N=[...q==null?void 0:q.toJS(),...I.data.logs];return a(P.functionLogsSuccess(g,N,I.pagination))}).catch(I=>new M.Hx(I))})}},96666:(Me,$,e)=>{e.d($,{Bc:()=>o,Ph:()=>p,ob:()=>d,wk:()=>S,x0:()=>E});var c=e(90046),F=e.n(c),f=e(18643),m=e(941);const M="FUNCTIONS_SUCCESS",D=(0,c.fromJS)({id:"empty",functions:[]}),P=(0,f.Z)(M,(i,u,l)=>({siteId:i,scope:u,data:l}));function p(i,u){const l=i.get("id");return(0,m.p5)((n,t,s)=>s.functions(l,u).then(a=>{n(P(l,u,a.data))}))}function S(i=(0,c.Map)(),u){switch(u.type){case M:{const{siteId:l,scope:n="default",data:t}=u.payload,s=t&&t.id?(0,c.fromJS)(t):D;return i.setIn(["entities",s.get("id")],s).setIn(["pages",l,n],s.get("id"))}default:return i}}function E(i,u,l){l=l||"default";const n=i.functions.getIn(["pages",u.get("id"),l]);return n&&i.functions.getIn(["entities",n])}function o(i,u,l){const n=E(i,u,l);return n&&n.get("functions").map(t=>t.set("c",t.get("c")||n.get("created_at")))}function d(i,u,l,n){const t=o(i,u,l);return t&&t.find(s=>s.get("n")===n)}},65628:(Me,$,e)=>{e.d($,{$_:()=>n,Cl:()=>u,Fq:()=>t,Gu:()=>g,HN:()=>B,Kd:()=>s,L4:()=>_,Lb:()=>q,YR:()=>a,fc:()=>i,oI:()=>r,qq:()=>I,z8:()=>N});var c=e(90046),F=e.n(c),f=e(18643),m=e(88317),M=e(25169),D=e(91800),P=e(60653);const p="GIT_NO_PROVIDER",S="GIT_SET_PROVIDER",E="GIT_SET_SEARCH_TERM",o="GIT_SET_USER",d=(0,f.Z)(p),i=(0,f.Z)(S,(L,k)=>({provider:L,credentials:k})),u=(0,f.Z)(E,L=>L),l=(0,f.Z)(o,L=>L);function n(L){return(k,_e)=>{const x=(0,M.Ev)(_e());return x?L(k,_e,x):k(d())}}function t(L,k){let _e=!1;return L==="github-proxied"&&(L=m.Lz.github,_e=!0),(x,ee)=>{const J=ee().git,ie=J&&L===J.get("provider")?(0,M.Wx)(L,J.get("accessToken"),J.get("apiEndpoint")):(0,M.Wx)(L);return ie?(_e&&(ie.root="/.netlify/functions/git"),k(x,ee,ie)):x(d())}}function s(){return n((L,k,_e)=>_e.user().then(x=>(L(l(x.data)),N(k()))))}function a(L){return(k,_e)=>k((0,P.YR)(L)).then(()=>k(s()))}function _(L=(0,c.Map)(),k){switch(k.type){case S:const _e={provider:k.payload.provider,accessToken:k.payload.credentials.token};return k.payload.credentials.refresh_token&&(_e.refreshAccessToken=k.payload.credentials.refresh_token),k.payload.credentials.api_endpoint&&(_e.apiEndpoint=k.payload.credentials.api_endpoint),(0,c.fromJS)(_e);case E:return L.set("search",k.payload);case o:return L.set("user",(0,c.fromJS)(k.payload));default:return L}}function r(L){return L.git.get("provider")}function g(L){return L.git.get("accessToken")}function I(L){return L.git.get("apiEndpoint")}function B(L){return L.git.get("provider")!=="bitbucket_self_hosted"?void 0:(0,D.uW)(L).getIn(["bitbucket_self_hosted_config","instance_url"])}function q(L){return L.git.get("search")}function N(L){return L.git.get("user")}},72253:(Me,$,e)=>{e.d($,{Ht:()=>M,YX:()=>D,hi:()=>m,wc:()=>P});var c=e(18432),F=e(65628);const f=(0,c.P)("gitOrganizations");function m(){return(0,F.$_)((p,S,E)=>{p(f.gitOrganizationsRequest(E.provider));const d=S().git.getIn(["user","login"]);E.organizations({userLogin:d}).then(i=>p(f.gitOrganizationsSuccess(E.provider,i.data,i.pagination)),i=>p(f.gitOrganizationsFailure(E.provider,i)))})}const M=(0,c.x)("gitOrganizations",f,{key:"full_name"});function D(p){const S=(0,F.oI)(p),E=p.gitOrganizations.getIn(["pages",S,"ids"]);return E&&E.map(o=>P(p,o))}function P(p,S){return p.gitOrganizations.getIn(["entities",S])}},62326:(Me,$,e)=>{e.d($,{Z:()=>M});const c=new Map,F=1e3*60*5;function f(D){return"jwt"in D&&D.expiration-F<performance.now()}const m=async({accountId:D})=>{const P=`/access-control/bb-api/api/v1/accounts/${D}/jwt`,p=await fetch(P,{headers:{"Content-type":"application/json"},credentials:"include"});if(p.status===200)return await p.json();throw new Error(`Non-200 status when exchanging API token for short-lived JWT: ${p.status}`)};function M({accountId:D}){const P=c.get(D);if(P&&!f(P))return Promise.resolve(P);const p=m({accountId:D}).then(S=>{const E=S.jwt,o=E.split(".")[1].replace(/_/g,"/").replace(/-/g,"+"),d=JSON.parse(atob(o)),i=d.exp-d.iat,u=performance.now()+i*1e3;return c.set(D,{jwt:E,expiration:u}),{jwt:E,expiration:u}}).catch(S=>{throw c.delete(D),S});return c.set(D,p),p}},18432:(Me,$,e)=>{e.d($,{P:()=>M,x:()=>D});var c=e(90046),F=e.n(c),f=e(17412),m=e(18643);function M(P){const p=(0,f.C5)(P),S=p.toUpperCase(),E=P.toUpperCase(),o={REQUEST:`${S}_REQUEST`,SUCCESS:`${S}_SUCCESS`,FAILURE:`${S}_FAILURE`},d={REQUEST:`${E}_REQUEST`,SUCCESS:`${E}_SUCCESS`,FAILURE:`${E}_FAILURE`},i=(0,m.Z)(o.REQUEST,N=>N),u=(0,m.Z)(o.SUCCESS,N=>N),l=(0,m.Z)(o.FAILURE,(N,L)=>({id:N,error:L})),n=(0,m.Z)(d.REQUEST,N=>N),t=(0,m.Z)(d.SUCCESS,(N,L,k)=>({list:N,entities:L,pages:k})),s=(0,m.Z)(d.FAILURE,(N,L)=>({list:N,error:L})),a=`${p}Request`,_=`${p}Success`,r=`${p}Failure`,g=`${P}Request`,I=`${P}Success`,B=`${P}Failure`;return{[S]:o,[E]:d,[a]:i,[_]:u,[r]:l,[g]:n,[I]:t,[B]:s}}function D(P,p,S={}){const E=P,o=(0,f.C5)(P),d=E.toUpperCase(),i=o.toUpperCase();return(u=(0,c.Map)({entities:(0,c.Map)(),pages:(0,c.Map)()}),l)=>{const n=S.handler&&S.handler(u,l);if(n)return n;const t=S.key||"id",s=S.getKey||(a=>a[t]);switch(l.type){case p[i].REQUEST:return u.setIn(["entities",l.payload,"isFetching"],!0);case p[i].SUCCESS:{const a=s(l.payload).toString(),_=u.getIn(["entities",a])||(0,c.Map)();return u.setIn(["entities",a],_.merge(l.payload,{isFetching:!1}))}case p[i].FAILURE:return u.withMutations(a=>{a.setIn(["entities",l.payload.id,"error"],(0,c.fromJS)(l.payload.error)).setIn(["entities",l.payload.id,"isFetching"],!1)});case p[d].REQUEST:return u.setIn(["pages",l.payload,"isFetching"],!0);case p[d].SUCCESS:{const{list:a,entities:_,pages:r}=l.payload;return u.withMutations(g=>{_.forEach((I,B)=>g.setIn(["entities",s(I,B).toString()],(0,c.fromJS)(I).set("isFetching",!1))),g.setIn(["pages",a],(0,c.Map)({...r,ids:(0,c.List)(_.map((I,B)=>s(I,B).toString()))}))})}case p[d].FAILURE:return u.setIn(["pages",l.payload.list,"error"],(0,c.fromJS)(l.payload.error));default:return u}}}},86981:(Me,$,e)=>{e.d($,{$_:()=>E,Bi:()=>p,Eq:()=>o,PT:()=>d,e_:()=>u,ny:()=>S,o6:()=>l,v9:()=>P});var c=e(90046),F=e.n(c),f=e(18432),m=e(941);const M=(0,f.P)("hooks"),D="HOOK_TYPES";function P(t){return(0,m.p5)((s,a,_)=>(s(M.hooksRequest(t.get("id"))),_.hooks(t.get("id")).then(r=>s(M.hooksSuccess(t.get("id"),r.data,r.pagination)),r=>s(M.hooksFailure(t.get("id"),r.message)))))}function p(t,s){const a={site_id:t.get("id"),event:s.event,type:s.type,data:s.data,form_id:s.form_id};return(0,m.p5)((_,r,g)=>g.addHook(a).then(I=>{_(P(t))}))}function S(t,s,a){const _=s.get("id");return(0,m.p5)((r,g,I)=>I.updateHook(_,a).then(B=>B.data.disabled?I.enableHook(_):Promise.resolve(B)).then(()=>r(P(t))))}function E(t,s){return(0,m.p5)((a,_,r)=>r.deleteHook(s.get("id")).then(g=>a(P(t))))}function o(t){return(0,m.p5)((s,a,_)=>_.hookTypes(t.get("id")).then(r=>s({type:D,payload:{siteId:t.get("id"),types:r.data}})))}const d=(0,f.x)("hooks",M,{handler:(t,s)=>{switch(s.type){case D:return t.setIn(["types",s.payload.siteId],(0,c.fromJS)(s.payload.types));default:return null}}});function i(t,s){return t.hooks.getIn(["entities",s])}function u(t,s){const a=t.hooks.getIn(["pages",s.get("id"),"ids"]);return a&&a.map(_=>i(t,_))}function l(t,s){return t.hooks.getIn(["types",s.get("id")])}function n(t,s,a){const _=l(t,s);return _&&_.find(r=>r.get("name")===a)}},44195:(Me,$,e)=>{e.d($,{$O:()=>k,EI:()=>B,Ey:()=>J,FJ:()=>N,PO:()=>_,XD:()=>I,bU:()=>_e,cG:()=>ie,dU:()=>q,dk:()=>a,eO:()=>s,jZ:()=>t,mK:()=>L,mt:()=>x,qD:()=>l,r6:()=>g,yR:()=>n});var c=e(90046),F=e.n(c),f=e(19271),m=e(18643),M=e(18432),D=e(77962),P=e(941),p=e(34571);const S="IDENTITY_CREATED",E="IDENTITY_SUCCESS",o=(0,M.P)("identityUsers"),d=(0,m.Z)(S,(v,W)=>({siteId:v,data:W})),i=(0,m.Z)(E,(v,W)=>({siteId:v,data:W})),u=(v,{filter:W})=>`${v}${W?`-${W}`:""}`,l=(0,M.x)("identityUsers",o);function n(v=(0,c.Map)(),W){switch(W.type){case S:case E:return v.set(W.payload.siteId,(0,c.fromJS)(W.payload.data));default:return v}}function t(v,W){return v.identity.get(W.get("id"))}function s(v,W){return v.identityUsers.getIn(["entities",W])}function a(v,W,oe){const U=v.identityUsers.getIn(["pages",u(W.get("id"),oe),"ids"]);return U&&U.map(V=>s(v,V))}function _(v,W,oe){return v.identityUsers.getIn(["pages",u(W.get("id"),oe)])}function r(v,W,oe){const U=t(oe(),v);return U?Promise.resolve(U):W(g(v)).then(()=>t(oe(),v))}function g(v){const W=v.get("id"),oe=v.get("identity_instance_id");return(0,P.p5)((U,V,fe)=>oe?fe.identity(W,oe).then(re=>U(i(W,re.data))):Promise.resolve())}function I(v,W={}){const oe=v.get("id");return(0,P.p5)((U,V,fe)=>fe.createIdentity(oe,W).then(re=>U(d(oe,re.data))).then(()=>U((0,p.EQ)(v.get("name")))).then(re=>U((0,p.ZO)(re))))}function B(v,W){const oe=v.get("id"),U=v.get("identity_instance_id");return(0,P.p5)((V,fe,re)=>U?re.updateIdentity(oe,U,W).then(()=>V(g(v))):Promise.reject({code:404}))}function q(v){const W=v.get("id"),oe=v.get("identity_instance_id");return(0,P.p5)((U,V,fe)=>oe?fe.deleteIdentity(W,oe).then(()=>U((0,p.EQ)(v.get("name")))):Promise.resolve())}function N(v,W={}){const oe=v.get("id"),U=v.get("identity_instance_id");return(0,P.p5)((V,fe,re)=>U?re.identityUsers(oe,U,W).then(Re=>V(o.identityUsersSuccess(u(oe,W),Re.data,Re.pagination))).catch(Re=>Re.code===404?V(o.identityUsersSuccess(u(oe,W),[],{})):Promise.reject(Re)):Promise.resolve())}function L(v,W){const oe=v.get("id"),U=v.get("identity_instance_id");return(0,P.p5)((V,fe,re)=>U?r(v,V,fe).then(()=>re.identityUser(oe,U,W).then(Re=>V(o.identityUserSuccess(Re.data)))):Promise.reject({code:404}))}function k(v,W){const oe=v.get("id"),U=v.get("identity_instance_id");return(0,P.p5)((V,fe,re)=>re.createIdentityUser(oe,U,W).then(Re=>V(N(v))))}function _e(v,W,oe){const U=v.get("id"),V=v.get("identity_instance_id"),fe=W.get("id");return(0,P.p5)((re,Re,Y)=>(re(ee(v,oe)),Y.updateIdentityUser(U,V,fe,oe).then(()=>re(L(v,fe)))))}function x(v,W){const oe=v.get("id"),U=v.get("identity_instance_id"),V=W.get("id");return(0,P.p5)((fe,re,Re)=>Re.deleteIdentityUser(oe,U,V).then(()=>fe(N(v))).then(()=>fe((0,f.VF)((0,D.DD)(v,"identity")))))}function ee(v,W){const oe=W&&W.app_metadata&&W.app_metadata.roles;return(0,P.p5)((U,V,fe)=>oe&&oe.length?r(v,U,V).then(re=>{if(!re)return;const Re=(0,c.Set)(re.getIn(["external_attributes","roles"])),Y=Re.merge(oe);Y.size>Re.size&&U(B(v,{external_attributes:{roles:Y}}))}):Promise.resolve())}function J(v,W){const oe=v.get("id"),U=v.get("identity_instance_id"),V=W.get("id");return(0,P.p5)((fe,re,Re)=>Re.sendIdentityRecovery(oe,U,V))}function ie(v,W){const oe=v.get("id"),U=v.get("identity_instance_id");return(0,P.p5)((V,fe,re)=>re.sendIdentityInvites(oe,U,{invites:W}).then(()=>V(N(v))))}},95063:(Me,$,e)=>{e.d($,{Hi:()=>D,Y5:()=>p,bo:()=>E,iK:()=>S});var c=e(18432),F=e(941);const f=(0,c.P)("identityAudits"),m=({siteId:o,searchTerm:d}={})=>`${o}${d?`-${d}`:""}`,M=o=>o.map(d=>(d&&d.payload&&d.payload.log_type&&(d.payload.log_type=`gotrue-${d.payload.log_type}`),d)),D=(0,c.x)("identityAudits",f);function P(o,d){return o.identityAudit.getIn(["entities",d])}function p(o,d){const i=o.identityAudit.getIn(["pages",m(d),"ids"]);return i&&i.map(u=>P(o,u))}function S(o,d){return o.identityAudit.getIn(["pages",m(d)])}function E(o){return(0,F.p5)((d,i,u)=>o.identityId&&o.isValidKey?u.identityAudit(o).then(l=>d(f.identityAuditsSuccess(m(o),M(l.data),l.pagination))).catch(l=>l.code===404?d(f.identityAuditsSuccess(m(o),[],{})):Promise.reject(l)):Promise.resolve())}},13440:(Me,$,e)=>{e.d($,{V2:()=>M,Yx:()=>D,rI:()=>p,uX:()=>S});var c=e(18432),F=e(941);const f=(0,c.P)("largeMediaAssets"),m=(E,{filter:o})=>`${E}${o?`-${o}`:""}`,M=(0,c.x)("largeMediaAssets",f);function D(E,o){const d=E.get("id"),i=E.get("use_lm");return(0,F.p5)((u,l,n)=>i?n.largeMediaAssets(d,o).then(t=>u(f.largeMediaAssetsSuccess(m(d,o),t.data,t.pagination))):Promise.resolve())}function P(E,o){return E.largeMediaAssets.getIn(["entities",o])}function p(E,o,d){const i=E.largeMediaAssets.getIn(["pages",m(o.get("id"),d),"ids"]);return i&&i.map(u=>P(E,u))}function S(E,o,d){return E.largeMediaAssets.getIn(["pages",m(o.get("id"),d)])}},65524:(Me,$,e)=>{e.d($,{GO:()=>p,Lf:()=>M,SK:()=>S,V4:()=>d,X5:()=>E,b_:()=>D,cU:()=>P,vR:()=>o});var c=e(18432),F=e(941);const f="logDrains",m=(0,c.P)(f),M=(0,c.x)(f,m);function D(i,u){var l,n;const[t]=((l=i.logDrains.getIn(["pages",u,"ids"]))==null?void 0:l.toJS())||[];return(n=i.logDrains.getIn(["entities",t]))==null?void 0:n.toJS()}function P(i,u){return i.logDrains.getIn(["pages",u,"isFetching"])}function p(i){return(0,F.p5)((u,l,n)=>(u(m.logDrainsRequest(i)),n.logDrains(i).then(t=>{(t.data||[]).forEach(s=>{const{url:a,integration_name:_}=s.service_config;a&&new URL(a).host.endsWith(".sumologic.com")&&(s.destination="sumologic"),_&&(s.destination=_)}),u(m.logDrainsSuccess(i,t.data))})))}function S(i,u={}){return(0,F.p5)((l,n,t)=>t.createLogDrain(i,u).then(s=>{l(m.logDrainsSuccess(i,[s.data]))}))}function E(i,u,l){return(0,F.p5)((n,t,s)=>s.verifyLogDrain(i,u,l).then(()=>{const a=t(),r={...D(a,i),verified:!0};n(m.logDrainsSuccess(i,[r]))}))}function o(i,u,l={}){return(0,F.p5)((n,t,s)=>s.updateLogDrain(i,u,l).then(a=>{n(m.logDrainsSuccess(i,[a.data]))}))}function d(i,u){return(0,F.p5)((l,n,t)=>t.deleteLogDrain(i,u).then(()=>{l(m.logDrainsSuccess(i,[]))}))}},32293:(Me,$,e)=>{e.d($,{Ol:()=>S,Tq:()=>E,ad:()=>d,el:()=>D});var c=e(19271),F=e(18432),f=e(91800),m=e(941);const M=(0,F.P)("members");function D(i){const u=i.get("id");return(0,m.p5)((l,n,t)=>(l(M.membersRequest(u)),t.members(u).then(s=>l(M.membersSuccess(u,s.data,s.pagination)))))}function P(i,u){return withApi((l,n,t)=>(l(M.membersRequest(i.get("id"))),Promise.all(u.map(s=>t.inviteMember(i.get("id"),s))).then(s=>l(D(i)),s=>l(D(i)))))}function p(i,u){return withApi((l,n,t)=>(l(M.membersRequest(i.get("id"))),t.removeMember(i.get("id"),u.get("id")).then(s=>l(D(i)))))}function S(i){return(0,m.p5)((u,l,n)=>n.acceptInvite(i).then(t=>{t.data.site_id?u((0,c.VF)(`/sites/${t.data.name}`)):u((0,f.vP)()).then(()=>u((0,c.VF)(`/teams/${t.data.slug}`)))}))}const E=(0,F.x)("members",M);function o(i,u){return i.members.getIn(["entities",u])}function d(i,u){const l=i.members.getIn(["pages",u.get("id"),"ids"]);return l&&l.map(n=>o(i,n))}},98990:(Me,$,e)=>{e.d($,{Af:()=>S,B_:()=>E,Fd:()=>o,NK:()=>i,Vy:()=>u,WU:()=>l,jJ:()=>p,sv:()=>d});var c=e(90046),F=e.n(c),f=e(941),m=e(60653);const M="MULTIFACTOR_AUTH_SETUP",D="MULTIFACTOR_AUTH_ENABLE",P="MULTIFACTOR_AUTH_DISABLE";function p(n=(0,c.fromJS)({}),t){switch(t.type){case M:return n.merge((0,c.fromJS)({setup:t.payload}));case D:return n.merge((0,c.fromJS)({isEnabled:!0,recoveryCodes:t.payload}));case P:return n.merge((0,c.fromJS)({isEnabled:!1,recoveryCodes:null}));default:return n}}function S(){return(0,f.p5)(async(n,t,s)=>{const{data:a}=await s.setupMultiFactorAuth();n({type:M,payload:a})})}function E({otp:n,token:t}){return(0,f.p5)(async(s,a,_)=>{const{data:r}=await _.enableMultiFactorAuth({otp:n,token:t});s({type:D,payload:r.backup_codes})})}function o({otp:n}){return(0,f.p5)(async(t,s,a)=>{const{data:_}=await a.disableMultiFactorAuth({otp:n});t({type:P,payload:_}),t((0,m.$D)({reload:!0}))})}function d({otp:n,token:t}){return(0,f.p5)(async(s,a,_)=>{const{data:r}=await _.verifyLogin({otp:n,token:t});window.location.href=r.redirect_path})}function i(n){const{multiFactorAuth:t}=n;return(t==null?void 0:t.get("setup"))||null}function u(n){const{user:t,multiFactorAuth:s}=n;return!!(s!=null&&s.get("isEnabled"))||!!(t!=null&&t.get("mfa_enabled"))||!1}function l(n){const{multiFactorAuth:t}=n;return t==null?void 0:t.get("recoveryCodes")}},5774:(Me,$,e)=>{e.d($,{A7:()=>d,N9:()=>n,P$:()=>l,_6:()=>u,oA:()=>o,y9:()=>i});var c=e(90046),F=e.n(c),f=e(18643),m=e(7442),M=e(63851),D=e(26527),P=e(60653);const p="NOTIFICATIONS_SUCCESS",S=(0,f.Z)(p,t=>t);function E(t,s){const a=t.getIn(["onboarding_progress","notifications_read_at"]);return new Date(a)<new Date(s)}function o(){return(t,s)=>{fetch("/.netlify/builders/notifications").then(a=>{if(!a.ok)throw new Error(`Error fetching notifications - ${a.status} - ${a.statusText}`);return a.json().catch(_=>{throw new Error(`Error parsing notifications JSON - ${a.status}`)})}).then(a=>{t(S(a))}).catch(a=>{throw new M.Z(a.message||a)})}}function d(t){return(s,a)=>{const{accounts:_,user:r}=a(),g=t&&t.getIn([0,"updated_at"]);m.iND.appNotificationButtonClicked({accountSlug:_.get("selected"),flagged:E(r,g),notificationNames:t&&t.map(I=>(0,D.lV)(I==null?void 0:I.get("title"))).toJS()}),s((0,P.fq)("notifications_read_at",g))}}function i(t){return(s,a)=>{const{accounts:_}=a();m.iND.appNotificationItemClicked({accountSlug:_.get("selected"),notificationName:(0,D.lV)(t.get("title"))})}}function u(t){return t.notifications.get("data")}function l(t){const s=(0,P.HF)(t);return s&&s.getIn(["onboarding_progress","notifications_read_at"])}const n=(t=(0,c.Map)(),s)=>{switch(s.type){case p:return t.set("data",(0,c.fromJS)(s.payload));default:return t}}},32712:(Me,$,e)=>{e.d($,{$6:()=>Ke,AN:()=>te,Ak:()=>le,Av:()=>b,Ek:()=>U,FV:()=>G,Hh:()=>re,Hp:()=>Le,IK:()=>N,Ly:()=>ie,O1:()=>ve,Ov:()=>fe,Ox:()=>me,P6:()=>Se,Pk:()=>ce,Q:()=>h,Q2:()=>j,RF:()=>T,Tz:()=>Ae,Ul:()=>k,W2:()=>pe,Wu:()=>J,XQ:()=>ne,Xj:()=>L,Y3:()=>Ce,_b:()=>x,c3:()=>q,cr:()=>z,dm:()=>B,g8:()=>w,h1:()=>W,j6:()=>oe,ji:()=>Ue,k:()=>g,lI:()=>ge,mT:()=>Pe,me:()=>V,mf:()=>_,nU:()=>I,p_:()=>Re,u2:()=>ee,vI:()=>_e,v_:()=>v,yK:()=>r,yL:()=>Y});var c=e(5780),F=e.n(c),f=e(90046),m=e.n(f),M=e(19271),D=e(18432),P=e(63851),p=e(91800),S=e(941),E=e(52968),o=e(93716);const d=(0,D.P)("organizations"),i=(0,D.P)("organizationAccounts"),u=(0,D.P)("organizationInvoices"),l=(0,D.P)("organizationClientToken"),n=(0,D.P)("organizationReceipts"),t=(0,D.P)("organizationSaml"),s=(0,D.P)("organizationScims"),a=(0,D.P)("organizationScimMappings"),_=(0,D.x)("organizations",d,{key:"slug"}),r=(0,D.x)("organizationAccounts",i),g=(0,D.x)("organizationInvoices",u),I=(0,D.x)("organizationReceipts",n,{key:"transaction_id"}),B=(0,D.x)("organizationSaml",t,{key:"list"}),q=(0,D.x)("organizationScim",s),N=(0,D.x)("organizationScimMappings",a);function L(K){return(0,S.p5)((Q,ae,de)=>(Q(d.organizationRequest(K)),de.organization(K).then(H=>Q(d.organizationSuccess(H.data))).catch(H=>Q(d.organizationFailure(K,H)))))}function k(K){return(0,S.p5)((Q,ae,de)=>(Q(i.organizationAccountsRequest(K)),de.organizationAccounts(K).then(H=>{Q(i.organizationAccountsSuccess(K,H.data))}).catch(H=>Q(i.organizationAccountsFailure(K,H)))))}function _e(K){return(0,S.p5)((Q,ae,de)=>(Q(u.organizationInvoicesRequest(K)),de.organizationInvoices(K).then(H=>Q(u.organizationInvoicesSuccess(K,H.data))).catch(H=>Q(u.organizationInvoicesFailure(K,H)))))}function x(K){return(0,S.p5)((Q,ae,de)=>(Q(n.organizationReceiptsRequest(K)),de.organizationReceipts(K).then(H=>Q(n.organizationReceiptsSuccess(K,H.data))).catch(H=>Q(n.organizationReceiptsFailure(K,H)))))}function ee(K){return(0,S.p5)((Q,ae,de)=>(Q(l.organizationClientTokenRequest(K)),de.organizationClientToken(K).then(H=>(H.data.organization_id=K,Q(l.organizationClientTokenSuccess(K,H.data)),H.data)).catch(H=>Q(l.organizationClientTokenFailure(K,H)))))}function J(){return(0,S.p5)((K,Q,ae)=>(K(d.organizationsRequest("organizations")),ae.organizations().then(de=>K(d.organizationsSuccess("organizations",de.data,de.pagination)),de=>K(d.organizationsFailure("organizations",de)))))}function ie(K){return(0,S.p5)((Q,ae,de)=>de.organizationSamlConnection(K).then(H=>(Q(t.organizationSamlSuccess(K,H.data)),H.data)))}function v(K){return(0,S.p5)((Q,ae,de)=>(Q(s.organizationScimRequest(K)),de.organizationScimConnection(K).then(H=>{const C=H.data.status||"inactive";return Q(s.organizationScimSuccess({id:K,...H.data,status:C}))})))}function W(K){return(0,S.p5)((Q,ae,de)=>(Q(a.organizationScimMappingRequest(K)),de.organizationScimMappings(K).then(H=>Q(a.organizationScimMappingSuccess({id:K,groups:H.data})))))}function oe(K){return(0,S.p5)((Q,ae,de)=>de.organizationSamlDashboard(K).then(({data:H})=>H.workos_portal_url))}function U(K){return(0,S.p5)((Q,ae,de)=>de.organizationScimDashboard(K).then(({data:H})=>H.workos_portal_url))}function V(K,Q){return(0,S.p5)((ae,de,H)=>H.organizationScimStatus(K,Q).then(()=>{ae(v(K))}))}function fe(K){return(0,S.p5)((Q,ae,de)=>de.organizationSamlDeleteConnection(K).then(()=>{Q(ie(K))}))}function re(K){const Q=K.organizations.getIn(["pages","organizations","ids"]);return Q==null?void 0:Q.map(ae=>Pe(K,ae))}function Re(K){return K.organizations.getIn(["pages","organizations","isFetching"])}function Y(K,Q){return K.organizations.getIn(["entities",Q,"isFetching"])}function b(K,Q){var ae;return(ae=K.organizationSaml)==null?void 0:ae.getIn(["entities",Q,"entities"])}function j(K,Q){var ae;return Q?(ae=K.organizationScim)==null?void 0:ae.getIn(["entities",Q]):(0,f.fromJS)({scim_configured:!1})}function ne(K,Q){var ae;return Q?(ae=K.organizationScimMappings)==null?void 0:ae.getIn(["entities",Q]):(0,f.fromJS)({groups:[]})}function Se(K,Q){return K.organizations.getIn(["entities",Q,"error"])}function Pe(K,Q){var ae,de;let H=(ae=K.organizations)==null?void 0:ae.getIn(["entities",Q]);if(H!=null&&H.get("error"))return null;if(H){const C=H.get("id");H=H.merge({accounts:(de=(0,p.L3)(K))==null?void 0:de.filter(Z=>Z.get("organization_id")===C)})}return H}function Le(K,Q){return re(K).find(de=>de.get("id")===Q)}function ve(K,Q){var ae;const de=(ae=K.organizationAccounts)==null?void 0:ae.getIn(["pages",Q]),H=de==null?void 0:de.get("ids");return!H||!(H!=null&&H.size)?(0,f.List)():H&&H.map(C=>K.organizationAccounts.getIn(["entities",C]))}function te(K,Q){return K.organizationAccounts.getIn(["pages",Q,"isFetching"])}function ce(K,Q){var ae;const de=(ae=K.organizationInvoices)==null?void 0:ae.getIn(["pages",Q]),H=de==null?void 0:de.get("ids");if(!(!H||!(H!=null&&H.size)))return H&&H.map(C=>{var Z;return(Z=K.organizationInvoices)==null?void 0:Z.getIn(["entities",C])})}function Ae(K,Q){var ae;return(ae=K.organizationInvoices)==null?void 0:ae.getIn(["pages",Q,"isFetching"])}function h(K,Q){var ae;const de=(ae=K.organizationReceipts)==null?void 0:ae.getIn(["pages",Q]),H=de==null?void 0:de.get("ids");return!H||!(H!=null&&H.size)?null:H&&H.map(C=>{var Z;return(Z=K.organizationReceipts)==null?void 0:Z.getIn(["entities",C])})}function z(K,Q){var ae;return(ae=K.organizationReceipts)==null?void 0:ae.getIn(["pages",Q,"isFetching"])}function le(K,Q){const ae=ve(K,Q);return ae==null?void 0:ae.reduce((H,C)=>(H.bandwidth.value+=C.getIn(["bandwidth_usage","used"])||0,H.bandwidth.limit+=C.getIn(["bandwidth_usage","included"])||0,H.buildMinutes.value+=C.getIn(["build_status","minutes","current"])||0,H.buildMinutes.limit+=C.getIn(["build_status","minutes","included_minutes_with_packs"])||0,H.concurrentBuilds.value+=C.getIn(["build_status","active"])||0,H.concurrentBuilds.limit+=C.get("included_concurrent_builds")||0,H.members+=C.get("used_seats")||0,H),{bandwidth:{value:0,limit:0},buildMinutes:{value:0,limit:0},concurrentBuilds:{value:0,limit:0},members:0})}function Ue(K,Q){const ae=K.get("id"),de=K.get("slug");return(0,S.p5)((H,C,Z)=>Z.organizationCreateAccount(ae,Q).then(()=>{H(k(ae)),H((0,M.VF)(`/organizations/${de}/overview`))}))}function T(K,Q){const ae=K.get("id");return(0,S.p5)((de,H,C)=>C.organizationScimAddMapping(ae,Q).then(()=>{de(W(ae))}))}function G(K,Q){const ae=K.get("id"),de=K.get("slug");return(0,S.p5)((H,C,Z)=>Z.updateOrganization(ae,Q).then(({data:De})=>{const{logo:ye}=Q;ye!==void 0?Z.updateOrganizationLogo(ae,ye).catch(R=>new P.Z(R)):Z.deleteOrganizationLogo(ae).catch(R=>new P.Z(R)),H(d.organizationSuccess(De));const{slug:O}=De;O!==de&&H(L(O)).then(()=>{H((0,o.Ee)(document.location.pathname.replace(`/organizations/${de}/`,`/organizations/${O}/`))),H(J())})}))}function w(K,Q){const ae=K.get("id");return(0,S.p5)((de,H,C)=>C.updateOrganizationPaymentMethod(ae,Q.toJS()).then(({data:Z})=>(de(E.Nw.paymentMethodSuccess(Z)),de((0,E.kC)(Z.id)),(0,f.fromJS)(Z)),Z=>(F().notify(Z,De=>{De.context="organizations \uFE65 updateOrganizationPaymentMethod"}),Promise.reject(Z))))}function ge(K,Q){const ae=K.get("id");return(0,S.p5)((de,H,C)=>C.organizationScimUpdateMapping(ae,Q).then(()=>{de(W(ae))}))}function pe(K){return(0,S.p5)((Q,ae,de)=>de.deleteOrganizationLogo(K.get("id")).then(()=>{Q(L(K.get("slug")))}).catch(H=>new P.Z(H)))}function me(K,Q){const ae=K.get("id");return(0,S.p5)((de,H,C)=>C.organizationScimDeleteMapping(ae,Q).then(()=>{de(W(ae))}))}function Ke(K){const Q=K.get("id");return(0,S.p5)((ae,de,H)=>H.organizationScimDeleteConnection(Q).then(()=>{ae(v(Q))}))}function Ce(K){const Q=K.get("id");return(0,S.p5)((ae,de,H)=>H.organizationScimDeleteConnectionKeepingUsers(Q).then(()=>{ae(v(Q))}))}},52968:(Me,$,e)=>{e.d($,{$9:()=>n,BX:()=>l,DY:()=>t,Nw:()=>S,X_:()=>E,kC:()=>i,nS:()=>u});var c=e(5780),F=e.n(c),f=e(90046),m=e.n(f),M=e(18432),D=e(91800),P=e(941),p=e(64614);const S=(0,M.P)("paymentMethods"),E=(0,M.x)("paymentMethods",S);function o(a){return(0,p.nY)(a)==="zuora"&&a?a.get("id"):"user"}function d(a){return(0,P.p5)((_,r,g)=>{const I=o(a),B=(0,p.oF)(r(),a);return _(S.paymentMethodsRequest(I)),g.paymentMethods(B).then(q=>_(S.paymentMethodsSuccess(I,q.data,q.pagination)))})}function i(a){return(0,P.p5)((_,r,g)=>a?g.paymentMethod(a).then(I=>_(S.paymentMethodSuccess(I.data))):Promise.resolve())}function u(a){return a!=null&&a.getIn(["user_capabilities","billing","r"])?i(a==null?void 0:a.get("payment_method_id")):(0,P.p5)(()=>Promise.resolve())}function l(a,_){return(0,P.p5)((r,g,I)=>I.savePaymentMethod(a.toJS()).then(B=>(r(S.paymentMethodSuccess(B.data)),r(d(_)),r((0,D.vP)()),(0,f.fromJS)(B.data)),B=>(F().notify(B,q=>{q.context="paymentMethods \uFE65 savePaymentMethod"}),Promise.reject(B))))}function n(a,_){return(0,P.p5)((r,g,I)=>I.removePaymentMethod(a).then(()=>{r(d(_)),r((0,D.vP)())}))}function t(a,_){const r=_&&_.get("payment_method_id");return a.paymentMethods.getIn(["entities",r])}function s(a,_){return a.paymentMethods.getIn(["entities",_])}},71791:(Me,$,e)=>{e.d($,{E8:()=>g,GV:()=>o,Gr:()=>u,QK:()=>t,WF:()=>_,bl:()=>n,f6:()=>a,iQ:()=>r});var c=e(90046),F=e.n(c),f=e(18643),m=e(18432),M=e(63851),D=e(941),P=e(34571);const p="list-v2",S={NODE_ENV:"production",VERSION_ID:"64ea131713ef6f476af4b90f",SITE_ID:"5f9562c1-be9c-4898-bc6a-5b40de4e1450",CONTEXT:"production",SIFT_BEACON_KEY:"0593578a91",DISABLE_DATADOG_RUM:!1,DATADOG_RUM_APP_ID:"abb8711a-ca04-44e2-bbd6-df0e07a7f3f8",DATADOG_RUM_CLIENT_TOKEN:"pubd771a23f8cb1e4f45f24b5fd37e11a96",DATADOG_RUM_APP_NAME:"netlify-react-ui",DEVCYCLE_CLIENT_SDK_KEY:"dvc_client_7b35e45b_dd67_444b_b114_46804faa770d_ab0f202",MOCK_API:void 0,REACT_APP_QUIET:void 0,REACT_APP_VERSION_ID:"64ea131713ef6f476af4b90f",APP_ENV:"prod",NETLIFY_API_BASE:void 0,NETLIFY_GRAPHQL_API_BASE:void 0,ACTION_CABLE_URL:"wss://cablecar.services.netlify.com/cable",BUILD_UTC_TIME:1693061967060,SIGNUP_FORM_REDESIGN_PERCENTAGE:100,STRIPE_IDENTITY_VERIFICATION_PUBLIC_KEY:"pk_live_51LpyGQG2IwkHjCivgYP2UkRPU6g8i2vCYfOjXZzPmMU80Krk4h4iSM264No13KYb0ggw6H5HnBBcPYX11AQhTKpy00PDtz409I",NOTRANSLATE_DEBUG:!1}.PLUGINS_URL_OVERRIDE||`https://${p}--netlify-plugins.netlify.app/plugins.json`,E="DEACTIVATED",o="PLUGIN_INSTALL",d=(0,f.Z)(o,(N,L,k)=>({pluginName:N,siteName:L,status:k})),i=(0,m.P)("plugins"),u=(0,m.x)("plugins",i,{key:"package"}),l=N=>{var L;const k=(L=N.compatibility)==null?void 0:L.filter(_e=>!_e.featureFlag);return{...N,compatibility:k!=null&&k.length?k:null}},n=()=>N=>(N(i.pluginsRequest("plugins")),fetch(S).then(L=>{if(!L.ok){const{status:k,statusText:_e}=L;throw new M.Z({status:k,statusText:_e,message:"Error fetching plugins"})}return L.json()}).then(L=>{const k=L.map(l);return N(i.pluginsSuccess("plugins",k))}).catch(L=>N(i.pluginsFailure("plugins",L))));function t(N,L,k,_e=!0){const x=k||[];x.push({package:L});const ee={plugins:x};return(0,D.p5)((J,ie,v)=>v.updateSite(N.get("id"),ee).then(W=>{J(d(L,N.get("name"),"success")),J(P.Nw.siteSuccess(W.data))}).catch(W=>(J(d(L,N.get("name"),"failure")),Promise.reject(new M.Z(W)))))}const s=N=>N.get("status")!==E;function a(N){const L=N.plugins.get("entities");return L==null?void 0:L.filter(s)}function _(N){return N.plugins.getIn(["pages","plugins","isFetching"])}function r(N){return N.plugins.getIn(["pages","plugins","error"])}function g(N,L){return N.plugins.get("entities").find(k=>k&&k.get("package")===L&&k.get("status")!==E)}const I=N=>L=>{const k=N.get(L.get("package"));return(k==null?void 0:k.merge(L))||L},B=(N,L)=>(N==null?void 0:N.get("name"))>(L==null?void 0:L.get("name"))?1:-1,q=(N,L)=>{const k=N.plugins.get("entities");return(L==null?void 0:L.map(I(k)).sort(B))||List()}},43256:(Me,$,e)=>{e.d($,{B$:()=>te,Ce:()=>N,GY:()=>b,I0:()=>j,Pk:()=>I,Qg:()=>ee,Wo:()=>ce,Wq:()=>l,en:()=>Le,oV:()=>Re,pd:()=>g,vD:()=>x,vb:()=>Y,yW:()=>ve});var c=e(5780),F=e.n(c),f=e(18228),m=e(90046),M=e.n(m),D=e(15409),P=e.n(D),p=e(18643),S=e(18432),E=e(63851),o=e(22616),d=e(83360),i=e(65628);const u="REPO_LINK_REQUEST",l="REPO_LINK_SUCCESS",n="REPO_LINK_FAILURE",t="REPO_CREATE_FS",s="REPO_ADD_WORKSPACES",a="REPO_NO_FS",_="REPO_MANUAL_CONFIG",r=(0,S.P)("repos"),g=(0,p.Z)(u,T=>T),I=(0,p.Z)(l,T=>T),B=(0,p.Z)(n,(T,G)=>({full_name:T,error:G})),q=(0,p.Z)(t,(T,G)=>({fs:T,full_name:G})),N=(0,p.Z)(_,(T,G)=>({full_name:T,manual:G})),L=(0,p.Z)(s,(T,G)=>({workspaces:T,full_name:G})),k=(0,p.Z)(a),_e=25;function x({organization:T,hideGitUser:G,page:w,per_page:ge=_e,installationId:pe}){return(0,i.$_)((me,Ke,Ce)=>{if(G&&!T)return Promise.resolve();const K=Ke(),Q=(0,i.z8)(K),ae=(0,i.Lb)(K),de=ae?Ce.searchRepos:Ce.repos;return me(r.reposRequest(T)),de.call(Ce,{search:ae,organization:T,page:w,per_page:ge,installationId:pe,gitUser:Q}).then(H=>me(r.reposSuccess(T,H.data,H.pagination))).catch(H=>{if(Ce&&"checkErrorForInvalidToken"in Ce){const C=Ce.checkErrorForInvalidToken(H);if(C)throw new E.Z(C)}})})}function ee(T,G){const w=T.get("api_id"),ge=T.get("full_name"),pe=T.get("organization_name");return(0,i.$_)((me,Ke,Ce)=>Ce.branches({api_id:w,organization_name:pe,page:G}).then(({data:K,pagination:Q})=>{me(r.repoSuccess({full_name:ge,branches:T.get("branches").push(...K),branchPagination:Q}))}))}const J=async({fs:T,repoFiles:G,baseDir:w})=>{const pe=G.filter(me=>(me=me.replace(w,""),o.yl.includes(me))).map(async me=>{const Ke=await T.readFile(me);return[me,Ke]});return Promise.allSettled(pe).then(me=>me.reduce((Ke,Ce)=>{if(Ce.status==="rejected")return Ke;const[K,Q]=Ce.value;return{...Ke,[K.replace(w,"")]:Q}},{}))},ie=async(T,G)=>{try{return(await T.readDir(G)).map(ge=>T.join(G,ge))}catch{return[]}},v=T=>T?T.at(-1)==="/"?T:`${T}/`:"";function W(T,G){return G.map(w=>{var ge,pe,me,Ke,Ce;const K=(me=(pe=(ge=T.frameworks)==null?void 0:ge.get(w))==null?void 0:pe[0])==null?void 0:me.toJSON(),Q={path:w,name:(Ce=(Ke=T.workspace)==null?void 0:Ke.getPackage(w))==null?void 0:Ce.name};return K&&(Q.framework={id:K.id,logo:K.logo}),Q})}async function oe(T,G){const w=T.join(G,"netlify.toml");try{return await T.readFile(w),w}catch{return null}}const U=["@netlify/plugin-nextjs"],V=(T=[],G=[])=>G.reduce((w,ge)=>T.includes(ge)&&!U.includes(ge)?w:[...w,{package:ge}],[]);async function fe({fs:T,dispatch:G,getState:w,configFilePath:ge,packagePath:pe,baseDir:me,cloningRepo:Ke=!1,flags:Ce={}}){var K;if(h(w(),T.details.full_name))return;const de=(((K=z(w(),T.details.full_name))==null?void 0:K.toJS())||{}).package_path!==pe,H=new f.IK(T,de?"":me||"","/").setNodeVersion("18.0.0");H.events.on("detectWorkspaces",C=>{C&&G(L(W(H,(C==null?void 0:C.packages.map(Z=>Z.path))||[]),T.details.full_name))}),H.events.on("detectSettings",async C=>{var Z,De,ye,O,R;const se=C.map(({packagePath:We})=>We).filter(Boolean),Ie=pe||((Z=C[0])==null?void 0:Z.packagePath);if(Ie!=null&&Ie.length){C=C.filter(Ve=>Ve.packagePath===Ie);const We=await oe(T,Ie);ge=We!=null?We:ge}const he=await(0,f.t0)(H,ge),Oe=P()(C[0],he);G(L(W(H,[...new Set(se)]),T.details.full_name)),G(r.repoSuccess({full_name:T.details.full_name,...Ce.project_druddigon_ui&&{configFilePath:ge},settings:{package_path:Oe==null?void 0:Oe.packagePath,cmd:Oe==null?void 0:Oe.buildCommand,dir:(De=Oe.baseDirectory)!=null&&De.length&&((ye=Oe.dist)!=null&&ye.length)?T.relative(Oe.baseDirectory,Oe.dist):Oe==null?void 0:Oe.dist,base:de?Oe.baseDirectory:me!=null?me:Oe==null?void 0:Oe.baseDirectory,plugins:V(Oe.plugins_from_config_file,Oe.plugins_recommended),plugins_installed:Oe.plugins_from_config_file,plugins_recommended:Oe.plugins_recommended,functions_dir:Oe.functionsDir,framework:(O=Oe.framework)==null?void 0:O.id,frameworkName:(R=Oe.framework)==null?void 0:R.name,template:Oe.template}}))}),await H.getBuildSettings()}const re=async({fs:T,baseDir:G,configFilePath:w,cloningRepo:ge=!1})=>{try{const pe=w!=null&&w.length&&w.endsWith("netlify.toml")?w.replace(/\/?netlify.toml$/,""):G,me=await ie(T,pe),Ke=await J({fs:T,repoFiles:me,baseDir:v(pe)}),{settings:Ce,warning:K}=await(0,o.ZP)(me,Ke,ge);return{settings:Ce,warning:K}}catch(pe){return F().notify(pe,me=>{var Ke;me.context="heuristicsForRepoSettings",me.addMetadata("repo",{name:T.details.full_name,branch:T.details.branch,provider:(Ke=T.git)==null?void 0:Ke.provider}),me.severity="info"}),{settings:{}}}};function Re(T){const G=T.get("api_id"),w=T.get("full_name"),ge=T.get("default_branch"),pe=T.get("organization_name");return(0,i.$_)(async(me,Ke,Ce)=>{const{data:K,pagination:Q}=await Ce.branches({api_id:G,organization_name:pe}).catch(de=>{F().notify(de,H=>{H.context="prepareRepo",H.addMetadata("repo",{name:w,branch:ge,provider:Ce.provider}),H.severity="info"}),me(r.repoFailure(w,new E.Z(`We couldn\u2019t access the repository ${w}. This could be because the repository is empty or disabled.`)))}),ae=new d.R(Ce,{organization_name:pe,api_id:G,full_name:w,branch:ge});me(q(ae,w)),me(r.repoSuccess({full_name:w,branches:K,branchPagination:Q}))})}function Y(T,G={}){return ne(T,async(w,ge,pe)=>{const me=pe.details.full_name;try{if(G!=null&&G.project_rhyhorn_ui)await fe({fs:pe,getState:ge,dispatch:w,flags:G});else{const Ke=await re({fs:pe,baseDir:""});w(r.repoSuccess({full_name:me,...Ke}))}}catch(Ke){Ke instanceof Error&&F().notify(Ke,Ce=>{Ce.context="prepareRepo",Ce.addMetadata("repo",{name:pe,branch:pe.details.branch,provider:pe.git.provider}),Ce.severity="info"}),w(r.repoFailure(me,new E.Z(`We couldn\u2019t access the repository ${me}. This could be because the repository is empty or disabled.`)))}})}function b(T,G,w={}){return(G?pe=>(0,i.Fq)(G,pe):i.$_)((pe,me,Ke)=>(pe(r.repoRequest(T)),Ke.repo(T).then(({data:Ce})=>{const K=new d.R(Ke,{organization_name:Ce.organization_name,api_id:Ce.api_id,full_name:T,branch:Ce.default_branch});return re({fs:K,baseDir:"",cloningRepo:!0}).then(Q=>pe(r.repoSuccess({...Ce,...Q})))}).catch(Ce=>{const K=new E.Z(Ce);throw pe(r.repoFailure(T,K)),K})))}function j(T,G,w={}){return ne(T,async(ge,pe,me)=>{var Ke;const Ce=me.details.full_name;return me.details.branch!==G&&(ge(r.repoSuccess({full_name:Ce,settings:{},workspaces:void 0,configFilePath:void 0})),me.changeBranch(G)),(Ke=w.flags)!=null&&Ke.project_rhyhorn_ui?fe({fs:me,dispatch:ge,getState:pe,configFilePath:w.configFilePath,baseDir:w.baseDir,packagePath:w.packagePath,flags:w.flags}):re({fs:me,configFilePath:w.configFilePath,baseDir:w.baseDir||""}).then(K=>ge(r.repoSuccess({full_name:Ce,...K}))).catch(K=>ge(r.repoFailure(Ce,new E.Z(`We couldn\u2019t access the branch ${G} on repository ${Ce}. This could be because some files have format errors.`))))})}function ne(T,G){return async(w,ge)=>{const pe=Ae(ge(),T.get("full_name"));return pe?G(w,ge,pe):w(k())}}function Se(T=[],G=[]){const w=new Map(T.reduce((ge,pe)=>ge.set(pe.path,pe),new Map));for(const ge of G)w.has(ge.path)?w.set(ge.path,P()(w.get("w.path"),ge)):w.set(ge.path,ge);return[...w.values()]}function Pe(T,G){switch(G.type){case u:return T.set("linking",!0).setIn(["entities",G.payload,"linking"],!0);case n:return T.set("linking_error",G.payload.error).setIn(["entities",G.payload.api_id,"link_error"],r.payload.error);case l:return T.set("linking",null).setIn(["entities",G.payload,"linking"],null);case t:return T.setIn(["entities",G.payload.full_name,"fs"],G.payload.fs);case s:return T.updateIn(["entities",G.payload.full_name,"workspaces"],ge=>(0,m.fromJS)(Se(ge==null?void 0:ge.toJS(),G.payload.workspaces)));case _:let w=T;return G.payload.manual&&(w=w.setIn(["entities",G.payload.full_name,"settings"],(0,m.fromJS)({base:"",cmd:"",package_path:"",dir:""}))),w.setIn(["entities",G.payload.full_name,"manual"],G.payload.manual);default:return null}}const Le=(0,S.x)("repos",r,{key:"full_name",handler:Pe});function ve(T,G){const w=T.repos.getIn(["pages",G,"ids"]);return w&&w.map(ge=>ce(T,ge))}function te(T,G){return T.repos.getIn(["pages",G])}function ce(T,G){return T.repos.getIn(["entities",G])}function Ae(T,G){return ce(T,G).get("fs")}function h(T,G){const w=ce(T,G);return(w==null?void 0:w.get("manual"))||!1}function z(T,G){const w=ce(T,G);return(w==null?void 0:w.get("settings"))||(0,m.fromJS)({})}function le(T,G){return ce(T,G).get("workspaces")}function Ue(T,G){return ce(T,G).get("isFetching")}},87430:(Me,$,e)=>{e.d($,{SE:()=>S,XK:()=>p,Zz:()=>E,e7:()=>l,jW:()=>i,rB:()=>P});var c=e(68854),F=e(40917),f=e(91800),m=e(941),M=e(60653),D=e(93716);const P="next";function p({account:n,url:t,data:s}){const a=n.get("slug");return(0,m.p5)((_,r,g)=>g.updateSamlConfig(a,t,s).then(I=>_((0,f.Mx)(a))))}function S(n){const t=n.get("slug");return(0,m.p5)((s,a,_)=>_.deleteSamlConfig(t).then(r=>s((0,f.Mx)(t))))}function E(n,t){return(0,m.p5)((s,a,_)=>_.getSamlStartUrl(n).then(r=>{const g=new URL(r.data.sp_start_url);g.searchParams.append("redirect",window.location.origin),g.searchParams.append("tracking_session_id",t),document.location=g.href}))}function o({user:n,slug:t}){return(0,m.p5)((s,a,_)=>_.user().then(r=>{n={...r.data,...n};const g=t?`/teams/${t}`:"/";s({type:M.Wb}),s((0,M.pH)(n)),s((0,D.Ee)(g))}))}function d({user:n,slug:t,redirect:s}){return(0,m.p5)((a,_,r)=>r.user().then(g=>{n={...g.data,...n},a({type:M.Wb}),a((0,M.pH)(n)),a((0,D.Ee)(s))}))}function i({token:n,slug:t}){return async(s,a)=>{window.location.hash="";const _={access_token:n};await(0,F.sV)({access_token:_.access_token});const r=(0,c.St)(P);(0,c.lD)(P),r&&(0,M.Bh)(r)?s(d({user:_,slug:t,redirect:r})):s(o({user:_,slug:t}))}}function u({user:n,saml_slug:t}){return(0,m.p5)((s,a,_)=>_.user().then(r=>{n={...r.data,...n};const g=t?`/teams/${t}`:"/";s({type:M.Wb}),s((0,M.pH)(n)),s((0,D.Ee)(g))}))}function l({access_token:n,saml_slug:t}){return async(s,a)=>{window.location.hash="";const _={access_token:n};await(0,F.sV)({access_token:_.access_token}),s((0,M.pH)(_)),s(u({user:_,saml_slug:t}))}}},67321:(Me,$,e)=>{e.d($,{$b:()=>D,wT:()=>P});var c=e(63851),F=e(91800),f=e(941),m=e(34571);const M=(p,S)=>{const E=[],o={instance_url:{gitlab_self_hosted:"There is a problem with your instance URL; please review it.",github_enterprise:"There is a problem with your instance URL; please review it."},app_id:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},pem_file:{github_enterprise:"Your app ID and/or private key are incorrect; please review them."},client_id:{gitlab_self_hosted:"Your app ID is incorrect; please review it.",github_enterprise:"Your client ID is incorrect; please review it."},client_secret:{gitlab_self_hosted:"Your secret is incorrect; please review it.",github_enterprise:"Your client secret is incorrect; please review it."},webhook_secret:{github_enterprise:"Your webhook secret is incorrect; please review it."}};for(const d of Object.keys(p))o[d]&&E.push(o[d][S]);return E.length?E.length===1?`**Connection failed.** ${E[0]}`:`**Connection failed:** 

* `+E.join(`
* `):p},D=(p,S,E)=>{const o=p.get("id"),d=p.get("slug");return(0,f.p5)((i,u,l)=>l.updateSelfHostedGitConfig(o,S,E).then(({data:n})=>{i((0,F.Mx)(d)),i((0,m.KZ)({accountSlug:d}))}).catch(n=>{const t=M(n,E);throw new c.Z(t)}))},P=(p,S)=>{const E=p.get("id"),o=p.get("slug");return(0,f.p5)((d,i,u)=>u.deleteSelfHostedGitConfig(E,S).then(({data:l})=>{d((0,F.Mx)(o)),d((0,m.KZ)({accountSlug:o}))}).catch(l=>{throw new c.Z(l)}))}},57240:(Me,$,e)=>{e.d($,{G6:()=>i,M2:()=>o,Pg:()=>l,RA:()=>a,k3:()=>t,k4:()=>u,uZ:()=>S,wo:()=>n});var c=e(18432),F=e(40917),f=e(941),m=e(60653),M=e(99647),D=e(44195),P=e(34571);const p=(0,c.P)("services"),S=(0,c.x)("services",p);function E(_,r){return _.services.getIn(["entities",r])}function o(_,r){const g=_.services.getIn(["pages",r.get("id"),"ids"]);return g&&g.map(I=>E(_,I))}function d(_){return _.get("service_path").replace("/.netlify/","")}function i(_,r,g={}){return(0,f.p5)((I,B,q)=>q.createService(_.get("id"),r,g).then(N=>p.serviceSuccess(N.data)).then(()=>I(u(_))))}function u(_){const r=_.get("id");return(0,f.p5)((g,I,B)=>B.services(r).then(q=>g(p.servicesSuccess(r,q.data))))}function l(_,r,g){return(0,f.p5)((I,B,q)=>q.updateService(_.get("id"),d(r),r.get("id"),{config:g}).then(()=>I(u(_))))}function n(_,r){return(0,f.p5)((g,I,B)=>B.deleteService(_.get("id"),d(r),r.get("id")).then(()=>g(u(_))))}function t(_,r){return(0,f.vd)((g,I,B,q)=>{switch(r){case"cms":return Promise.all([g((0,D.XD)(_,{disable_signup:!0})),g(i(_,"git",{[q.provider]:{access_token:q.token,repo:_.getIn(["build_settings","repo_url"]).replace(/^https:\/\/[^/]+\//,"")}}))]).then(N=>g(s(_)));case"fauna":return g(i(_,"fauna",{}));case"nimbella":return g(i(_,"nimbella",{}));default:return Promise.resolve()}})}function s(_){return(r,g)=>{const I=g(),B=(0,m.HF)(I),q={email:B.get("email"),data:{full_name:B.get("full_name")}};return _=(0,P.lH)(I,_.get("name")),r((0,D.cG)(_,[q]))}}function a(_,r){return(0,f.p5)((g,I,B)=>{const q=I(),N=(0,M.Ji)(q),L=(0,M.vv)(q),k=new F.ZP({site_id:N,base_url:L});return new Promise((_e,x)=>k.authenticate({provider:_,scope:r},(ee,J)=>{ee?x(ee):_e(J.token)}))})}},34571:(Me,$,e)=>{e.d($,{$2:()=>Q,CJ:()=>Qe,CX:()=>ae,Cu:()=>Z,EQ:()=>ge,Er:()=>ke,G$:()=>st,GQ:()=>mt,Go:()=>Y,IS:()=>ye,KZ:()=>se,L3:()=>he,LR:()=>ie,LZ:()=>J,Mo:()=>me,Nw:()=>re,OH:()=>de,OK:()=>yt,Pr:()=>ot,UJ:()=>dt,UQ:()=>De,Un:()=>Rt,VI:()=>ce,WV:()=>Ke,ZO:()=>H,Z_:()=>Oe,aO:()=>pe,c7:()=>C,cP:()=>Ot,eZ:()=>v,f:()=>ee,gG:()=>Mt,hK:()=>Ct,lH:()=>et,mV:()=>lt,mY:()=>pt,mh:()=>Dt,n:()=>vt,rC:()=>St,tI:()=>ft,tc:()=>It,u:()=>At,wM:()=>O,xb:()=>We});var c=e(90046),F=e.n(c),f=e(54969),m=e.n(f),M=e(19271),D=e(18643),P=e(18432),p=e(19349),S=e(63851),E=e(68854),o=e(88317),d=e(95972),i=e(68187),u=e(941),l=e(60653),n=e(84673),t=e(86025),s=e(38086),a=e(65628),_=e(43256),r=e(57240),g=e(93716);const I="BRANCHES_SUCCESS",B="DEPLOY_KEY_SUCCESS",q="DNS_ZONE_SUCCESS",N="ALL_DNS_ZONES_SUCCESS",L="SITE_CREATED",k="SITES_CLEAR_PAGES",_e="SNIPPETS_REQUEST",x="SNIPPETS_SUCCESS",ee="DEPLOY_DONE",J="DEPLOY_ERROR",ie="DIRECT_DEPLOY_LANDING",v="DIRECT_DEPLOY_SUCCESS",W="SUBSCRIPTION_CANCELED",oe="USAGE_RECORDS_SUCCESS",U="USAGE_RECORD_SUCCESS",V="APP_INSTALL_SUCCESS",fe="DNS_CONFIG_CHECKED",re=(0,P.P)("sites"),Re=(0,D.Z)(L,A=>A),Y=(0,D.Z)(k),b=(0,D.Z)(_e,A=>A),j=(0,D.Z)(x,(A,y)=>({name:A,snippets:y})),ne=(0,D.Z)(I,(A,y)=>({name:A,branches:y})),Se=(0,D.Z)(q,(A,y)=>({name:A,dnsZone:y})),Pe=(0,D.Z)(N,(A,y)=>({name:A,dnsZones:y})),Le=(0,D.Z)(B,(A,y)=>({name:A,deployKey:y})),ve=(0,D.Z)(ee),te=(0,D.Z)(J,A=>A),ce=(0,D.Z)(ie,()=>{}),Ae=(0,D.Z)(v,A=>A),h=(0,D.Z)(W,A=>A),z=(0,D.Z)(oe,(A,y)=>({name:A,records:y})),le=(0,D.Z)(U,(A,y)=>({name:A,record:y})),Ue=(0,D.Z)(V,(A,y)=>({name:A,installationId:y})),T=(0,D.Z)(fe,(A,y)=>({name:A,dnsVerified:y})),G=5,w=(0,c.Map)({isFetching:!0});function ge(A){return(0,u.p5)((y,X,ue)=>(y(re.siteRequest(A)),ue.site(A).then(Ee=>y(re.siteSuccess(Ee.data))).catch(Ee=>y(re.siteFailure(A,Ee))).then(Ee=>et(X(),A))))}function pe(A,y){return(X,ue)=>fetch(`/.netlify/functions/verify?domain=${y}`).then(Ee=>Ee.json().then(Te=>{if(!Ee.ok)throw new S.Z(Te.error||"Error fetching DNS config");return Te})).then(Ee=>{const Te={glo:"global",global:"global",packet:"packet",pkt:"packet",reg:"regular",regular:"regular"},Be=Ee.results.map(Fe=>Fe.cdnTier),ze=A.getIn(["capabilities","cdn_tier"]);ze==="custom"?X(T(A.get("name"),"custom")):Be.every(Fe=>["global","regular","packet"].includes(Fe))&&(Be.every(Fe=>Fe===Te[ze]||Fe==="packet")?X(T(A.get("name"),"success")):X(T(A.get("name"),"failed")))}).catch(Ee=>console.error("Error while checkDNSconfig:",Ee))}function me(A){return(0,u.p5)((y,X,ue)=>ue.siteById(A).then(Ee=>y(re.siteSuccess(Ee.data))).catch(Ee=>{y(re.siteFailure(A,Ee))}))}function Ke(A){return(0,u.p5)((y,X,ue)=>ue.branches(A.get("id")).then(Ee=>(y(ne(A.get("name"),Ee.data)),gt(X(),A.get("name")))).catch(Ee=>Ee&&Ee.code===401?(y(ne(A.get("name"),[])),gt(X(),A.get("name"))):Promise.reject(Ee)))}const Ce=({customApexDomain:A,customSubdomain:y,allDnsZones:X})=>{const ue=(y==null?void 0:y.split("."))||[],Ee=[];return ue.forEach((Te,Be)=>{if(Be===ue.length-1)Ee.push(`${Te}.${A}`);else{const ze=ue.slice(Be+1);Ee.push(`${Te}.${ze.join(".")}.${A}`)}}),Ee.push(A),K(Ee,X)};function K(A,y){if(A.length===0||y.length===0)return;const X=y.find(ue=>ue.name===A[0]);return X||(A.shift(),K(A,y))}function Q(A,y){var X;const ue=A.get("custom_domain"),Ee=((X=A.get("domain_aliases"))==null?void 0:X.toJS())||[],Te=A.get("deploy_preview_custom_domain"),Be=A.get("branch_deploy_custom_domain"),ze=[ue,Te,Be,...Ee].filter(Ne=>!!Ne),Fe=y&&y.get("slug")||null;return(0,u.p5)((Ne,Ge,Je)=>Je.dnsZones(Fe).then(({data:it})=>{const we={};ze.forEach(async He=>{await(0,d.hh)(He).then(xe=>{const $e=Ce({customApexDomain:`${xe==null?void 0:xe.domain}.${xe==null?void 0:xe.tld}`,customSubdomain:xe==null?void 0:xe.subdomain,allDnsZones:it});$e?(we[He]=$e,Ne((0,t.pZ)($e.name))):we[He]={error:"DNS zone not found",name:He}}),Ne(Pe(A.get("name"),we))})}))}function ae(A,y){const X=y.get("dns_zone");return X==null?void 0:X.set("records",(0,t.od)(A,X.get("name")))}function de(A,y){const X=y.get("dns_zones");if(!X)return(0,c.fromJS)({});const ue=X.toJS();return Object.keys(ue).forEach(Ee=>{ue[Ee].records=(0,t.od)(A,ue[Ee].name)}),(0,c.fromJS)(ue)}function H(A){return(0,u.p5)((y,X,ue)=>ue.siteUsage(A.get("id")).then(Ee=>y(z(A.get("name"),Ee.data))))}function C(A,{id:y,plan:X}){return(0,u.p5)((ue,Ee,Te)=>Te.changeAddonPlan(y,X,A.get("id")).then(Be=>ue(le(A.get("name"),Be.data))))}function Z(A){return(0,u.p5)((y,X,ue)=>ue.siteSnippets(A.get("id")).then(Ee=>y(j(A.get("name"),Ee.data))))}function De(A,y){return(0,u.p5)((X,ue,Ee)=>Ee.siteSnippetRemove(A.get("id"),y.get("id")).then(Te=>X(Z(A))))}function ye(A,y){return(0,u.p5)((X,ue,Ee)=>Ee.siteSnippetAdd(A.get("id"),y).then(Te=>X(Z(A))))}function O(A){return(0,u.p5)((y,X,ue)=>{const Ee=et(X(),A);if(!Ee||Ee.get("screenshot_fetching")||Ee.get("isFetching"))return;y(re.siteSuccess({name:A,screenshot_fetching:!0}));let Te=0;const Be=()=>(Te++,new Promise((ze,Fe)=>{ue.site(A).then(Ne=>{Ne.data.screenshot_url?ze(y(re.siteSuccess(Ne.data))):Te<=5&&setTimeout(Be,1e3)})}));return Be()})}function R(A={}){return`sites-${A.accountSlug}${A.searchTerm?`-${A.searchTerm}`:""}`}function se(A){const y=R(A);return(0,u.p5)((X,ue,Ee)=>(X(re.sitesRequest(y)),Ee.sites(A).then(Te=>X(re.sitesSuccess(y,Te.data,Te.pagination)))))}async function Ie(A,y={},X){if(Object.keys(y).length>0){try{await X.createEnvVars({accountId:A.account_slug,siteId:A.id,envVars:(0,p.EJ)(y)})}catch{}return A}return A}function he(A,y){const X=A.get("name");return(0,u.p5)((ue,Ee,Te)=>Te.updateSite(A.get("id"),y).then(Be=>{if(ue(Y()),ue(re.siteSuccess(Be.data)),Be.data.name!==X){const ze=window.location.pathname.replace(`/sites/${X}/`,`/sites/${Be.data.name}/`);ue((0,g.Ee)(ze))}return et(Ee(),X)}).catch(Be=>{var ze,Fe;if((ze=Be.errors)!=null&&ze.branch_deploy_custom_domain||(Fe=Be.errors)!=null&&Fe.deploy_preview_custom_domain){const Ne=(0,i.TQ)(Be.errors);if(Ne)throw new S.Z(Ne)}throw typeof Be.errors=="string"?new S.Z({message:Be.errors}):Be}))}function Oe(A){return(0,u.p5)((y,X,ue)=>ue.unlinkSiteRepository(A).then(Ee=>(y(Y()),y(re.siteSuccess(Ee.data)))))}function We(A){return(0,u.p5)((y,X,ue)=>ue.deleteSite(A.get("id")).then(Ee=>{y(Y()),y((0,M.VF)("/"))}))}function Ve(A){return(0,u.p5)((y,X,ue)=>(0,a.$_)((Ee,Te,Be)=>A(y,X,ue,Be))(y,X))}const qe=A=>{var y;const X=(y=A.getIn(["settings","plugins"]))==null?void 0:y.toJS();return X!=null&&X.length?X:[]},Xe=A=>!(o.Lz[A]===o.Lz.azure_devops||o.Lz[A]===o.Lz.gitlab||o.Lz[A]===o.Lz.gitlab_self_hosted);function ke(A,y,X,ue=""){const Ee=y.get("api_id"),Te=y.get("full_name"),Be=y.get("full_name_encoded"),ze=y.get("private"),Fe=y.get("installation_id"),Ne=y.get("owner_type"),Ge=X.account_slug,Je=y.get("project_id"),it=y.get("organization_name");return Ve((we,He,xe,$e)=>{const Ye=$e.provider===o.Lz.github_app?o.Lz.github:$e.provider,be=He().git,je=o.Lz[Ye]===o.Lz.azure_devops,at=o.Lz[Ye]===o.Lz.gitlab||o.Lz[Ye]===o.Lz.gitlab_self_hosted,ut=o.Lz[Ye]===o.Lz.bitbucket||o.Lz[Ye]===o.Lz.bitbucket_self_hosted,ct=Xe(Ye),tt={provider:Ye,installation_id:Fe,id:y.get("id"),owner_type:Ne,repo:Be||Te,private:ze,...X};je&&(tt.azure_refresh_token=be.get("refreshAccessToken")),at&&(tt.gitlab_refresh_token=be.get("refreshAccessToken")),ut&&(tt.bitbucket_refresh_token=be.get("refreshAccessToken")),delete tt.account_slug;const{env:Ut}=tt;delete tt.env;const Tt=A?Ze=>xe.updateSite(A.get("id"),Ze):Ze=>xe.createSite({account_slug:Ge,...Ze,created_via:ue});return we((0,_.pd)(Te)),(Fe||je?Promise.resolve():xe.createDeployKey().then(Ze=>$e.addDeployKey(Ee,Ze.data,!0,y.get("organization_name"))).catch(Ze=>{var nt;const Et=(nt=$e==null?void 0:$e.checkErrorForInvalidToken)==null?void 0:nt.call($e,Ze);throw Et?new S.Z(Et):new S.Z("We couldn\u2019t set up continuous deployment for this repository. This typically happens when you don\u2019t have admin rights to the repository.")})).then(Ze=>Tt({repo:{...tt,deploy_key_id:Ze&&Ze.id},...ct&&{default_hooks_data:Fe?{}:{access_token:$e.token}},plugins:qe(y)})).then(Ze=>$e.addWebhook({api_id:Ee,site:Ze.data,organization_name:it,project_id:Je})).then(async Ze=>await Ie(Ze,Ut,xe)).then(Ze=>xe.deploys(Ze.id,{page:1,per_page:1}).then(nt=>(we((0,l.fq)()),we((0,_.Pk)(Te)),we(Y()),we(re.siteSuccess(Ze)),we(n.Nw.deploysSuccess(Ze.id,nt.data,[])),{site:Ze,deploy:nt.data[0]})))})}function Qe(A){const y={};return A.forEach(X=>{y[X.path]=X.sha}),y}function rt(A){const y={};return A.forEach(X=>{y[X]=!0}),y}function ot(A,y,X,ue){const Ee=rt(y.required),Te=m()(G);return Promise.all(X.map(Be=>Ee[Be.sha]&&Te(()=>A.uploadFile(y.deploy_id||y.id,Be.path,Be.content,ue))).filter(Boolean))}function lt(A,y,X=!1){const ue=A.get("id"),Ee=A.get("name"),Te=Qe(y);return(0,u.p5)((Be,ze,Fe)=>Fe.createDeploy(ue,{files:Te}).then(Ne=>{const Ge=Ne.data;return Be(n.Nw.deploysSuccess(ue,[Ge])),(0,E.D$)("dropSiteName",Ee),(0,E.D$)("dropDeployId",Ge==null?void 0:Ge.id),Ge}).then(Ne=>ot(Fe,Ne,y).then(()=>Fe.waitForDeploy(Ne.id)).then(Ge=>Ge.data)).then(Ne=>Fe.site(Ee).then(Ge=>{Be(Y()),Be(re.siteSuccess(Ge.data)),Be(n.Nw.deploysSuccess(ue,[Ne]))}).then(Ge=>{if(X)Be(O(A.get("name"))),Be((0,M.VF)(`/drop/${A.get("name")}`));else{let Je=`/sites/${Ee}`;Ne!=null&&Ne.id&&(Je+=`/deploys/${Ne==null?void 0:Ne.id}`),Be((0,M.VF)(Je)),(0,s.Te)()}return Ge})))}function dt(A,y=""){return(0,u.p5)((X,ue,Ee)=>Ee.createSite({account_slug:A,created_via:y}).then(({data:Te})=>(X(re.siteSuccess(Te)),et(ue(),Te.name))))}function st(){return(0,u.p5)((A,y,X)=>X.createDeployKey().then(ue=>ue.data).catch(ue=>{throw new S.Z("Error generating a new deploy key.",ue)}))}function St(A,y){return(0,u.p5)((X,ue,Ee)=>Ee.getDeployKey(A).then(Te=>X(Le(y.get("name"),Te.data))).catch(Te=>{throw new S.Z("Error getting the deploy key.",Te)}))}function pt(A,y){const X=y.get("name");return A.sites.getIn(["entities",X]).get("deploy_key")||null}function ft(A,y,X,ue,Ee=!1,Te=""){const Be=y.get("default_branch"),ze={path:y.get("full_name"),slug:y.get("full_name").replace(/\//,"-"),authorized_url:`https://${y.get("provider")}.com/${y.get("full_name")}`,branch:Be},Fe=y.get("settings").toJS(),{env:Ne}=Fe;delete Fe.env;const Ge={name:X,private:Ee};return Ve((Je,it,we,He)=>{Je((0,_.pd)(X));const xe=Xe(He.provider);return we.createTemplate(ze).then($e=>$e.data).then($e=>He.createRepo(Ge).then(Ye=>we.createDeployKey().then(be=>be.data).then(be=>He.addDeployKey(Ye.full_name,be,!1,y.get("organization_name"))).then(be=>we.createSite({account_slug:A,no_initial_build:!0,template_id:$e.id,repo:{provider:He.provider,branch:Be,id:Ye.id,repo:Ye.full_name,deploy_key_id:be.id,...Fe,private:Ye.private},...xe&&{default_hooks_data:{access_token:He.token}},plugins:qe(y),created_via:Te}).then(je=>je.data)).then(be=>He.addWebhook({api_id:Ye.api_id,site:be,organization_name:y.get("organization_name")})).then(async be=>await Ie(be,Ne,we)).then(be=>Pt(be,y.getIn(["settings","template","incoming-hooks"])||[],we)).then(be=>Je((0,r.k3)((0,c.fromJS)(be),ue)).then(je=>be)).then(be=>we.triggerDeploy(be.id,!1,$e.id).then(je=>({site:be,build:je}))).then(({site:be,build:je})=>{var at,ut;Je((0,_.Pk)(Ye.full_name)),Je(Ae(be)),Je(ge(be.name));let ct=`/sites/${be.name}`;(at=je==null?void 0:je.data)!=null&&at.deploy_id&&(ct+=`/deploys/${(ut=je==null?void 0:je.data)==null?void 0:ut.deploy_id}`),Je((0,g.Ee)(ct))})))})}function mt(A,y){return(0,u.p5)((X,ue,Ee)=>(X(re.siteRequest(A.get("name"))),Ee.transferSite(A.get("id"),y.get("id")).then(Te=>(X(Y()),X(re.siteSuccess(Te.data))))))}function Pt(A,y,X){return y.map(ue=>X.addBuildHook(A.id,{title:ue})),A}function Dt(A,y){return(X,ue)=>X(Ue(A.get("name"),y))}const It=(0,P.x)("sites",re,{key:"name",handler:(A,y)=>{switch(y.type){case k:return A.delete("pages");case _e:return A.setIn(["entities",y.payload,"snippets","isFetching"],!0);case x:return A.setIn(["entities",y.payload.name,"snippets"],(0,c.fromJS)(y.payload.snippets));case I:return A.setIn(["entities",y.payload.name,"branches"],(0,c.fromJS)(y.payload.branches));case B:return A.setIn(["entities",y.payload.name,"deploy_key"],y.payload.deployKey.public_key);case q:return A.setIn(["entities",y.payload.name,"dns_zone"],(0,c.fromJS)(y.payload.dnsZone));case N:return A.setIn(["entities",y.payload.name,"dns_zones"],(0,c.fromJS)(y.payload.dnsZones));case W:return A.deleteIn(["entities",y.payload.getIn(["site","name"]),"paid_individual_site_subscription"]);case oe:return A.setIn(["entities",y.payload.name,"plans"],(0,c.fromJS)(y.payload.records).reduce((X,ue)=>X.set(ue.get("type"),ue),(0,c.Map)()));case U:return A.updateIn(["entities",y.payload.name],X=>X.setIn(["plans",y.payload.record.type],(0,c.fromJS)(y.payload.record)));case fe:return A.updateIn(["entities",y.payload.name],X=>X.set("dnsVerified",y.payload.dnsVerified));case V:return A.setIn(["entities",y.payload.name,"build_settings","installation_id"],y.payload.installationId);default:return null}}});function Ot(A){return(0,u.ac)(A).sites}function et(A,y,X=!1){const ue=A.sites.getIn(["entities",y]);return ue?ue&&ue.get&&ue.get("id")?ue:X?ue.get&&ue||w.set("name",y):null:null}function Mt(A,y){return A.sites.get("entities").find(X=>X.get("id")===y)}function _t(A,y){const X=Number(y.page)||1,ue=A.sites.getIn(["pages",R(y)]),Ee=(ue==null?void 0:ue.get("current"))||1;return!(ue!=null&&ue.get("isFetching"))&&Ee===X?ue:null}function At(A,y){const X=_t(A,y);return X==null?void 0:X.get("ids").map(ue=>et(A,ue))}function vt(A,y={}){var X;return(X=A.sites)==null?void 0:X.getIn(["pages",R(y),"isFetching"])}function yt(A,y={}){return _t(A,y)}function ht(A,y){return y&&y.get("branches")}function gt(A,y){var X;return(X=et(A,y))==null?void 0:X.get("branches")}function Rt(A,y){const X=ht(A,y),ue=y.getIn(["build_settings","repo_branch"]),Ee=X&&X.map(Te=>Te.get("name")).filter(Te=>Te!==ue);return Ee&&Ee.unshift(ue)}function Lt(A){return A.sites.get("search")}const Ct=A=>y=>y(re.siteSuccess(A))},88677:(Me,$,e)=>{e.d($,{B2:()=>t,Sw:()=>B,XU:()=>L,Z:()=>N,_d:()=>_e,as:()=>r,eA:()=>q,iS:()=>I,il:()=>g,oB:()=>k,oN:()=>a,sQ:()=>_,vy:()=>n,z4:()=>s});var c=e(90046),F=e.n(c),f=e(18643),m=e(63851),M=e(941);const D="SLACK_WORKSPACE_LOADING",P="SLACK_WORKSPACE_SUCCESS",p="SLACK_SUBSCRIPTIONS_LOADING",S="SLACK_SUBSCRIPTIONS_SUCCESS",E="SLACK_CHANNELS_SUCCESS",o=(0,f.Z)(D,x=>({loading:x})),d=(0,f.Z)(P,(x,ee)=>({accountId:x,data:ee})),i=(0,f.Z)(p,x=>({loading:x})),u=(0,f.Z)(S,(x,ee)=>({accountId:x,data:ee})),l=(0,f.Z)(E,(x,ee)=>({accountId:x,data:ee}));function n(x=(0,c.Map)(),ee){switch(ee.type){case D:{const{loading:J}=ee.payload;return x.setIn(["entities","loading"],J)}case P:{const{accountId:J,data:ie}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ie.workspace))}default:return x}}function t(x=(0,c.Map)(),ee){switch(ee.type){case p:{const{loading:J}=ee.payload;return x.setIn(["entities","loading"],J)}case S:{const{accountId:J,data:ie}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ie))}default:return x}}function s(x=(0,c.Map)(),ee){switch(ee.type){case E:{const{accountId:J,data:ie}=ee.payload;return x.setIn(["entities",J],(0,c.fromJS)(ie))}default:return x}}function a(x){return(0,M.p5)((ee,J,ie)=>(ee(o(!0)),ie.slackWorkspace(x).then(v=>{ee(d(x,v.data))}).catch(v=>(ee(d(x,{workspace:void 0})),new m.Z(v))).finally(()=>ee(o(!1)))))}function _(x){return(0,M.p5)((ee,J,ie)=>ie.deleteSlackWorkspace(x).then(()=>ee(a(x))))}function r(x,ee){return(0,M.p5)((J,ie,v)=>{const W=[],oe=async(U,V)=>{const fe=await v.slackChannels(x,{cursor:U,limit:V});W.push(...fe.data.channels);const{next_cursor:re}=fe.data.response_metadata;re?await oe(re,(ee==null?void 0:ee.limit)||1e3):J(l(x,W))};oe("",(ee==null?void 0:ee.limit)||1e3)})}function g(x){return(0,M.p5)((ee,J,ie)=>(ee(i(!0)),ie.slackSubscriptions(x).then(v=>{ee(u(x,v.data))}).finally(()=>ee(i(!1)))))}function I(x,ee){return(0,M.p5)((J,ie,v)=>{const W=ee.id?"editSlackSubscription":"createSlackSubscription";return v[W](x,ee).then(()=>J(g(x)))})}function B(x,ee){return(0,M.p5)((J,ie,v)=>v.deleteSlackSubscription(x,ee).then(()=>J(g(x))))}const q=x=>x.slackWorkspace.getIn(["entities","loading"]),N=(x,ee)=>ee&&x.slackWorkspace.getIn(["entities",ee]),L=x=>x.slackSubscriptions.getIn(["entities","loading"]),k=(x,ee)=>ee&&x.slackSubscriptions.getIn(["entities",ee]),_e=(x,ee)=>ee&&x.slackChannels.getIn(["entities",ee])},28051:(Me,$,e)=>{e.d($,{Vt:()=>M});var c=e(18432),F=e(941),f=e(34571);const m=(0,c.P)("subscriptions"),M=(0,c.x)("subscriptions",m);function D(d){return withApi((i,u,l)=>(i(m.subscriptionsRequest("subscriptions")),l.newSubscription(d).then(n=>i(m.subscriptionSuccess(n.data)))))}function P(d){return withApi((i,u,l)=>(i(m.subscriptionsRequest("subscriptions")),l.cancelSubscription(d.get("id")).then(()=>i(subscriptionCanceled(d)))))}function p(d,i){return withApi((u,l,n)=>{u(m.subscriptionsRequest("subscriptions"));const t={payment_method_id:i};return n.updateSubscription(d,t).then(s=>u(m.subscriptionSuccess(s.data)))})}function S(d){return withApi((i,u,l)=>(i(m.subscriptionsRequest("subscriptions")),l.getSubscriptions(d).then(n=>i(m.subscriptionsSuccess(d,n.data)),n=>i(m.subscriptionsFailure(d,n.message)))))}function E(d,i){const u=d.subscriptions.getIn(["entities"]);return u&&u.find(l=>o(l)&&l.get("type")==="site"&&l.get("site_id")===i)}function o(d){return d.get("state")==="active"||d.get("state")==="past_due"||d.get("zuora_migrated")&&!d.get("zuora_canceled")}},670:(Me,$,e)=>{e.d($,{IP:()=>m,K$:()=>P,XT:()=>E,iH:()=>D});var c=e(18432),F=e(941);const f=(0,c.P)("teamAudits"),m=(0,c.x)("teamAudits",f);function M(o,d){return o.teamAudit.getIn(["entities",d])}function D(o,d){const i=o.teamAudit.getIn(["pages",S(d),"ids"]);return i&&i.map(u=>M(o,u))}function P(o,d){return o.teamAudit.getIn(["pages",S(d)])}function p(o,d){return o.teamAudit.getIn(["pages",S(d),"current"])}function S(o={}){return`${o.accountSlug}${o.search?`-${o.search}`:""}`}function E(o={}){return(0,F.p5)((d,i,u)=>u.teamAudit(o).then(l=>{d(f.teamAuditsSuccess(S(o),l.data,l.pagination))}))}},38751:(Me,$,e)=>{e.d($,{GO:()=>f,IK:()=>F,Kq:()=>P,L9:()=>M,qX:()=>m});var c=e(18643);const F="TRACK",f="IDENTIFY",m="PAGE",M=(0,c.Z)(F,p=>p),D=(0,c.Z)(f,p=>p),P=(0,c.Z)(m,()=>({}))},45988:(Me,$,e)=>{e.d($,{Dk:()=>i,Fz:()=>E,VO:()=>s,af:()=>n,m6:()=>t,rU:()=>p,vj:()=>l});var c=e(90046),F=e.n(c),f=e(18643),m=e(18432),M=e(941);const D="TRAFFICSPLIT_TOGGLE",P=(0,m.P)("trafficSplits"),p=(0,m.x)("trafficSplits",P,{handler:(a,_)=>{switch(_.type){case"TRAFFICSPLIT_SUCCESS":return a.setIn(["entities",_.payload.id],(0,c.fromJS)(_.payload));case D:return a.setIn(["entities",_.payload.splitId,"active"],_.payload.active);default:return null}}});function S(a,_){return a.trafficSplits.getIn(["entities",_])}function E(a,_){const r=a.trafficSplits.getIn(["pages",d(_),"ids"]);return r&&r.map(g=>S(a,g))}const o=(0,f.Z)("TRAFFICSPLIT_TOGGLE",(a,_)=>({splitId:a,active:_}));function d(a){return a&&a.get("id")}function i(a){const _=d(a);return(0,M.p5)((r,g,I)=>I.trafficSplits(_).then(B=>r(P.trafficSplitsSuccess(_,B.data))))}function u(a,_){const r=d(a);return withApi((g,I,B)=>B.trafficSplit(r,_).then(q=>g(P.trafficSplitSuccess(q.data))))}function l(a,_){const r=d(a);return(0,M.p5)((g,I,B)=>B.createTrafficSplit(r,_).then(q=>{g(P.trafficSplitSuccess(q.data)),g(i(a))}))}function n(a,_,r){const g=d(a);return(0,M.p5)((I,B,q)=>q.updateTrafficSplit(g,_,r).then(N=>{I(P.trafficSplitSuccess(N.data))}))}function t(a,_){return(0,M.p5)((r,g,I)=>I.startTrafficSplit(d(a),_).then(B=>{r(o(_,!0)),r(i(a))}))}function s(a,_){return(0,M.p5)((r,g,I)=>I.stopTrafficSplit(d(a),_).then(B=>{r(o(_,!1)),r(i(a))}))}},79954:(Me,$,e)=>{e.d($,{f:()=>c});var c=(F=>(F.all="all",F.nonProduction="non_production",F))(c||{})},93716:(Me,$,e)=>{e.d($,{Ee:()=>t,FY:()=>B,Gh:()=>ie,Ic:()=>_e,Iz:()=>J,Jh:()=>g,K4:()=>q,Qf:()=>N,SP:()=>ee,TW:()=>k,X_:()=>L,_P:()=>s,jS:()=>r,oL:()=>I,qC:()=>_,ui:()=>n});var c=e(90046),F=e.n(c),f=e(19271),m=e(72746),M=e(29660),D=e(941),P=e(34571),p=e(38751);const S="SET_A11Y_MESSAGE",E="SET_LOADING",o="SET_ROUTE_PATH",d="SET_DISPLAY_GUIDED_ONBOARDING",i="SHOW_FIRST_DEPLOY_MODAL",u="SITES_NAV_LIST_SUCCESS",l="LOAD_USER_SHORTCUTS_SUCCESS",n=(v=(0,c.Map)(),W)=>{switch(W.type){case S:return v.setIn(["ui","a11yMessage"],W.message);case E:return v.setIn(["ui","loading"],W.loading);case o:return v.setIn(["ui","routePath"],W.routePath);case d:return v.setIn(["ui","displayGuidedOnboarding"],W.displayGuidedOnboarding);case i:const{show:oe}=W,U=W.data||v.getIn(["ui","firstDeployModal","data"]);return v.setIn(["ui","firstDeployModal"],{show:oe,data:U});case u:return v.setIn(["ui","sitesNavList",W.accountSlug],W.data);case l:return v.setIn(["ui","userShortcuts"],W.userShortcuts);default:return v}},t=v=>W=>{W((0,f.gx)(v)),W((0,p.Kq)())},s=({ui:v})=>v.getIn(["ui","a11yMessage"]),a=({ui:v})=>v.getIn(["ui","loading"]),_=({ui:v})=>v.getIn(["ui","routePath"]),r=({ui:v})=>v.getIn(["ui","displayGuidedOnboarding"]);function g({ui:v},W){return v.getIn(["ui","sitesNavList",W])||(0,c.fromJS)([])}function I({ui:v}){const W=v.getIn(["ui","userShortcuts"]);return W!=null?W:{}}const B=v=>({type:S,message:v}),q=v=>({type:E,loading:v}),N=v=>({type:o,routePath:v}),L=v=>({type:d,displayGuidedOnboarding:v}),k=v=>({type:i,show:!0,data:v}),_e=()=>({type:i,show:!1}),x=({data:v,accountSlug:W})=>({type:u,data:v,accountSlug:W}),ee=()=>v=>{const W=(0,M.oP)();v({type:l,userShortcuts:W})},J=(v,W)=>oe=>{const U=(0,M.oP)();(0,M.qW)(v,W),oe({type:l,userShortcuts:{...U,[v]:(0,m.kb)(W)}})};function ie(v,W){return(0,D.p5)((oe,U,V)=>{const fe=U(),re=g(fe,v),Re=(0,P.lH)(fe,W,!1);if(!re||re.isEmpty()||Re&&!re.find(Y=>(Y==null?void 0:Y.get("name"))===(Re==null?void 0:Re.get("name"))))return V.sites({accountSlug:v}).then(Y=>oe(x({data:(0,c.fromJS)(Y.data),accountSlug:v}))).catch(()=>oe(x((0,c.fromJS)([]))))})}},36083:(Me,$,e)=>{e.d($,{q6:()=>D});var c=e(90046),F=e.n(c),f=e(18643);const m="UPLOAD_LOG",M=(0,f.Z)(m,(p,S)=>({deploy_id:p,log:S,ts:new Date().getTime()}));function D(p=(0,c.Map)(),S){switch(S.type){case m:{const{deploy_id:E,ts:o,log:d}=S.payload,i=p.get(E)||(0,c.List)();return p.setIn([E],i.push((0,c.Map)({ts:o,log:d})))}default:return p}}function P(p,S){return p.uploads.get(S)}},12648:(Me,$,e)=>{e.d($,{Pn:()=>s,aV:()=>_,bF:()=>t,ot:()=>a});var c=e(90046),F=e(18643),f=e(7857),m=e(35037);const M="USER_ANALYTICS_METRIC_SUCCESS",D="USER_ANALYTICS_METRIC_FETCHING_DONE",P="USER_ANALYTICS_METRIC_FETCHING_STARTED",p={resolution:"hour",days:7};let S=7;const E=(0,F.Z)(M,(r,g,I,{data:B})=>({metric:r,siteId:g.get("id"),period:I,data:B})),o=(0,F.Z)(D,(r,g)=>({metric:r,siteId:g.get("id")})),d=(0,F.Z)(P,(r,g)=>({metric:r,siteId:g.get("id")}));let i;function u(r){return(g,I)=>{const{config:B}=I();return i=i||new m.ZP(B),r(g,I,i)}}function l(r="day",g=30){const I=new Date;return{from:(0,f.b7)((0,f.YD)(I,g)).getTime(),to:I.getTime(),resolution:r}}function n(r="day",g=7){return{period:l(r,g),periodByRange:l("range",g)}}function t(r,g,{resolution:I,days:B}=p,q=""){const{period:N}=n(I,B);return S=B,u((L,k,_e)=>Promise.all([L(d(g,r)),_e.realUserMetric(r.get("id"),g,q,N).then(x=>L(E(g,r,N,x)))]).then(()=>L(o(g,r))))}function s(r,g,I){return r.realUserMetrics.get(`${g.get("id")}-${I}`)&&r.realUserMetrics.get(`${g.get("id")}-${I}`).toJS()}function a(){return S}const _=(r=(0,c.Map)(),g)=>{switch(g.type){case P:return r.setIn([`${g.payload.siteId}-${g.payload.metric}`,"isFetching"],!0);case M:return r.set(`${g.payload.siteId}-${g.payload.metric}`,(0,c.fromJS)({data:g.payload.data,timePeriod:{from:g.payload.period.from,to:g.payload.period.to},status:"current"}));case D:return r.setIn([`${g.payload.siteId}-${g.payload.metric}`,"isFetching"],!1);default:return r}}}}]);})();
